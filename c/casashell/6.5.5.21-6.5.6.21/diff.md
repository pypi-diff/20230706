# Comparing `tmp/casashell-6.5.5.21-py3-none-any.whl.zip` & `tmp/casashell-6.5.6.21-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,141 +1,142 @@
-Zip file size: 977354 bytes, number of entries: 139
--rw-r--r--  2.0 unx    25454 b- defN 23-Apr-12 16:00 casashell/LICENSE.txt
--rw-r--r--  2.0 unx    15013 b- defN 23-Apr-12 16:00 casashell/__init__.py
--rw-r--r--  2.0 unx       71 b- defN 23-Apr-12 16:00 casashell/__main__.py
--rw-r--r--  2.0 unx    51873 b- defN 23-Apr-12 16:00 casashell/private/accor.py
--rw-r--r--  2.0 unx    53689 b- defN 23-Apr-12 16:00 casashell/private/apparentsens.py
--rw-r--r--  2.0 unx    51133 b- defN 23-Apr-12 16:00 casashell/private/applycal.py
--rw-r--r--  2.0 unx    10333 b- defN 23-Apr-12 16:00 casashell/private/asdmsummary.py
--rw-r--r--  2.0 unx    76986 b- defN 23-Apr-12 16:00 casashell/private/bandpass.py
--rw-r--r--  2.0 unx    50605 b- defN 23-Apr-12 16:00 casashell/private/blcal.py
--rw-r--r--  2.0 unx     4071 b- defN 23-Apr-12 16:00 casashell/private/builtin_mgr.py
--rw-r--r--  2.0 unx    14139 b- defN 23-Apr-12 16:00 casashell/private/calstat.py
--rw-r--r--  2.0 unx    17697 b- defN 23-Apr-12 16:00 casashell/private/clearcal.py
--rw-r--r--  2.0 unx     8223 b- defN 23-Apr-12 16:00 casashell/private/clearstat.py
--rw-r--r--  2.0 unx    28026 b- defN 23-Apr-12 16:00 casashell/private/concat.py
--rw-r--r--  2.0 unx     2776 b- defN 23-Apr-12 16:00 casashell/private/config.py
--rw-r--r--  2.0 unx    14566 b- defN 23-Apr-12 16:00 casashell/private/conjugatevis.py
--rw-r--r--  2.0 unx    49994 b- defN 23-Apr-12 16:00 casashell/private/cvel.py
--rw-r--r--  2.0 unx    61518 b- defN 23-Apr-12 16:00 casashell/private/cvel2.py
--rw-r--r--  2.0 unx    83247 b- defN 23-Apr-12 16:00 casashell/private/deconvolve.py
--rw-r--r--  2.0 unx    15177 b- defN 23-Apr-12 16:00 casashell/private/delmod.py
--rw-r--r--  2.0 unx    23333 b- defN 23-Apr-12 16:00 casashell/private/exportasdm.py
--rw-r--r--  2.0 unx    26566 b- defN 23-Apr-12 16:00 casashell/private/exportfits.py
--rw-r--r--  2.0 unx    33817 b- defN 23-Apr-12 16:00 casashell/private/exportuvfits.py
--rw-r--r--  2.0 unx    18842 b- defN 23-Apr-12 16:00 casashell/private/feather.py
--rw-r--r--  2.0 unx    19472 b- defN 23-Apr-12 16:00 casashell/private/fixplanets.py
--rw-r--r--  2.0 unx    22689 b- defN 23-Apr-12 16:00 casashell/private/fixvis.py
--rw-r--r--  2.0 unx    43725 b- defN 23-Apr-12 16:00 casashell/private/flagcmd.py
--rw-r--r--  2.0 unx   203826 b- defN 23-Apr-12 16:00 casashell/private/flagdata.py
--rw-r--r--  2.0 unx    19961 b- defN 23-Apr-12 16:00 casashell/private/flagmanager.py
--rw-r--r--  2.0 unx    36902 b- defN 23-Apr-12 16:00 casashell/private/fluxscale.py
--rw-r--r--  2.0 unx    64804 b- defN 23-Apr-12 16:00 casashell/private/fringefit.py
--rw-r--r--  2.0 unx    23711 b- defN 23-Apr-12 16:00 casashell/private/ft.py
--rw-r--r--  2.0 unx    81694 b- defN 23-Apr-12 16:00 casashell/private/gaincal.py
--rw-r--r--  2.0 unx    37293 b- defN 23-Apr-12 16:00 casashell/private/gencal.py
--rw-r--r--  2.0 unx    37539 b- defN 23-Apr-12 16:00 casashell/private/hanningsmooth.py
--rw-r--r--  2.0 unx    54455 b- defN 23-Apr-12 16:00 casashell/private/imbaseline.py
--rw-r--r--  2.0 unx    27448 b- defN 23-Apr-12 16:00 casashell/private/imcollapse.py
--rw-r--r--  2.0 unx    20736 b- defN 23-Apr-12 16:00 casashell/private/imcontsub.py
--rw-r--r--  2.0 unx    41466 b- defN 23-Apr-12 16:00 casashell/private/imdev.py
--rw-r--r--  2.0 unx    62558 b- defN 23-Apr-12 16:00 casashell/private/imfit.py
--rw-r--r--  2.0 unx    20505 b- defN 23-Apr-12 16:00 casashell/private/imhead.py
--rw-r--r--  2.0 unx    17399 b- defN 23-Apr-12 16:00 casashell/private/imhistory.py
--rw-r--r--  2.0 unx    43095 b- defN 23-Apr-12 16:00 casashell/private/immath.py
--rw-r--r--  2.0 unx    29959 b- defN 23-Apr-12 16:00 casashell/private/immoments.py
--rw-r--r--  2.0 unx    27897 b- defN 23-Apr-12 16:00 casashell/private/impbcor.py
--rw-r--r--  2.0 unx    16183 b- defN 23-Apr-12 16:00 casashell/private/importasap.py
--rw-r--r--  2.0 unx    69361 b- defN 23-Apr-12 16:00 casashell/private/importasdm.py
--rw-r--r--  2.0 unx    23816 b- defN 23-Apr-12 16:00 casashell/private/importatca.py
--rw-r--r--  2.0 unx    23698 b- defN 23-Apr-12 16:00 casashell/private/importfits.py
--rw-r--r--  2.0 unx    17736 b- defN 23-Apr-12 16:00 casashell/private/importfitsidi.py
--rw-r--r--  2.0 unx    13264 b- defN 23-Apr-12 16:00 casashell/private/importgmrt.py
--rw-r--r--  2.0 unx    20786 b- defN 23-Apr-12 16:00 casashell/private/importmiriad.py
--rw-r--r--  2.0 unx    14893 b- defN 23-Apr-12 16:00 casashell/private/importnro.py
--rw-r--r--  2.0 unx    13799 b- defN 23-Apr-12 16:00 casashell/private/importuvfits.py
--rw-r--r--  2.0 unx    29365 b- defN 23-Apr-12 16:00 casashell/private/importvla.py
--rw-r--r--  2.0 unx    41884 b- defN 23-Apr-12 16:00 casashell/private/impv.py
--rw-r--r--  2.0 unx    29172 b- defN 23-Apr-12 16:00 casashell/private/imrebin.py
--rw-r--r--  2.0 unx    16881 b- defN 23-Apr-12 16:00 casashell/private/imreframe.py
--rw-r--r--  2.0 unx    42877 b- defN 23-Apr-12 16:00 casashell/private/imregrid.py
--rw-r--r--  2.0 unx    43905 b- defN 23-Apr-12 16:00 casashell/private/imsmooth.py
--rw-r--r--  2.0 unx    56658 b- defN 23-Apr-12 16:00 casashell/private/imstat.py
--rw-r--r--  2.0 unx    29723 b- defN 23-Apr-12 16:00 casashell/private/imsubimage.py
--rw-r--r--  2.0 unx    15458 b- defN 23-Apr-12 16:00 casashell/private/imtrans.py
--rw-r--r--  2.0 unx    19859 b- defN 23-Apr-12 16:00 casashell/private/imval.py
--rw-r--r--  2.0 unx      169 b- defN 23-Apr-12 16:00 casashell/private/init_begin_startup.py
--rw-r--r--  2.0 unx    12535 b- defN 23-Apr-12 16:00 casashell/private/init_doc.py
--rw-r--r--  2.0 unx      455 b- defN 23-Apr-12 16:00 casashell/private/init_pipeline.py
--rw-r--r--  2.0 unx     4037 b- defN 23-Apr-12 16:00 casashell/private/init_subparam.py
--rw-r--r--  2.0 unx     8588 b- defN 23-Apr-12 16:00 casashell/private/init_system.py
--rw-r--r--  2.0 unx     1027 b- defN 23-Apr-12 16:00 casashell/private/init_welcome.py
--rw-r--r--  2.0 unx    23833 b- defN 23-Apr-12 16:00 casashell/private/initweights.py
--rw-r--r--  2.0 unx    30598 b- defN 23-Apr-12 16:00 casashell/private/listcal.py
--rw-r--r--  2.0 unx    10182 b- defN 23-Apr-12 16:00 casashell/private/listfits.py
--rw-r--r--  2.0 unx    10144 b- defN 23-Apr-12 16:00 casashell/private/listhistory.py
--rw-r--r--  2.0 unx    42804 b- defN 23-Apr-12 16:00 casashell/private/listobs.py
--rw-r--r--  2.0 unx    15480 b- defN 23-Apr-12 16:00 casashell/private/listpartition.py
--rw-r--r--  2.0 unx    10997 b- defN 23-Apr-12 16:00 casashell/private/listsdm.py
--rw-r--r--  2.0 unx    42532 b- defN 23-Apr-12 16:00 casashell/private/listvis.py
--rw-r--r--  2.0 unx     9815 b- defN 23-Apr-12 16:00 casashell/private/load_tasks.py
--rw-r--r--  2.0 unx     2900 b- defN 23-Apr-12 16:00 casashell/private/load_tools.py
--rw-r--r--  2.0 unx    31139 b- defN 23-Apr-12 16:00 casashell/private/makemask.py
--rw-r--r--  2.0 unx   125346 b- defN 23-Apr-12 16:00 casashell/private/mstransform.py
--rw-r--r--  2.0 unx    23226 b- defN 23-Apr-12 16:00 casashell/private/nrobeamaverage.py
--rw-r--r--  2.0 unx    51167 b- defN 23-Apr-12 16:00 casashell/private/partition.py
--rw-r--r--  2.0 unx    28062 b- defN 23-Apr-12 16:00 casashell/private/phaseshift.py
--rw-r--r--  2.0 unx    21437 b- defN 23-Apr-12 16:00 casashell/private/plotants.py
--rw-r--r--  2.0 unx    94703 b- defN 23-Apr-12 16:00 casashell/private/plotbandpass.py
--rw-r--r--  2.0 unx    42230 b- defN 23-Apr-12 16:00 casashell/private/plotprofilemap.py
--rw-r--r--  2.0 unx    15096 b- defN 23-Apr-12 16:00 casashell/private/plotweather.py
--rw-r--r--  2.0 unx    60884 b- defN 23-Apr-12 16:00 casashell/private/polcal.py
--rw-r--r--  2.0 unx    14525 b- defN 23-Apr-12 16:00 casashell/private/polfromgain.py
--rw-r--r--  2.0 unx    33063 b- defN 23-Apr-12 16:00 casashell/private/predictcomp.py
--rw-r--r--  2.0 unx    16231 b- defN 23-Apr-12 16:00 casashell/private/rerefant.py
--rw-r--r--  2.0 unx    29004 b- defN 23-Apr-12 16:00 casashell/private/rmfit.py
--rw-r--r--  2.0 unx    10257 b- defN 23-Apr-12 16:00 casashell/private/rmtables.py
--rw-r--r--  2.0 unx    65536 b- defN 23-Apr-12 16:00 casashell/private/sdatmcor.py
--rw-r--r--  2.0 unx    88767 b- defN 23-Apr-12 16:00 casashell/private/sdbaseline.py
--rw-r--r--  2.0 unx    49062 b- defN 23-Apr-12 16:00 casashell/private/sdcal.py
--rw-r--r--  2.0 unx    47597 b- defN 23-Apr-12 16:00 casashell/private/sdfit.py
--rw-r--r--  2.0 unx    30087 b- defN 23-Apr-12 16:00 casashell/private/sdfixscan.py
--rw-r--r--  2.0 unx    36372 b- defN 23-Apr-12 16:00 casashell/private/sdgaincal.py
--rw-r--r--  2.0 unx    72810 b- defN 23-Apr-12 16:00 casashell/private/sdimaging.py
--rw-r--r--  2.0 unx   269089 b- defN 23-Apr-12 16:00 casashell/private/sdintimaging.py
--rw-r--r--  2.0 unx    25933 b- defN 23-Apr-12 16:00 casashell/private/sdpolaverage.py
--rw-r--r--  2.0 unx    25664 b- defN 23-Apr-12 16:00 casashell/private/sdsidebandsplit.py
--rw-r--r--  2.0 unx    31843 b- defN 23-Apr-12 16:00 casashell/private/sdsmooth.py
--rw-r--r--  2.0 unx    25450 b- defN 23-Apr-12 16:00 casashell/private/sdtimeaverage.py
--rw-r--r--  2.0 unx    64130 b- defN 23-Apr-12 16:00 casashell/private/setjy.py
--rw-r--r--  2.0 unx    64611 b- defN 23-Apr-12 16:00 casashell/private/simalma.py
--rw-r--r--  2.0 unx    68690 b- defN 23-Apr-12 16:00 casashell/private/simanalyze.py
--rw-r--r--  2.0 unx    83187 b- defN 23-Apr-12 16:00 casashell/private/simobserve.py
--rw-r--r--  2.0 unx    36583 b- defN 23-Apr-12 16:00 casashell/private/slsearch.py
--rw-r--r--  2.0 unx    18114 b- defN 23-Apr-12 16:00 casashell/private/smoothcal.py
--rw-r--r--  2.0 unx   111355 b- defN 23-Apr-12 16:00 casashell/private/specfit.py
--rw-r--r--  2.0 unx    31134 b- defN 23-Apr-12 16:00 casashell/private/specflux.py
--rw-r--r--  2.0 unx    35647 b- defN 23-Apr-12 16:00 casashell/private/specsmooth.py
--rw-r--r--  2.0 unx    11933 b- defN 23-Apr-12 16:00 casashell/private/splattotable.py
--rw-r--r--  2.0 unx    47103 b- defN 23-Apr-12 16:00 casashell/private/split.py
--rw-r--r--  2.0 unx    58278 b- defN 23-Apr-12 16:00 casashell/private/spxfit.py
--rw-r--r--  2.0 unx      869 b- defN 23-Apr-12 16:00 casashell/private/stack_manip.py
--rw-r--r--  2.0 unx    60345 b- defN 23-Apr-12 16:00 casashell/private/statwt.py
--rw-r--r--  2.0 unx   296231 b- defN 23-Apr-12 16:00 casashell/private/tclean.py
--rw-r--r--  2.0 unx    17250 b- defN 23-Apr-12 16:00 casashell/private/testconcat.py
--rw-r--r--  2.0 unx    76425 b- defN 23-Apr-12 16:00 casashell/private/tsdimaging.py
--rw-r--r--  2.0 unx     1851 b- defN 23-Apr-12 16:00 casashell/private/userconfig.py
--rw-r--r--  2.0 unx    34651 b- defN 23-Apr-12 16:00 casashell/private/uvcontsub.py
--rw-r--r--  2.0 unx    26294 b- defN 23-Apr-12 16:00 casashell/private/uvcontsub_old.py
--rw-r--r--  2.0 unx    33350 b- defN 23-Apr-12 16:00 casashell/private/uvmodelfit.py
--rw-r--r--  2.0 unx    12415 b- defN 23-Apr-12 16:00 casashell/private/uvsub.py
--rw-r--r--  2.0 unx    24791 b- defN 23-Apr-12 16:00 casashell/private/virtualconcat.py
--rw-r--r--  2.0 unx    19793 b- defN 23-Apr-12 16:00 casashell/private/vishead.py
--rw-r--r--  2.0 unx    54956 b- defN 23-Apr-12 16:00 casashell/private/visstat.py
--rw-r--r--  2.0 unx    32353 b- defN 23-Apr-12 16:00 casashell/private/widebandpbcor.py
--rw-r--r--  2.0 unx     2133 b- defN 23-Apr-12 16:00 casashell/private/ttconfig/casataskrc.py
--rw-r--r--  2.0 unx     1880 b- defN 23-Apr-12 16:00 casashell/private/ttconfig/casatoolrc.py
--rw-r--r--  2.0 unx      710 b- defN 23-Apr-12 16:00 casashell-6.5.5.21.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-12 16:00 casashell-6.5.5.21.dist-info/WHEEL
--rw-r--r--  2.0 unx       10 b- defN 23-Apr-12 16:00 casashell-6.5.5.21.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    12164 b- defN 23-Apr-12 16:00 casashell-6.5.5.21.dist-info/RECORD
-139 files, 5143605 bytes uncompressed, 958408 bytes compressed:  81.4%
+Zip file size: 1010671 bytes, number of entries: 140
+-rw-r--r--  2.0 unx    25454 b- defN 23-Jun-29 17:13 casashell/LICENSE.txt
+-rw-r--r--  2.0 unx    15013 b- defN 23-Jun-29 17:13 casashell/__init__.py
+-rw-r--r--  2.0 unx       71 b- defN 23-Jun-29 17:13 casashell/__main__.py
+-rw-r--r--  2.0 unx    53151 b- defN 23-Jun-29 17:13 casashell/private/accor.py
+-rw-r--r--  2.0 unx    54829 b- defN 23-Jun-29 17:13 casashell/private/apparentsens.py
+-rw-r--r--  2.0 unx    52413 b- defN 23-Jun-29 17:13 casashell/private/applycal.py
+-rw-r--r--  2.0 unx    10733 b- defN 23-Jun-29 17:13 casashell/private/asdmsummary.py
+-rw-r--r--  2.0 unx    78898 b- defN 23-Jun-29 17:13 casashell/private/bandpass.py
+-rw-r--r--  2.0 unx    51917 b- defN 23-Jun-29 17:13 casashell/private/blcal.py
+-rw-r--r--  2.0 unx     4071 b- defN 23-Jun-29 16:41 casashell/private/builtin_mgr.py
+-rw-r--r--  2.0 unx    14627 b- defN 23-Jun-29 17:13 casashell/private/calstat.py
+-rw-r--r--  2.0 unx    18253 b- defN 23-Jun-29 17:13 casashell/private/clearcal.py
+-rw-r--r--  2.0 unx     8583 b- defN 23-Jun-29 17:13 casashell/private/clearstat.py
+-rw-r--r--  2.0 unx    28830 b- defN 23-Jun-29 17:13 casashell/private/concat.py
+-rw-r--r--  2.0 unx     2776 b- defN 23-Jun-29 16:41 casashell/private/config.py
+-rw-r--r--  2.0 unx    15106 b- defN 23-Jun-29 17:13 casashell/private/conjugatevis.py
+-rw-r--r--  2.0 unx    51212 b- defN 23-Jun-29 17:13 casashell/private/cvel.py
+-rw-r--r--  2.0 unx    63010 b- defN 23-Jun-29 17:13 casashell/private/cvel2.py
+-rw-r--r--  2.0 unx    84973 b- defN 23-Jun-29 17:13 casashell/private/deconvolve.py
+-rw-r--r--  2.0 unx    15677 b- defN 23-Jun-29 17:13 casashell/private/delmod.py
+-rw-r--r--  2.0 unx    24115 b- defN 23-Jun-29 17:13 casashell/private/exportasdm.py
+-rw-r--r--  2.0 unx    27474 b- defN 23-Jun-29 17:13 casashell/private/exportfits.py
+-rw-r--r--  2.0 unx    34791 b- defN 23-Jun-29 17:13 casashell/private/exportuvfits.py
+-rw-r--r--  2.0 unx    19488 b- defN 23-Jun-29 17:13 casashell/private/feather.py
+-rw-r--r--  2.0 unx    20084 b- defN 23-Jun-29 17:13 casashell/private/fixplanets.py
+-rw-r--r--  2.0 unx    23399 b- defN 23-Jun-29 17:13 casashell/private/fixvis.py
+-rw-r--r--  2.0 unx    44787 b- defN 23-Jun-29 17:13 casashell/private/flagcmd.py
+-rw-r--r--  2.0 unx   207748 b- defN 23-Jun-29 17:13 casashell/private/flagdata.py
+-rw-r--r--  2.0 unx    20577 b- defN 23-Jun-29 17:13 casashell/private/flagmanager.py
+-rw-r--r--  2.0 unx    37948 b- defN 23-Jun-29 17:13 casashell/private/fluxscale.py
+-rw-r--r--  2.0 unx    66650 b- defN 23-Jun-29 17:13 casashell/private/fringefit.py
+-rw-r--r--  2.0 unx    24441 b- defN 23-Jun-29 17:13 casashell/private/ft.py
+-rw-r--r--  2.0 unx    83752 b- defN 23-Jun-29 17:13 casashell/private/gaincal.py
+-rw-r--r--  2.0 unx    38211 b- defN 23-Jun-29 17:13 casashell/private/gencal.py
+-rw-r--r--  2.0 unx    38557 b- defN 23-Jun-29 17:13 casashell/private/hanningsmooth.py
+-rw-r--r--  2.0 unx    56039 b- defN 23-Jun-29 17:13 casashell/private/imbaseline.py
+-rw-r--r--  2.0 unx    28274 b- defN 23-Jun-29 17:13 casashell/private/imcollapse.py
+-rw-r--r--  2.0 unx    21440 b- defN 23-Jun-29 17:13 casashell/private/imcontsub.py
+-rw-r--r--  2.0 unx    42584 b- defN 23-Jun-29 17:13 casashell/private/imdev.py
+-rw-r--r--  2.0 unx    63924 b- defN 23-Jun-29 17:13 casashell/private/imfit.py
+-rw-r--r--  2.0 unx    21071 b- defN 23-Jun-29 17:13 casashell/private/imhead.py
+-rw-r--r--  2.0 unx    17973 b- defN 23-Jun-29 17:13 casashell/private/imhistory.py
+-rw-r--r--  2.0 unx    44075 b- defN 23-Jun-29 17:13 casashell/private/immath.py
+-rw-r--r--  2.0 unx    30833 b- defN 23-Jun-29 17:13 casashell/private/immoments.py
+-rw-r--r--  2.0 unx    28757 b- defN 23-Jun-29 17:13 casashell/private/impbcor.py
+-rw-r--r--  2.0 unx    16777 b- defN 23-Jun-29 17:13 casashell/private/importasap.py
+-rw-r--r--  2.0 unx    71249 b- defN 23-Jun-29 17:13 casashell/private/importasdm.py
+-rw-r--r--  2.0 unx    24544 b- defN 23-Jun-29 17:13 casashell/private/importatca.py
+-rw-r--r--  2.0 unx    24498 b- defN 23-Jun-29 17:13 casashell/private/importfits.py
+-rw-r--r--  2.0 unx    18350 b- defN 23-Jun-29 17:13 casashell/private/importfitsidi.py
+-rw-r--r--  2.0 unx    13752 b- defN 23-Jun-29 17:13 casashell/private/importgmrt.py
+-rw-r--r--  2.0 unx    21462 b- defN 23-Jun-29 17:13 casashell/private/importmiriad.py
+-rw-r--r--  2.0 unx    15435 b- defN 23-Jun-29 17:13 casashell/private/importnro.py
+-rw-r--r--  2.0 unx    14301 b- defN 23-Jun-29 17:13 casashell/private/importuvfits.py
+-rw-r--r--  2.0 unx    30299 b- defN 23-Jun-29 17:13 casashell/private/importvla.py
+-rw-r--r--  2.0 unx    42888 b- defN 23-Jun-29 17:13 casashell/private/impv.py
+-rw-r--r--  2.0 unx    30032 b- defN 23-Jun-29 17:13 casashell/private/imrebin.py
+-rw-r--r--  2.0 unx    17461 b- defN 23-Jun-29 17:13 casashell/private/imreframe.py
+-rw-r--r--  2.0 unx    43695 b- defN 23-Jun-29 17:13 casashell/private/imregrid.py
+-rw-r--r--  2.0 unx    44967 b- defN 23-Jun-29 17:13 casashell/private/imsmooth.py
+-rw-r--r--  2.0 unx    57852 b- defN 23-Jun-29 17:13 casashell/private/imstat.py
+-rw-r--r--  2.0 unx    30599 b- defN 23-Jun-29 17:13 casashell/private/imsubimage.py
+-rw-r--r--  2.0 unx    15944 b- defN 23-Jun-29 17:13 casashell/private/imtrans.py
+-rw-r--r--  2.0 unx    20417 b- defN 23-Jun-29 17:13 casashell/private/imval.py
+-rw-r--r--  2.0 unx      169 b- defN 23-Jun-29 16:41 casashell/private/init_begin_startup.py
+-rw-r--r--  2.0 unx    12535 b- defN 23-Jun-29 16:41 casashell/private/init_doc.py
+-rw-r--r--  2.0 unx      455 b- defN 23-Jun-29 16:41 casashell/private/init_pipeline.py
+-rw-r--r--  2.0 unx     4037 b- defN 23-Jun-29 16:41 casashell/private/init_subparam.py
+-rw-r--r--  2.0 unx     8588 b- defN 23-Jun-29 16:41 casashell/private/init_system.py
+-rw-r--r--  2.0 unx     1027 b- defN 23-Jun-29 16:41 casashell/private/init_welcome.py
+-rw-r--r--  2.0 unx    24495 b- defN 23-Jun-29 17:13 casashell/private/initweights.py
+-rw-r--r--  2.0 unx    31246 b- defN 23-Jun-29 17:13 casashell/private/listcal.py
+-rw-r--r--  2.0 unx    10584 b- defN 23-Jun-29 17:13 casashell/private/listfits.py
+-rw-r--r--  2.0 unx    10542 b- defN 23-Jun-29 17:13 casashell/private/listhistory.py
+-rw-r--r--  2.0 unx    43950 b- defN 23-Jun-29 17:13 casashell/private/listobs.py
+-rw-r--r--  2.0 unx    15978 b- defN 23-Jun-29 17:13 casashell/private/listpartition.py
+-rw-r--r--  2.0 unx    11387 b- defN 23-Jun-29 17:13 casashell/private/listsdm.py
+-rw-r--r--  2.0 unx    43682 b- defN 23-Jun-29 17:13 casashell/private/listvis.py
+-rw-r--r--  2.0 unx     9889 b- defN 23-Jun-29 17:13 casashell/private/load_tasks.py
+-rw-r--r--  2.0 unx     2900 b- defN 23-Jun-29 17:13 casashell/private/load_tools.py
+-rw-r--r--  2.0 unx    31805 b- defN 23-Jun-29 17:13 casashell/private/makemask.py
+-rw-r--r--  2.0 unx   128280 b- defN 23-Jun-29 17:13 casashell/private/mstransform.py
+-rw-r--r--  2.0 unx    36266 b- defN 23-Jun-29 17:13 casashell/private/msuvbin.py
+-rw-r--r--  2.0 unx    23974 b- defN 23-Jun-29 17:13 casashell/private/nrobeamaverage.py
+-rw-r--r--  2.0 unx    52479 b- defN 23-Jun-29 17:13 casashell/private/partition.py
+-rw-r--r--  2.0 unx    28900 b- defN 23-Jun-29 17:13 casashell/private/phaseshift.py
+-rw-r--r--  2.0 unx    22147 b- defN 23-Jun-29 17:13 casashell/private/plotants.py
+-rw-r--r--  2.0 unx    97387 b- defN 23-Jun-29 17:13 casashell/private/plotbandpass.py
+-rw-r--r--  2.0 unx    43566 b- defN 23-Jun-29 17:13 casashell/private/plotprofilemap.py
+-rw-r--r--  2.0 unx    15642 b- defN 23-Jun-29 17:13 casashell/private/plotweather.py
+-rw-r--r--  2.0 unx    62418 b- defN 23-Jun-29 17:13 casashell/private/polcal.py
+-rw-r--r--  2.0 unx    15059 b- defN 23-Jun-29 17:13 casashell/private/polfromgain.py
+-rw-r--r--  2.0 unx    34103 b- defN 23-Jun-29 17:13 casashell/private/predictcomp.py
+-rw-r--r--  2.0 unx    16805 b- defN 23-Jun-29 17:13 casashell/private/rerefant.py
+-rw-r--r--  2.0 unx    29800 b- defN 23-Jun-29 17:13 casashell/private/rmfit.py
+-rw-r--r--  2.0 unx    10663 b- defN 23-Jun-29 17:13 casashell/private/rmtables.py
+-rw-r--r--  2.0 unx    67198 b- defN 23-Jun-29 17:13 casashell/private/sdatmcor.py
+-rw-r--r--  2.0 unx    90821 b- defN 23-Jun-29 17:13 casashell/private/sdbaseline.py
+-rw-r--r--  2.0 unx    50052 b- defN 23-Jun-29 17:13 casashell/private/sdcal.py
+-rw-r--r--  2.0 unx    48855 b- defN 23-Jun-29 17:13 casashell/private/sdfit.py
+-rw-r--r--  2.0 unx    30931 b- defN 23-Jun-29 17:13 casashell/private/sdfixscan.py
+-rw-r--r--  2.0 unx    37326 b- defN 23-Jun-29 17:13 casashell/private/sdgaincal.py
+-rw-r--r--  2.0 unx    74578 b- defN 23-Jun-29 17:13 casashell/private/sdimaging.py
+-rw-r--r--  2.0 unx   273693 b- defN 23-Jun-29 17:13 casashell/private/sdintimaging.py
+-rw-r--r--  2.0 unx    26731 b- defN 23-Jun-29 17:13 casashell/private/sdpolaverage.py
+-rw-r--r--  2.0 unx    26510 b- defN 23-Jun-29 17:13 casashell/private/sdsidebandsplit.py
+-rw-r--r--  2.0 unx    32795 b- defN 23-Jun-29 17:13 casashell/private/sdsmooth.py
+-rw-r--r--  2.0 unx    26248 b- defN 23-Jun-29 17:13 casashell/private/sdtimeaverage.py
+-rw-r--r--  2.0 unx    65524 b- defN 23-Jun-29 17:13 casashell/private/setjy.py
+-rw-r--r--  2.0 unx    66329 b- defN 23-Jun-29 17:13 casashell/private/simalma.py
+-rw-r--r--  2.0 unx    70530 b- defN 23-Jun-29 17:13 casashell/private/simanalyze.py
+-rw-r--r--  2.0 unx    85183 b- defN 23-Jun-29 17:13 casashell/private/simobserve.py
+-rw-r--r--  2.0 unx    37667 b- defN 23-Jun-29 17:13 casashell/private/slsearch.py
+-rw-r--r--  2.0 unx    18738 b- defN 23-Jun-29 17:13 casashell/private/smoothcal.py
+-rw-r--r--  2.0 unx   113725 b- defN 23-Jun-29 17:13 casashell/private/specfit.py
+-rw-r--r--  2.0 unx    32036 b- defN 23-Jun-29 17:13 casashell/private/specflux.py
+-rw-r--r--  2.0 unx    36557 b- defN 23-Jun-29 17:13 casashell/private/specsmooth.py
+-rw-r--r--  2.0 unx    12385 b- defN 23-Jun-29 17:13 casashell/private/splattotable.py
+-rw-r--r--  2.0 unx    48281 b- defN 23-Jun-29 17:13 casashell/private/split.py
+-rw-r--r--  2.0 unx    59652 b- defN 23-Jun-29 17:13 casashell/private/spxfit.py
+-rw-r--r--  2.0 unx      869 b- defN 23-Jun-29 16:41 casashell/private/stack_manip.py
+-rw-r--r--  2.0 unx    61797 b- defN 23-Jun-29 17:13 casashell/private/statwt.py
+-rw-r--r--  2.0 unx   301009 b- defN 23-Jun-29 17:13 casashell/private/tclean.py
+-rw-r--r--  2.0 unx    17842 b- defN 23-Jun-29 17:13 casashell/private/testconcat.py
+-rw-r--r--  2.0 unx    78183 b- defN 23-Jun-29 17:13 casashell/private/tsdimaging.py
+-rw-r--r--  2.0 unx     1851 b- defN 23-Jun-29 16:41 casashell/private/userconfig.py
+-rw-r--r--  2.0 unx    35579 b- defN 23-Jun-29 17:13 casashell/private/uvcontsub.py
+-rw-r--r--  2.0 unx    27048 b- defN 23-Jun-29 17:13 casashell/private/uvcontsub_old.py
+-rw-r--r--  2.0 unx    34314 b- defN 23-Jun-29 17:13 casashell/private/uvmodelfit.py
+-rw-r--r--  2.0 unx    12845 b- defN 23-Jun-29 17:13 casashell/private/uvsub.py
+-rw-r--r--  2.0 unx    25537 b- defN 23-Jun-29 17:13 casashell/private/virtualconcat.py
+-rw-r--r--  2.0 unx    20397 b- defN 23-Jun-29 17:13 casashell/private/vishead.py
+-rw-r--r--  2.0 unx    56490 b- defN 23-Jun-29 17:13 casashell/private/visstat.py
+-rw-r--r--  2.0 unx    33199 b- defN 23-Jun-29 17:13 casashell/private/widebandpbcor.py
+-rw-r--r--  2.0 unx     2133 b- defN 23-Jun-29 16:41 casashell/private/ttconfig/casataskrc.py
+-rw-r--r--  2.0 unx     1880 b- defN 23-Jun-29 16:41 casashell/private/ttconfig/casatoolrc.py
+-rw-r--r--  2.0 unx      690 b- defN 23-Jun-29 17:13 casashell-6.5.6.21.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-29 17:13 casashell-6.5.6.21.dist-info/WHEEL
+-rw-r--r--  2.0 unx       10 b- defN 23-Jun-29 17:13 casashell-6.5.6.21.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    12250 b- defN 23-Jun-29 17:13 casashell-6.5.6.21.dist-info/RECORD
+140 files, 5308229 bytes uncompressed, 991593 bytes compressed:  81.3%
```

## zipnote {}

```diff
@@ -240,14 +240,17 @@
 
 Filename: casashell/private/makemask.py
 Comment: 
 
 Filename: casashell/private/mstransform.py
 Comment: 
 
+Filename: casashell/private/msuvbin.py
+Comment: 
+
 Filename: casashell/private/nrobeamaverage.py
 Comment: 
 
 Filename: casashell/private/partition.py
 Comment: 
 
 Filename: casashell/private/phaseshift.py
@@ -399,20 +402,20 @@
 
 Filename: casashell/private/ttconfig/casataskrc.py
 Comment: 
 
 Filename: casashell/private/ttconfig/casatoolrc.py
 Comment: 
 
-Filename: casashell-6.5.5.21.dist-info/METADATA
+Filename: casashell-6.5.6.21.dist-info/METADATA
 Comment: 
 
-Filename: casashell-6.5.5.21.dist-info/WHEEL
+Filename: casashell-6.5.6.21.dist-info/WHEEL
 Comment: 
 
-Filename: casashell-6.5.5.21.dist-info/top_level.txt
+Filename: casashell-6.5.6.21.dist-info/top_level.txt
 Comment: 
 
-Filename: casashell-6.5.5.21.dist-info/RECORD
+Filename: casashell-6.5.6.21.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## casashell/__init__.py

```diff
@@ -4,16 +4,16 @@
 from traitlets.config.loader import Config
 
 __name__ = 'casashell'
 __all__ = [ "start_casa", "argv", "flags", "version", "version_string", "extra_task_modules" ]
 
 extra_task_modules = [ ]
 
-def version( ): return [ 6, 5, 5,21 ]
-def version_string( ): return "6.5.5.21"
+def version( ): return [ 6, 5, 6,21 ]
+def version_string( ): return "6.5.6.21"
 
 argv = _sys.argv
 
 flags = [ ]
 
 def __init_config(config,flags,args):
     if flags.datapath is not None:
```

## casashell/private/accor.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_accor import accor as _accor_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -861,15 +863,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('accor.pre')
         _postfile = os.path.realpath('accor.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,caltable,field,spw,intent,selectdata,timerange,antenna,scan,observation,msselect,solint,combine,corrdepflags,append,docallib,callib,gaintable,gainfield,interp,spwmap]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -940,24 +942,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _accor_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['corrdepflags'],_pc.document['append'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'accor', [ 'vis=' + repr(_pc.document['vis']), 'caltable=' + repr(_pc.document['caltable']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'msselect=' + repr(_pc.document['msselect']), 'solint=' + repr(_pc.document['solint']), 'combine=' + repr(_pc.document['combine']), 'corrdepflags=' + repr(_pc.document['corrdepflags']), 'append=' + repr(_pc.document['append']), 'docallib=' + repr(_pc.document['docallib']), 'callib=' + repr(_pc.document['callib']), 'gaintable=' + repr(_pc.document['gaintable']), 'gainfield=' + repr(_pc.document['gainfield']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']) ] )
+            task_result = _accor_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['corrdepflags'],_pc.document['append'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('accor')
             casalog.post("Exception Reported: Error in accor: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'accor', task_result )
+        return task_result
 
 accor = _accor( )
```

## casashell/private/apparentsens.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_apparentsens import apparentsens as _apparentsens_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -816,15 +818,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('apparentsens.pre')
         _postfile = os.path.realpath('apparentsens.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,field,spw,intent,selectdata,timerange,uvrange,antenna,scan,observation,imsize,cell,stokes,specmode,weighting,robust,npixels,uvtaper]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -885,24 +887,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _apparentsens_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['imsize'],_pc.document['cell'],_pc.document['stokes'],_pc.document['specmode'],_pc.document['weighting'],_pc.document['robust'],_pc.document['npixels'],_pc.document['uvtaper'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'apparentsens', [ 'vis=' + repr(_pc.document['vis']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'imsize=' + repr(_pc.document['imsize']), 'cell=' + repr(_pc.document['cell']), 'stokes=' + repr(_pc.document['stokes']), 'specmode=' + repr(_pc.document['specmode']), 'weighting=' + repr(_pc.document['weighting']), 'robust=' + repr(_pc.document['robust']), 'npixels=' + repr(_pc.document['npixels']), 'uvtaper=' + repr(_pc.document['uvtaper']) ] )
+            task_result = _apparentsens_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['imsize'],_pc.document['cell'],_pc.document['stokes'],_pc.document['specmode'],_pc.document['weighting'],_pc.document['robust'],_pc.document['npixels'],_pc.document['uvtaper'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('apparentsens')
             casalog.post("Exception Reported: Error in apparentsens: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'apparentsens', task_result )
+        return task_result
 
 apparentsens = _apparentsens( )
```

## casashell/private/applycal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_applycal import applycal as _applycal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -852,15 +854,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('applycal.pre')
         _postfile = os.path.realpath('applycal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,field,spw,intent,selectdata,timerange,uvrange,antenna,scan,observation,msselect,docallib,callib,gaintable,gainfield,interp,spwmap,calwt,parang,applymode,flagbackup]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -929,24 +931,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _applycal_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['calwt'],_pc.document['parang'],_pc.document['applymode'],_pc.document['flagbackup'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'applycal', [ 'vis=' + repr(_pc.document['vis']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'msselect=' + repr(_pc.document['msselect']), 'docallib=' + repr(_pc.document['docallib']), 'callib=' + repr(_pc.document['callib']), 'gaintable=' + repr(_pc.document['gaintable']), 'gainfield=' + repr(_pc.document['gainfield']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']), 'calwt=' + repr(_pc.document['calwt']), 'parang=' + repr(_pc.document['parang']), 'applymode=' + repr(_pc.document['applymode']), 'flagbackup=' + repr(_pc.document['flagbackup']) ] )
+            task_result = _applycal_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['calwt'],_pc.document['parang'],_pc.document['applymode'],_pc.document['flagbackup'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('applycal')
             casalog.post("Exception Reported: Error in applycal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'applycal', task_result )
+        return task_result
 
 applycal = _applycal( )
```

## casashell/private/asdmsummary.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_asdmsummary import asdmsummary as _asdmsummary_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -205,15 +207,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('asdmsummary.pre')
         _postfile = os.path.realpath('asdmsummary.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [asdm]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if asdm is not None: local_global['asdm'] = asdm
@@ -235,24 +237,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _asdmsummary_t( _pc.document['asdm'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'asdmsummary', [ 'asdm=' + repr(_pc.document['asdm']) ] )
+            task_result = _asdmsummary_t( _pc.document['asdm'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('asdmsummary')
             casalog.post("Exception Reported: Error in asdmsummary: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'asdmsummary', task_result )
+        return task_result
 
 asdmsummary = _asdmsummary( )
```

## casashell/private/bandpass.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_bandpass import bandpass as _bandpass_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1255,15 +1257,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('bandpass.pre')
         _postfile = os.path.realpath('bandpass.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,caltable,field,spw,intent,selectdata,timerange,uvrange,antenna,scan,observation,msselect,solint,combine,refant,minblperant,minsnr,solnorm,bandtype,smodel,corrdepflags,append,fillgaps,degamp,degphase,visnorm,maskcenter,maskedge,docallib,callib,gaintable,gainfield,interp,spwmap,parang]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -1369,24 +1371,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _bandpass_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['refant'],_pc.document['minblperant'],_pc.document['minsnr'],_pc.document['solnorm'],_pc.document['bandtype'],_pc.document['smodel'],_pc.document['corrdepflags'],_pc.document['append'],_pc.document['fillgaps'],_pc.document['degamp'],_pc.document['degphase'],_pc.document['visnorm'],_pc.document['maskcenter'],_pc.document['maskedge'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['parang'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'bandpass', [ 'vis=' + repr(_pc.document['vis']), 'caltable=' + repr(_pc.document['caltable']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'msselect=' + repr(_pc.document['msselect']), 'solint=' + repr(_pc.document['solint']), 'combine=' + repr(_pc.document['combine']), 'refant=' + repr(_pc.document['refant']), 'minblperant=' + repr(_pc.document['minblperant']), 'minsnr=' + repr(_pc.document['minsnr']), 'solnorm=' + repr(_pc.document['solnorm']), 'bandtype=' + repr(_pc.document['bandtype']), 'smodel=' + repr(_pc.document['smodel']), 'corrdepflags=' + repr(_pc.document['corrdepflags']), 'append=' + repr(_pc.document['append']), 'fillgaps=' + repr(_pc.document['fillgaps']), 'degamp=' + repr(_pc.document['degamp']), 'degphase=' + repr(_pc.document['degphase']), 'visnorm=' + repr(_pc.document['visnorm']), 'maskcenter=' + repr(_pc.document['maskcenter']), 'maskedge=' + repr(_pc.document['maskedge']), 'docallib=' + repr(_pc.document['docallib']), 'callib=' + repr(_pc.document['callib']), 'gaintable=' + repr(_pc.document['gaintable']), 'gainfield=' + repr(_pc.document['gainfield']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']), 'parang=' + repr(_pc.document['parang']) ] )
+            task_result = _bandpass_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['refant'],_pc.document['minblperant'],_pc.document['minsnr'],_pc.document['solnorm'],_pc.document['bandtype'],_pc.document['smodel'],_pc.document['corrdepflags'],_pc.document['append'],_pc.document['fillgaps'],_pc.document['degamp'],_pc.document['degphase'],_pc.document['visnorm'],_pc.document['maskcenter'],_pc.document['maskedge'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['parang'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('bandpass')
             casalog.post("Exception Reported: Error in bandpass: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'bandpass', task_result )
+        return task_result
 
 bandpass = _bandpass( )
```

## casashell/private/blcal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_blcal import blcal as _blcal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -849,15 +851,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('blcal.pre')
         _postfile = os.path.realpath('blcal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,caltable,field,spw,intent,selectdata,timerange,uvrange,antenna,scan,observation,msselect,solint,combine,freqdep,calmode,solnorm,gaintable,gainfield,interp,spwmap,parang]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -935,24 +937,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _blcal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['freqdep'],_pc.document['calmode'],_pc.document['solnorm'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['parang'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'blcal', [ 'vis=' + repr(_pc.document['vis']), 'caltable=' + repr(_pc.document['caltable']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'msselect=' + repr(_pc.document['msselect']), 'solint=' + repr(_pc.document['solint']), 'combine=' + repr(_pc.document['combine']), 'freqdep=' + repr(_pc.document['freqdep']), 'calmode=' + repr(_pc.document['calmode']), 'solnorm=' + repr(_pc.document['solnorm']), 'gaintable=' + repr(_pc.document['gaintable']), 'gainfield=' + repr(_pc.document['gainfield']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']), 'parang=' + repr(_pc.document['parang']) ] )
+            task_result = _blcal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['freqdep'],_pc.document['calmode'],_pc.document['solnorm'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['parang'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('blcal')
             casalog.post("Exception Reported: Error in blcal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'blcal', task_result )
+        return task_result
 
 blcal = _blcal( )
```

## casashell/private/calstat.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_calstat import calstat as _calstat_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -261,15 +263,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('calstat.pre')
         _postfile = os.path.realpath('calstat.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [caltable,axis,datacolumn]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if caltable is not None: local_global['caltable'] = caltable
@@ -295,24 +297,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _calstat_t( _pc.document['caltable'],_pc.document['axis'],_pc.document['datacolumn'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'calstat', [ 'caltable=' + repr(_pc.document['caltable']), 'axis=' + repr(_pc.document['axis']), 'datacolumn=' + repr(_pc.document['datacolumn']) ] )
+            task_result = _calstat_t( _pc.document['caltable'],_pc.document['axis'],_pc.document['datacolumn'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('calstat')
             casalog.post("Exception Reported: Error in calstat: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'calstat', task_result )
+        return task_result
 
 calstat = _calstat( )
```

## casashell/private/clearcal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_clearcal import clearcal as _clearcal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -338,15 +340,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('clearcal.pre')
         _postfile = os.path.realpath('clearcal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,field,spw,intent,addmodel]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -380,24 +382,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _clearcal_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['addmodel'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'clearcal', [ 'vis=' + repr(_pc.document['vis']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'addmodel=' + repr(_pc.document['addmodel']) ] )
+            task_result = _clearcal_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['addmodel'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('clearcal')
             casalog.post("Exception Reported: Error in clearcal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'clearcal', task_result )
+        return task_result
 
 clearcal = _clearcal( )
```

## casashell/private/clearstat.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_clearstat import clearstat as _clearstat_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -180,15 +182,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('clearstat.pre')
         _postfile = os.path.realpath('clearstat.last')
-        _return_result_ = None
+        task_result = None
         _arguments = []
         _invocation_parameters = OrderedDict( )
         
         try:
             with open(_prefile,'w') as _f:
                 for _i in _invocation_parameters:
                     _f.write("%-3s = %s\n" % (_i,noobj(repr(_invocation_parameters[_i]))))
@@ -196,24 +198,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _clearstat_t(  )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'clearstat', [  ] )
+            task_result = _clearstat_t(  )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('clearstat')
             casalog.post("Exception Reported: Error in clearstat: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'clearstat', task_result )
+        return task_result
 
 clearstat = _clearstat( )
```

## casashell/private/concat.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_concat import concat as _concat_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -463,15 +465,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('concat.pre')
         _postfile = os.path.realpath('concat.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,concatvis,freqtol,dirtol,respectname,timesort,copypointing,visweightscale,forcesingleephemfield]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -517,24 +519,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _concat_t( _pc.document['vis'],_pc.document['concatvis'],_pc.document['freqtol'],_pc.document['dirtol'],_pc.document['respectname'],_pc.document['timesort'],_pc.document['copypointing'],_pc.document['visweightscale'],_pc.document['forcesingleephemfield'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'concat', [ 'vis=' + repr(_pc.document['vis']), 'concatvis=' + repr(_pc.document['concatvis']), 'freqtol=' + repr(_pc.document['freqtol']), 'dirtol=' + repr(_pc.document['dirtol']), 'respectname=' + repr(_pc.document['respectname']), 'timesort=' + repr(_pc.document['timesort']), 'copypointing=' + repr(_pc.document['copypointing']), 'visweightscale=' + repr(_pc.document['visweightscale']), 'forcesingleephemfield=' + repr(_pc.document['forcesingleephemfield']) ] )
+            task_result = _concat_t( _pc.document['vis'],_pc.document['concatvis'],_pc.document['freqtol'],_pc.document['dirtol'],_pc.document['respectname'],_pc.document['timesort'],_pc.document['copypointing'],_pc.document['visweightscale'],_pc.document['forcesingleephemfield'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('concat')
             casalog.post("Exception Reported: Error in concat: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'concat', task_result )
+        return task_result
 
 concat = _concat( )
```

## casashell/private/conjugatevis.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_conjugatevis import conjugatevis as _conjugatevis_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -271,15 +273,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('conjugatevis.pre')
         _postfile = os.path.realpath('conjugatevis.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,spwlist,outputvis,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -310,24 +312,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _conjugatevis_t( _pc.document['vis'],_pc.document['spwlist'],_pc.document['outputvis'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'conjugatevis', [ 'vis=' + repr(_pc.document['vis']), 'spwlist=' + repr(_pc.document['spwlist']), 'outputvis=' + repr(_pc.document['outputvis']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _conjugatevis_t( _pc.document['vis'],_pc.document['spwlist'],_pc.document['outputvis'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('conjugatevis')
             casalog.post("Exception Reported: Error in conjugatevis: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'conjugatevis', task_result )
+        return task_result
 
 conjugatevis = _conjugatevis( )
```

## casashell/private/cvel.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_cvel import cvel as _cvel_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -820,15 +822,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('cvel.pre')
         _postfile = os.path.realpath('cvel.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,outputvis,passall,field,spw,selectdata,antenna,timerange,scan,array,mode,nchan,start,width,interpolation,phasecenter,restfreq,outframe,veltype,hanning]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -898,24 +900,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _cvel_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['passall'],_pc.document['field'],_pc.document['spw'],_pc.document['selectdata'],_pc.document['antenna'],_pc.document['timerange'],_pc.document['scan'],_pc.document['array'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['interpolation'],_pc.document['phasecenter'],_pc.document['restfreq'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['hanning'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'cvel', [ 'vis=' + repr(_pc.document['vis']), 'outputvis=' + repr(_pc.document['outputvis']), 'passall=' + repr(_pc.document['passall']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'selectdata=' + repr(_pc.document['selectdata']), 'antenna=' + repr(_pc.document['antenna']), 'timerange=' + repr(_pc.document['timerange']), 'scan=' + repr(_pc.document['scan']), 'array=' + repr(_pc.document['array']), 'mode=' + repr(_pc.document['mode']), 'nchan=' + repr(_pc.document['nchan']), 'start=' + repr(_pc.document['start']), 'width=' + repr(_pc.document['width']), 'interpolation=' + repr(_pc.document['interpolation']), 'phasecenter=' + repr(_pc.document['phasecenter']), 'restfreq=' + repr(_pc.document['restfreq']), 'outframe=' + repr(_pc.document['outframe']), 'veltype=' + repr(_pc.document['veltype']), 'hanning=' + repr(_pc.document['hanning']) ] )
+            task_result = _cvel_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['passall'],_pc.document['field'],_pc.document['spw'],_pc.document['selectdata'],_pc.document['antenna'],_pc.document['timerange'],_pc.document['scan'],_pc.document['array'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['interpolation'],_pc.document['phasecenter'],_pc.document['restfreq'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['hanning'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('cvel')
             casalog.post("Exception Reported: Error in cvel: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'cvel', task_result )
+        return task_result
 
 cvel = _cvel( )
```

## casashell/private/cvel2.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_cvel2 import cvel2 as _cvel2_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -989,15 +991,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('cvel2.pre')
         _postfile = os.path.realpath('cvel2.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,outputvis,keepmms,passall,field,spw,scan,antenna,correlation,timerange,intent,array,uvrange,observation,feed,datacolumn,mode,nchan,start,width,interpolation,phasecenter,restfreq,outframe,veltype,hanning]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -1088,24 +1090,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _cvel2_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['keepmms'],_pc.document['passall'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['datacolumn'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['interpolation'],_pc.document['phasecenter'],_pc.document['restfreq'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['hanning'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'cvel2', [ 'vis=' + repr(_pc.document['vis']), 'outputvis=' + repr(_pc.document['outputvis']), 'keepmms=' + repr(_pc.document['keepmms']), 'passall=' + repr(_pc.document['passall']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'antenna=' + repr(_pc.document['antenna']), 'correlation=' + repr(_pc.document['correlation']), 'timerange=' + repr(_pc.document['timerange']), 'intent=' + repr(_pc.document['intent']), 'array=' + repr(_pc.document['array']), 'uvrange=' + repr(_pc.document['uvrange']), 'observation=' + repr(_pc.document['observation']), 'feed=' + repr(_pc.document['feed']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'mode=' + repr(_pc.document['mode']), 'nchan=' + repr(_pc.document['nchan']), 'start=' + repr(_pc.document['start']), 'width=' + repr(_pc.document['width']), 'interpolation=' + repr(_pc.document['interpolation']), 'phasecenter=' + repr(_pc.document['phasecenter']), 'restfreq=' + repr(_pc.document['restfreq']), 'outframe=' + repr(_pc.document['outframe']), 'veltype=' + repr(_pc.document['veltype']), 'hanning=' + repr(_pc.document['hanning']) ] )
+            task_result = _cvel2_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['keepmms'],_pc.document['passall'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['datacolumn'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['interpolation'],_pc.document['phasecenter'],_pc.document['restfreq'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['hanning'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('cvel2')
             casalog.post("Exception Reported: Error in cvel2: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'cvel2', task_result )
+        return task_result
 
 cvel2 = _cvel2( )
```

## casashell/private/deconvolve.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_deconvolve import deconvolve as _deconvolve_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1182,15 +1184,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('deconvolve.pre')
         _postfile = os.path.realpath('deconvolve.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,startmodel,deconvolver,scales,smallscalebias,restoration,restoringbeam,niter,gain,threshold,nsigma,interactive,fullsummary,fastnoise,usemask,mask,pbmask,sidelobethreshold,noisethreshold,lownoisethreshold,negativethreshold,smoothfactor,minbeamfrac,cutthreshold,growiterations,dogrowprune,verbose]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -1270,24 +1272,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _deconvolve_t( _pc.document['imagename'],_pc.document['startmodel'],_pc.document['deconvolver'],_pc.document['scales'],_pc.document['smallscalebias'],_pc.document['restoration'],_pc.document['restoringbeam'],_pc.document['niter'],_pc.document['gain'],_pc.document['threshold'],_pc.document['nsigma'],_pc.document['interactive'],_pc.document['fullsummary'],_pc.document['fastnoise'],_pc.document['usemask'],_pc.document['mask'],_pc.document['pbmask'],_pc.document['sidelobethreshold'],_pc.document['noisethreshold'],_pc.document['lownoisethreshold'],_pc.document['negativethreshold'],_pc.document['smoothfactor'],_pc.document['minbeamfrac'],_pc.document['cutthreshold'],_pc.document['growiterations'],_pc.document['dogrowprune'],_pc.document['verbose'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'deconvolve', [ 'imagename=' + repr(_pc.document['imagename']), 'startmodel=' + repr(_pc.document['startmodel']), 'deconvolver=' + repr(_pc.document['deconvolver']), 'scales=' + repr(_pc.document['scales']), 'smallscalebias=' + repr(_pc.document['smallscalebias']), 'restoration=' + repr(_pc.document['restoration']), 'restoringbeam=' + repr(_pc.document['restoringbeam']), 'niter=' + repr(_pc.document['niter']), 'gain=' + repr(_pc.document['gain']), 'threshold=' + repr(_pc.document['threshold']), 'nsigma=' + repr(_pc.document['nsigma']), 'interactive=' + repr(_pc.document['interactive']), 'fullsummary=' + repr(_pc.document['fullsummary']), 'fastnoise=' + repr(_pc.document['fastnoise']), 'usemask=' + repr(_pc.document['usemask']), 'mask=' + repr(_pc.document['mask']), 'pbmask=' + repr(_pc.document['pbmask']), 'sidelobethreshold=' + repr(_pc.document['sidelobethreshold']), 'noisethreshold=' + repr(_pc.document['noisethreshold']), 'lownoisethreshold=' + repr(_pc.document['lownoisethreshold']), 'negativethreshold=' + repr(_pc.document['negativethreshold']), 'smoothfactor=' + repr(_pc.document['smoothfactor']), 'minbeamfrac=' + repr(_pc.document['minbeamfrac']), 'cutthreshold=' + repr(_pc.document['cutthreshold']), 'growiterations=' + repr(_pc.document['growiterations']), 'dogrowprune=' + repr(_pc.document['dogrowprune']), 'verbose=' + repr(_pc.document['verbose']) ] )
+            task_result = _deconvolve_t( _pc.document['imagename'],_pc.document['startmodel'],_pc.document['deconvolver'],_pc.document['scales'],_pc.document['smallscalebias'],_pc.document['restoration'],_pc.document['restoringbeam'],_pc.document['niter'],_pc.document['gain'],_pc.document['threshold'],_pc.document['nsigma'],_pc.document['interactive'],_pc.document['fullsummary'],_pc.document['fastnoise'],_pc.document['usemask'],_pc.document['mask'],_pc.document['pbmask'],_pc.document['sidelobethreshold'],_pc.document['noisethreshold'],_pc.document['lownoisethreshold'],_pc.document['negativethreshold'],_pc.document['smoothfactor'],_pc.document['minbeamfrac'],_pc.document['cutthreshold'],_pc.document['growiterations'],_pc.document['dogrowprune'],_pc.document['verbose'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('deconvolve')
             casalog.post("Exception Reported: Error in deconvolve: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'deconvolve', task_result )
+        return task_result
 
 deconvolve = _deconvolve( )
```

## casashell/private/delmod.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_delmod import delmod as _delmod_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -289,15 +291,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('delmod.pre')
         _postfile = os.path.realpath('delmod.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,otf,field,scr]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -326,24 +328,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _delmod_t( _pc.document['vis'],_pc.document['otf'],_pc.document['field'],_pc.document['scr'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'delmod', [ 'vis=' + repr(_pc.document['vis']), 'otf=' + repr(_pc.document['otf']), 'field=' + repr(_pc.document['field']), 'scr=' + repr(_pc.document['scr']) ] )
+            task_result = _delmod_t( _pc.document['vis'],_pc.document['otf'],_pc.document['field'],_pc.document['scr'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('delmod')
             casalog.post("Exception Reported: Error in delmod: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'delmod', task_result )
+        return task_result
 
 delmod = _delmod( )
```

## casashell/private/exportasdm.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_exportasdm import exportasdm as _exportasdm_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -399,15 +401,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('exportasdm.pre')
         _postfile = os.path.realpath('exportasdm.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,asdm,datacolumn,archiveid,rangeid,subscanduration,sbduration,apcorrected,verbose]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -453,24 +455,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _exportasdm_t( _pc.document['vis'],_pc.document['asdm'],_pc.document['datacolumn'],_pc.document['archiveid'],_pc.document['rangeid'],_pc.document['subscanduration'],_pc.document['sbduration'],_pc.document['apcorrected'],_pc.document['verbose'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'exportasdm', [ 'vis=' + repr(_pc.document['vis']), 'asdm=' + repr(_pc.document['asdm']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'archiveid=' + repr(_pc.document['archiveid']), 'rangeid=' + repr(_pc.document['rangeid']), 'subscanduration=' + repr(_pc.document['subscanduration']), 'sbduration=' + repr(_pc.document['sbduration']), 'apcorrected=' + repr(_pc.document['apcorrected']), 'verbose=' + repr(_pc.document['verbose']) ] )
+            task_result = _exportasdm_t( _pc.document['vis'],_pc.document['asdm'],_pc.document['datacolumn'],_pc.document['archiveid'],_pc.document['rangeid'],_pc.document['subscanduration'],_pc.document['sbduration'],_pc.document['apcorrected'],_pc.document['verbose'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('exportasdm')
             casalog.post("Exception Reported: Error in exportasdm: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'exportasdm', task_result )
+        return task_result
 
 exportasdm = _exportasdm( )
```

## casashell/private/exportfits.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_exportfits import exportfits as _exportfits_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -453,15 +455,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('exportfits.pre')
         _postfile = os.path.realpath('exportfits.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,fitsimage,velocity,optical,bitpix,minpix,maxpix,overwrite,dropstokes,stokeslast,history,dropdeg]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -516,24 +518,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _exportfits_t( _pc.document['imagename'],_pc.document['fitsimage'],_pc.document['velocity'],_pc.document['optical'],_pc.document['bitpix'],_pc.document['minpix'],_pc.document['maxpix'],_pc.document['overwrite'],_pc.document['dropstokes'],_pc.document['stokeslast'],_pc.document['history'],_pc.document['dropdeg'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'exportfits', [ 'imagename=' + repr(_pc.document['imagename']), 'fitsimage=' + repr(_pc.document['fitsimage']), 'velocity=' + repr(_pc.document['velocity']), 'optical=' + repr(_pc.document['optical']), 'bitpix=' + repr(_pc.document['bitpix']), 'minpix=' + repr(_pc.document['minpix']), 'maxpix=' + repr(_pc.document['maxpix']), 'overwrite=' + repr(_pc.document['overwrite']), 'dropstokes=' + repr(_pc.document['dropstokes']), 'stokeslast=' + repr(_pc.document['stokeslast']), 'history=' + repr(_pc.document['history']), 'dropdeg=' + repr(_pc.document['dropdeg']) ] )
+            task_result = _exportfits_t( _pc.document['imagename'],_pc.document['fitsimage'],_pc.document['velocity'],_pc.document['optical'],_pc.document['bitpix'],_pc.document['minpix'],_pc.document['maxpix'],_pc.document['overwrite'],_pc.document['dropstokes'],_pc.document['stokeslast'],_pc.document['history'],_pc.document['dropdeg'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('exportfits')
             casalog.post("Exception Reported: Error in exportfits: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'exportfits', task_result )
+        return task_result
 
 exportfits = _exportfits( )
```

## casashell/private/exportuvfits.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_exportuvfits import exportuvfits as _exportuvfits_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -573,15 +575,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('exportuvfits.pre')
         _postfile = os.path.realpath('exportuvfits.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,fitsfile,datacolumn,field,spw,antenna,timerange,writesyscal,multisource,combinespw,writestation,padwithflags,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -637,24 +639,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _exportuvfits_t( _pc.document['vis'],_pc.document['fitsfile'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['antenna'],_pc.document['timerange'],_pc.document['writesyscal'],_pc.document['multisource'],_pc.document['combinespw'],_pc.document['writestation'],_pc.document['padwithflags'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'exportuvfits', [ 'vis=' + repr(_pc.document['vis']), 'fitsfile=' + repr(_pc.document['fitsfile']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'antenna=' + repr(_pc.document['antenna']), 'timerange=' + repr(_pc.document['timerange']), 'writesyscal=' + repr(_pc.document['writesyscal']), 'multisource=' + repr(_pc.document['multisource']), 'combinespw=' + repr(_pc.document['combinespw']), 'writestation=' + repr(_pc.document['writestation']), 'padwithflags=' + repr(_pc.document['padwithflags']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _exportuvfits_t( _pc.document['vis'],_pc.document['fitsfile'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['antenna'],_pc.document['timerange'],_pc.document['writesyscal'],_pc.document['multisource'],_pc.document['combinespw'],_pc.document['writestation'],_pc.document['padwithflags'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('exportuvfits')
             casalog.post("Exception Reported: Error in exportuvfits: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'exportuvfits', task_result )
+        return task_result
 
 exportuvfits = _exportuvfits( )
```

## casashell/private/feather.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_feather import feather as _feather_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -333,15 +335,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('feather.pre')
         _postfile = os.path.realpath('feather.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,highres,lowres,sdfactor,effdishdiam,lowpassfiltersd]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -378,24 +380,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _feather_t( _pc.document['imagename'],_pc.document['highres'],_pc.document['lowres'],_pc.document['sdfactor'],_pc.document['effdishdiam'],_pc.document['lowpassfiltersd'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'feather', [ 'imagename=' + repr(_pc.document['imagename']), 'highres=' + repr(_pc.document['highres']), 'lowres=' + repr(_pc.document['lowres']), 'sdfactor=' + repr(_pc.document['sdfactor']), 'effdishdiam=' + repr(_pc.document['effdishdiam']), 'lowpassfiltersd=' + repr(_pc.document['lowpassfiltersd']) ] )
+            task_result = _feather_t( _pc.document['imagename'],_pc.document['highres'],_pc.document['lowres'],_pc.document['sdfactor'],_pc.document['effdishdiam'],_pc.document['lowpassfiltersd'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('feather')
             casalog.post("Exception Reported: Error in feather: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'feather', task_result )
+        return task_result
 
 feather = _feather( )
```

## casashell/private/fixplanets.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_fixplanets import fixplanets as _fixplanets_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -357,15 +359,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('fixplanets.pre')
         _postfile = os.path.realpath('fixplanets.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,field,fixuvw,direction,refant,reftime]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -402,24 +404,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _fixplanets_t( _pc.document['vis'],_pc.document['field'],_pc.document['fixuvw'],_pc.document['direction'],_pc.document['refant'],_pc.document['reftime'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'fixplanets', [ 'vis=' + repr(_pc.document['vis']), 'field=' + repr(_pc.document['field']), 'fixuvw=' + repr(_pc.document['fixuvw']), 'direction=' + repr(_pc.document['direction']), 'refant=' + repr(_pc.document['refant']), 'reftime=' + repr(_pc.document['reftime']) ] )
+            task_result = _fixplanets_t( _pc.document['vis'],_pc.document['field'],_pc.document['fixuvw'],_pc.document['direction'],_pc.document['refant'],_pc.document['reftime'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('fixplanets')
             casalog.post("Exception Reported: Error in fixplanets: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'fixplanets', task_result )
+        return task_result
 
 fixplanets = _fixplanets( )
```

## casashell/private/fixvis.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_fixvis import fixvis as _fixvis_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -408,15 +410,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('fixvis.pre')
         _postfile = os.path.realpath('fixvis.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,outputvis,field,refcode,reuse,phasecenter,distances,datacolumn]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -459,24 +461,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _fixvis_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['field'],_pc.document['refcode'],_pc.document['reuse'],_pc.document['phasecenter'],_pc.document['distances'],_pc.document['datacolumn'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'fixvis', [ 'vis=' + repr(_pc.document['vis']), 'outputvis=' + repr(_pc.document['outputvis']), 'field=' + repr(_pc.document['field']), 'refcode=' + repr(_pc.document['refcode']), 'reuse=' + repr(_pc.document['reuse']), 'phasecenter=' + repr(_pc.document['phasecenter']), 'distances=' + repr(_pc.document['distances']), 'datacolumn=' + repr(_pc.document['datacolumn']) ] )
+            task_result = _fixvis_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['field'],_pc.document['refcode'],_pc.document['reuse'],_pc.document['phasecenter'],_pc.document['distances'],_pc.document['datacolumn'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('fixvis')
             casalog.post("Exception Reported: Error in fixvis: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'fixvis', task_result )
+        return task_result
 
 fixvis = _fixvis( )
```

## casashell/private/flagcmd.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_flagcmd import flagcmd as _flagcmd_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -731,15 +733,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('flagcmd.pre')
         _postfile = os.path.realpath('flagcmd.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,inpmode,inpfile,tablerows,reason,useapplied,tbuff,ants,action,flagbackup,clearall,rowlist,plotfile,savepars,outfile,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -793,24 +795,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _flagcmd_t( _pc.document['vis'],_pc.document['inpmode'],_pc.document['inpfile'],_pc.document['tablerows'],_pc.document['reason'],_pc.document['useapplied'],_pc.document['tbuff'],_pc.document['ants'],_pc.document['action'],_pc.document['flagbackup'],_pc.document['clearall'],_pc.document['rowlist'],_pc.document['plotfile'],_pc.document['savepars'],_pc.document['outfile'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'flagcmd', [ 'vis=' + repr(_pc.document['vis']), 'inpmode=' + repr(_pc.document['inpmode']), 'inpfile=' + repr(_pc.document['inpfile']), 'tablerows=' + repr(_pc.document['tablerows']), 'reason=' + repr(_pc.document['reason']), 'useapplied=' + repr(_pc.document['useapplied']), 'tbuff=' + repr(_pc.document['tbuff']), 'ants=' + repr(_pc.document['ants']), 'action=' + repr(_pc.document['action']), 'flagbackup=' + repr(_pc.document['flagbackup']), 'clearall=' + repr(_pc.document['clearall']), 'rowlist=' + repr(_pc.document['rowlist']), 'plotfile=' + repr(_pc.document['plotfile']), 'savepars=' + repr(_pc.document['savepars']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _flagcmd_t( _pc.document['vis'],_pc.document['inpmode'],_pc.document['inpfile'],_pc.document['tablerows'],_pc.document['reason'],_pc.document['useapplied'],_pc.document['tbuff'],_pc.document['ants'],_pc.document['action'],_pc.document['flagbackup'],_pc.document['clearall'],_pc.document['rowlist'],_pc.document['plotfile'],_pc.document['savepars'],_pc.document['outfile'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('flagcmd')
             casalog.post("Exception Reported: Error in flagcmd: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'flagcmd', task_result )
+        return task_result
 
 flagcmd = _flagcmd( )
```

## casashell/private/flagdata.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_flagdata import flagdata as _flagdata_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -3057,15 +3059,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('flagdata.pre')
         _postfile = os.path.realpath('flagdata.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,mode,autocorr,inpfile,reason,tbuff,spw,field,antenna,uvrange,timerange,correlation,scan,intent,array,observation,feed,clipminmax,datacolumn,clipoutside,channelavg,chanbin,timeavg,timebin,clipzeros,quackinterval,quackmode,quackincrement,tolerance,addantenna,lowerlimit,upperlimit,ntime,combinescans,timecutoff,freqcutoff,timefit,freqfit,maxnpieces,flagdimension,usewindowstats,halfwin,extendflags,winsize,timedev,freqdev,timedevscale,freqdevscale,spectralmax,spectralmin,antint_ref_antenna,minchanfrac,verbose,extendpols,growtime,growfreq,growaround,flagneartime,flagnearfreq,minrel,maxrel,minabs,maxabs,spwchan,spwcorr,basecnt,fieldcnt,name,action,display,flagbackup,savepars,cmdreason,outfile,overwrite,writeflags]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -3239,24 +3241,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _flagdata_t( _pc.document['vis'],_pc.document['mode'],_pc.document['autocorr'],_pc.document['inpfile'],_pc.document['reason'],_pc.document['tbuff'],_pc.document['spw'],_pc.document['field'],_pc.document['antenna'],_pc.document['uvrange'],_pc.document['timerange'],_pc.document['correlation'],_pc.document['scan'],_pc.document['intent'],_pc.document['array'],_pc.document['observation'],_pc.document['feed'],_pc.document['clipminmax'],_pc.document['datacolumn'],_pc.document['clipoutside'],_pc.document['channelavg'],_pc.document['chanbin'],_pc.document['timeavg'],_pc.document['timebin'],_pc.document['clipzeros'],_pc.document['quackinterval'],_pc.document['quackmode'],_pc.document['quackincrement'],_pc.document['tolerance'],_pc.document['addantenna'],_pc.document['lowerlimit'],_pc.document['upperlimit'],_pc.document['ntime'],_pc.document['combinescans'],_pc.document['timecutoff'],_pc.document['freqcutoff'],_pc.document['timefit'],_pc.document['freqfit'],_pc.document['maxnpieces'],_pc.document['flagdimension'],_pc.document['usewindowstats'],_pc.document['halfwin'],_pc.document['extendflags'],_pc.document['winsize'],_pc.document['timedev'],_pc.document['freqdev'],_pc.document['timedevscale'],_pc.document['freqdevscale'],_pc.document['spectralmax'],_pc.document['spectralmin'],_pc.document['antint_ref_antenna'],_pc.document['minchanfrac'],_pc.document['verbose'],_pc.document['extendpols'],_pc.document['growtime'],_pc.document['growfreq'],_pc.document['growaround'],_pc.document['flagneartime'],_pc.document['flagnearfreq'],_pc.document['minrel'],_pc.document['maxrel'],_pc.document['minabs'],_pc.document['maxabs'],_pc.document['spwchan'],_pc.document['spwcorr'],_pc.document['basecnt'],_pc.document['fieldcnt'],_pc.document['name'],_pc.document['action'],_pc.document['display'],_pc.document['flagbackup'],_pc.document['savepars'],_pc.document['cmdreason'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['writeflags'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'flagdata', [ 'vis=' + repr(_pc.document['vis']), 'mode=' + repr(_pc.document['mode']), 'autocorr=' + repr(_pc.document['autocorr']), 'inpfile=' + repr(_pc.document['inpfile']), 'reason=' + repr(_pc.document['reason']), 'tbuff=' + repr(_pc.document['tbuff']), 'spw=' + repr(_pc.document['spw']), 'field=' + repr(_pc.document['field']), 'antenna=' + repr(_pc.document['antenna']), 'uvrange=' + repr(_pc.document['uvrange']), 'timerange=' + repr(_pc.document['timerange']), 'correlation=' + repr(_pc.document['correlation']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']), 'array=' + repr(_pc.document['array']), 'observation=' + repr(_pc.document['observation']), 'feed=' + repr(_pc.document['feed']), 'clipminmax=' + repr(_pc.document['clipminmax']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'clipoutside=' + repr(_pc.document['clipoutside']), 'channelavg=' + repr(_pc.document['channelavg']), 'chanbin=' + repr(_pc.document['chanbin']), 'timeavg=' + repr(_pc.document['timeavg']), 'timebin=' + repr(_pc.document['timebin']), 'clipzeros=' + repr(_pc.document['clipzeros']), 'quackinterval=' + repr(_pc.document['quackinterval']), 'quackmode=' + repr(_pc.document['quackmode']), 'quackincrement=' + repr(_pc.document['quackincrement']), 'tolerance=' + repr(_pc.document['tolerance']), 'addantenna=' + repr(_pc.document['addantenna']), 'lowerlimit=' + repr(_pc.document['lowerlimit']), 'upperlimit=' + repr(_pc.document['upperlimit']), 'ntime=' + repr(_pc.document['ntime']), 'combinescans=' + repr(_pc.document['combinescans']), 'timecutoff=' + repr(_pc.document['timecutoff']), 'freqcutoff=' + repr(_pc.document['freqcutoff']), 'timefit=' + repr(_pc.document['timefit']), 'freqfit=' + repr(_pc.document['freqfit']), 'maxnpieces=' + repr(_pc.document['maxnpieces']), 'flagdimension=' + repr(_pc.document['flagdimension']), 'usewindowstats=' + repr(_pc.document['usewindowstats']), 'halfwin=' + repr(_pc.document['halfwin']), 'extendflags=' + repr(_pc.document['extendflags']), 'winsize=' + repr(_pc.document['winsize']), 'timedev=' + repr(_pc.document['timedev']), 'freqdev=' + repr(_pc.document['freqdev']), 'timedevscale=' + repr(_pc.document['timedevscale']), 'freqdevscale=' + repr(_pc.document['freqdevscale']), 'spectralmax=' + repr(_pc.document['spectralmax']), 'spectralmin=' + repr(_pc.document['spectralmin']), 'antint_ref_antenna=' + repr(_pc.document['antint_ref_antenna']), 'minchanfrac=' + repr(_pc.document['minchanfrac']), 'verbose=' + repr(_pc.document['verbose']), 'extendpols=' + repr(_pc.document['extendpols']), 'growtime=' + repr(_pc.document['growtime']), 'growfreq=' + repr(_pc.document['growfreq']), 'growaround=' + repr(_pc.document['growaround']), 'flagneartime=' + repr(_pc.document['flagneartime']), 'flagnearfreq=' + repr(_pc.document['flagnearfreq']), 'minrel=' + repr(_pc.document['minrel']), 'maxrel=' + repr(_pc.document['maxrel']), 'minabs=' + repr(_pc.document['minabs']), 'maxabs=' + repr(_pc.document['maxabs']), 'spwchan=' + repr(_pc.document['spwchan']), 'spwcorr=' + repr(_pc.document['spwcorr']), 'basecnt=' + repr(_pc.document['basecnt']), 'fieldcnt=' + repr(_pc.document['fieldcnt']), 'name=' + repr(_pc.document['name']), 'action=' + repr(_pc.document['action']), 'display=' + repr(_pc.document['display']), 'flagbackup=' + repr(_pc.document['flagbackup']), 'savepars=' + repr(_pc.document['savepars']), 'cmdreason=' + repr(_pc.document['cmdreason']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']), 'writeflags=' + repr(_pc.document['writeflags']) ] )
+            task_result = _flagdata_t( _pc.document['vis'],_pc.document['mode'],_pc.document['autocorr'],_pc.document['inpfile'],_pc.document['reason'],_pc.document['tbuff'],_pc.document['spw'],_pc.document['field'],_pc.document['antenna'],_pc.document['uvrange'],_pc.document['timerange'],_pc.document['correlation'],_pc.document['scan'],_pc.document['intent'],_pc.document['array'],_pc.document['observation'],_pc.document['feed'],_pc.document['clipminmax'],_pc.document['datacolumn'],_pc.document['clipoutside'],_pc.document['channelavg'],_pc.document['chanbin'],_pc.document['timeavg'],_pc.document['timebin'],_pc.document['clipzeros'],_pc.document['quackinterval'],_pc.document['quackmode'],_pc.document['quackincrement'],_pc.document['tolerance'],_pc.document['addantenna'],_pc.document['lowerlimit'],_pc.document['upperlimit'],_pc.document['ntime'],_pc.document['combinescans'],_pc.document['timecutoff'],_pc.document['freqcutoff'],_pc.document['timefit'],_pc.document['freqfit'],_pc.document['maxnpieces'],_pc.document['flagdimension'],_pc.document['usewindowstats'],_pc.document['halfwin'],_pc.document['extendflags'],_pc.document['winsize'],_pc.document['timedev'],_pc.document['freqdev'],_pc.document['timedevscale'],_pc.document['freqdevscale'],_pc.document['spectralmax'],_pc.document['spectralmin'],_pc.document['antint_ref_antenna'],_pc.document['minchanfrac'],_pc.document['verbose'],_pc.document['extendpols'],_pc.document['growtime'],_pc.document['growfreq'],_pc.document['growaround'],_pc.document['flagneartime'],_pc.document['flagnearfreq'],_pc.document['minrel'],_pc.document['maxrel'],_pc.document['minabs'],_pc.document['maxabs'],_pc.document['spwchan'],_pc.document['spwcorr'],_pc.document['basecnt'],_pc.document['fieldcnt'],_pc.document['name'],_pc.document['action'],_pc.document['display'],_pc.document['flagbackup'],_pc.document['savepars'],_pc.document['cmdreason'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['writeflags'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('flagdata')
             casalog.post("Exception Reported: Error in flagdata: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'flagdata', task_result )
+        return task_result
 
 flagdata = _flagdata( )
```

## casashell/private/flagmanager.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_flagmanager import flagmanager as _flagmanager_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -358,15 +360,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('flagmanager.pre')
         _postfile = os.path.realpath('flagmanager.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,mode,versionname,oldname,comment,merge]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -398,24 +400,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _flagmanager_t( _pc.document['vis'],_pc.document['mode'],_pc.document['versionname'],_pc.document['oldname'],_pc.document['comment'],_pc.document['merge'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'flagmanager', [ 'vis=' + repr(_pc.document['vis']), 'mode=' + repr(_pc.document['mode']), 'versionname=' + repr(_pc.document['versionname']), 'oldname=' + repr(_pc.document['oldname']), 'comment=' + repr(_pc.document['comment']), 'merge=' + repr(_pc.document['merge']) ] )
+            task_result = _flagmanager_t( _pc.document['vis'],_pc.document['mode'],_pc.document['versionname'],_pc.document['oldname'],_pc.document['comment'],_pc.document['merge'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('flagmanager')
             casalog.post("Exception Reported: Error in flagmanager: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'flagmanager', task_result )
+        return task_result
 
 flagmanager = _flagmanager( )
```

## casashell/private/fluxscale.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_fluxscale import fluxscale as _fluxscale_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -618,15 +620,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('fluxscale.pre')
         _postfile = os.path.realpath('fluxscale.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,caltable,fluxtable,reference,transfer,listfile,append,refspwmap,gainthreshold,antenna,timerange,scan,incremental,fitorder,display]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -687,24 +689,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _fluxscale_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['fluxtable'],_pc.document['reference'],_pc.document['transfer'],_pc.document['listfile'],_pc.document['append'],_pc.document['refspwmap'],_pc.document['gainthreshold'],_pc.document['antenna'],_pc.document['timerange'],_pc.document['scan'],_pc.document['incremental'],_pc.document['fitorder'],_pc.document['display'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'fluxscale', [ 'vis=' + repr(_pc.document['vis']), 'caltable=' + repr(_pc.document['caltable']), 'fluxtable=' + repr(_pc.document['fluxtable']), 'reference=' + repr(_pc.document['reference']), 'transfer=' + repr(_pc.document['transfer']), 'listfile=' + repr(_pc.document['listfile']), 'append=' + repr(_pc.document['append']), 'refspwmap=' + repr(_pc.document['refspwmap']), 'gainthreshold=' + repr(_pc.document['gainthreshold']), 'antenna=' + repr(_pc.document['antenna']), 'timerange=' + repr(_pc.document['timerange']), 'scan=' + repr(_pc.document['scan']), 'incremental=' + repr(_pc.document['incremental']), 'fitorder=' + repr(_pc.document['fitorder']), 'display=' + repr(_pc.document['display']) ] )
+            task_result = _fluxscale_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['fluxtable'],_pc.document['reference'],_pc.document['transfer'],_pc.document['listfile'],_pc.document['append'],_pc.document['refspwmap'],_pc.document['gainthreshold'],_pc.document['antenna'],_pc.document['timerange'],_pc.document['scan'],_pc.document['incremental'],_pc.document['fitorder'],_pc.document['display'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('fluxscale')
             casalog.post("Exception Reported: Error in fluxscale: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'fluxscale', task_result )
+        return task_result
 
 fluxscale = _fluxscale( )
```

## casashell/private/fringefit.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_fringefit import fringefit as _fringefit_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1015,15 +1017,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('fringefit.pre')
         _postfile = os.path.realpath('fringefit.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,caltable,field,spw,intent,selectdata,timerange,uvrange,antenna,scan,observation,msselect,solint,combine,refant,minsnr,zerorates,globalsolve,niter,delaywindow,ratewindow,append,corrdepflags,corrcomb,docallib,callib,gaintable,gainfield,interp,spwmap,paramactive,concatspws,parang]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -1129,24 +1131,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _fringefit_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['refant'],_pc.document['minsnr'],_pc.document['zerorates'],_pc.document['globalsolve'],_pc.document['niter'],_pc.document['delaywindow'],_pc.document['ratewindow'],_pc.document['append'],_pc.document['corrdepflags'],_pc.document['corrcomb'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['paramactive'],_pc.document['concatspws'],_pc.document['parang'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'fringefit', [ 'vis=' + repr(_pc.document['vis']), 'caltable=' + repr(_pc.document['caltable']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'msselect=' + repr(_pc.document['msselect']), 'solint=' + repr(_pc.document['solint']), 'combine=' + repr(_pc.document['combine']), 'refant=' + repr(_pc.document['refant']), 'minsnr=' + repr(_pc.document['minsnr']), 'zerorates=' + repr(_pc.document['zerorates']), 'globalsolve=' + repr(_pc.document['globalsolve']), 'niter=' + repr(_pc.document['niter']), 'delaywindow=' + repr(_pc.document['delaywindow']), 'ratewindow=' + repr(_pc.document['ratewindow']), 'append=' + repr(_pc.document['append']), 'corrdepflags=' + repr(_pc.document['corrdepflags']), 'corrcomb=' + repr(_pc.document['corrcomb']), 'docallib=' + repr(_pc.document['docallib']), 'callib=' + repr(_pc.document['callib']), 'gaintable=' + repr(_pc.document['gaintable']), 'gainfield=' + repr(_pc.document['gainfield']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']), 'paramactive=' + repr(_pc.document['paramactive']), 'concatspws=' + repr(_pc.document['concatspws']), 'parang=' + repr(_pc.document['parang']) ] )
+            task_result = _fringefit_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['refant'],_pc.document['minsnr'],_pc.document['zerorates'],_pc.document['globalsolve'],_pc.document['niter'],_pc.document['delaywindow'],_pc.document['ratewindow'],_pc.document['append'],_pc.document['corrdepflags'],_pc.document['corrcomb'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['paramactive'],_pc.document['concatspws'],_pc.document['parang'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('fringefit')
             casalog.post("Exception Reported: Error in fringefit: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'fringefit', task_result )
+        return task_result
 
 fringefit = _fringefit( )
```

## casashell/private/ft.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_ft import ft as _ft_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -426,15 +428,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('ft.pre')
         _postfile = os.path.realpath('ft.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,field,spw,model,nterms,reffreq,complist,incremental,usescratch]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -478,24 +480,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _ft_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['model'],_pc.document['nterms'],_pc.document['reffreq'],_pc.document['complist'],_pc.document['incremental'],_pc.document['usescratch'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'ft', [ 'vis=' + repr(_pc.document['vis']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'model=' + repr(_pc.document['model']), 'nterms=' + repr(_pc.document['nterms']), 'reffreq=' + repr(_pc.document['reffreq']), 'complist=' + repr(_pc.document['complist']), 'incremental=' + repr(_pc.document['incremental']), 'usescratch=' + repr(_pc.document['usescratch']) ] )
+            task_result = _ft_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['model'],_pc.document['nterms'],_pc.document['reffreq'],_pc.document['complist'],_pc.document['incremental'],_pc.document['usescratch'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('ft')
             casalog.post("Exception Reported: Error in ft: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'ft', task_result )
+        return task_result
 
 ft = _ft( )
```

## casashell/private/gaincal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_gaincal import gaincal as _gaincal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1310,15 +1312,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('gaincal.pre')
         _postfile = os.path.realpath('gaincal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,caltable,field,spw,intent,selectdata,timerange,uvrange,antenna,scan,observation,msselect,solint,combine,preavg,refant,refantmode,minblperant,minsnr,solnorm,normtype,gaintype,smodel,calmode,solmode,rmsthresh,corrdepflags,append,splinetime,npointaver,phasewrap,docallib,callib,gaintable,gainfield,interp,spwmap,parang]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -1435,24 +1437,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _gaincal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['preavg'],_pc.document['refant'],_pc.document['refantmode'],_pc.document['minblperant'],_pc.document['minsnr'],_pc.document['solnorm'],_pc.document['normtype'],_pc.document['gaintype'],_pc.document['smodel'],_pc.document['calmode'],_pc.document['solmode'],_pc.document['rmsthresh'],_pc.document['corrdepflags'],_pc.document['append'],_pc.document['splinetime'],_pc.document['npointaver'],_pc.document['phasewrap'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['parang'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'gaincal', [ 'vis=' + repr(_pc.document['vis']), 'caltable=' + repr(_pc.document['caltable']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'msselect=' + repr(_pc.document['msselect']), 'solint=' + repr(_pc.document['solint']), 'combine=' + repr(_pc.document['combine']), 'preavg=' + repr(_pc.document['preavg']), 'refant=' + repr(_pc.document['refant']), 'refantmode=' + repr(_pc.document['refantmode']), 'minblperant=' + repr(_pc.document['minblperant']), 'minsnr=' + repr(_pc.document['minsnr']), 'solnorm=' + repr(_pc.document['solnorm']), 'normtype=' + repr(_pc.document['normtype']), 'gaintype=' + repr(_pc.document['gaintype']), 'smodel=' + repr(_pc.document['smodel']), 'calmode=' + repr(_pc.document['calmode']), 'solmode=' + repr(_pc.document['solmode']), 'rmsthresh=' + repr(_pc.document['rmsthresh']), 'corrdepflags=' + repr(_pc.document['corrdepflags']), 'append=' + repr(_pc.document['append']), 'splinetime=' + repr(_pc.document['splinetime']), 'npointaver=' + repr(_pc.document['npointaver']), 'phasewrap=' + repr(_pc.document['phasewrap']), 'docallib=' + repr(_pc.document['docallib']), 'callib=' + repr(_pc.document['callib']), 'gaintable=' + repr(_pc.document['gaintable']), 'gainfield=' + repr(_pc.document['gainfield']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']), 'parang=' + repr(_pc.document['parang']) ] )
+            task_result = _gaincal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['preavg'],_pc.document['refant'],_pc.document['refantmode'],_pc.document['minblperant'],_pc.document['minsnr'],_pc.document['solnorm'],_pc.document['normtype'],_pc.document['gaintype'],_pc.document['smodel'],_pc.document['calmode'],_pc.document['solmode'],_pc.document['rmsthresh'],_pc.document['corrdepflags'],_pc.document['append'],_pc.document['splinetime'],_pc.document['npointaver'],_pc.document['phasewrap'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['parang'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('gaincal')
             casalog.post("Exception Reported: Error in gaincal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'gaincal', task_result )
+        return task_result
 
 gaincal = _gaincal( )
```

## casashell/private/gencal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_gencal import gencal as _gencal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -597,15 +599,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('gencal.pre')
         _postfile = os.path.realpath('gencal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,caltable,caltype,infile,endpoint,timeout,retry,retry_wait_time,spw,antenna,pol,parameter,uniform]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -656,24 +658,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _gencal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['caltype'],_pc.document['infile'],_pc.document['endpoint'],_pc.document['timeout'],_pc.document['retry'],_pc.document['retry_wait_time'],_pc.document['spw'],_pc.document['antenna'],_pc.document['pol'],_pc.document['parameter'],_pc.document['uniform'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'gencal', [ 'vis=' + repr(_pc.document['vis']), 'caltable=' + repr(_pc.document['caltable']), 'caltype=' + repr(_pc.document['caltype']), 'infile=' + repr(_pc.document['infile']), 'endpoint=' + repr(_pc.document['endpoint']), 'timeout=' + repr(_pc.document['timeout']), 'retry=' + repr(_pc.document['retry']), 'retry_wait_time=' + repr(_pc.document['retry_wait_time']), 'spw=' + repr(_pc.document['spw']), 'antenna=' + repr(_pc.document['antenna']), 'pol=' + repr(_pc.document['pol']), 'parameter=' + repr(_pc.document['parameter']), 'uniform=' + repr(_pc.document['uniform']) ] )
+            task_result = _gencal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['caltype'],_pc.document['infile'],_pc.document['endpoint'],_pc.document['timeout'],_pc.document['retry'],_pc.document['retry_wait_time'],_pc.document['spw'],_pc.document['antenna'],_pc.document['pol'],_pc.document['parameter'],_pc.document['uniform'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('gencal')
             casalog.post("Exception Reported: Error in gencal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'gencal', task_result )
+        return task_result
 
 gencal = _gencal( )
```

## casashell/private/hanningsmooth.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_hanningsmooth import hanningsmooth as _hanningsmooth_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -616,15 +618,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('hanningsmooth.pre')
         _postfile = os.path.realpath('hanningsmooth.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,outputvis,keepmms,field,spw,scan,antenna,correlation,timerange,intent,array,uvrange,observation,feed,datacolumn]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -688,24 +690,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _hanningsmooth_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['keepmms'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['datacolumn'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'hanningsmooth', [ 'vis=' + repr(_pc.document['vis']), 'outputvis=' + repr(_pc.document['outputvis']), 'keepmms=' + repr(_pc.document['keepmms']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'antenna=' + repr(_pc.document['antenna']), 'correlation=' + repr(_pc.document['correlation']), 'timerange=' + repr(_pc.document['timerange']), 'intent=' + repr(_pc.document['intent']), 'array=' + repr(_pc.document['array']), 'uvrange=' + repr(_pc.document['uvrange']), 'observation=' + repr(_pc.document['observation']), 'feed=' + repr(_pc.document['feed']), 'datacolumn=' + repr(_pc.document['datacolumn']) ] )
+            task_result = _hanningsmooth_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['keepmms'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['datacolumn'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('hanningsmooth')
             casalog.post("Exception Reported: Error in hanningsmooth: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'hanningsmooth', task_result )
+        return task_result
 
 hanningsmooth = _hanningsmooth( )
```

## casashell/private/imbaseline.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imbaseline import imbaseline as _imbaseline_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -812,15 +814,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imbaseline.pre')
         _postfile = os.path.realpath('imbaseline.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,linefile,output_cont,bloutput,maskmode,chans,thresh,avg_limit,minwidth,edge,blfunc,order,npiece,applyfft,fftthresh,addwn,rejwn,blparam,clipniter,clipthresh,dirkernel,major,minor,pa,kimage,scale,spkernel,kwidth]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -902,24 +904,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imbaseline_t( _pc.document['imagename'],_pc.document['linefile'],_pc.document['output_cont'],_pc.document['bloutput'],_pc.document['maskmode'],_pc.document['chans'],_pc.document['thresh'],_pc.document['avg_limit'],_pc.document['minwidth'],_pc.document['edge'],_pc.document['blfunc'],_pc.document['order'],_pc.document['npiece'],_pc.document['applyfft'],_pc.document['fftthresh'],_pc.document['addwn'],_pc.document['rejwn'],_pc.document['blparam'],_pc.document['clipniter'],_pc.document['clipthresh'],_pc.document['dirkernel'],_pc.document['major'],_pc.document['minor'],_pc.document['pa'],_pc.document['kimage'],_pc.document['scale'],_pc.document['spkernel'],_pc.document['kwidth'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imbaseline', [ 'imagename=' + repr(_pc.document['imagename']), 'linefile=' + repr(_pc.document['linefile']), 'output_cont=' + repr(_pc.document['output_cont']), 'bloutput=' + repr(_pc.document['bloutput']), 'maskmode=' + repr(_pc.document['maskmode']), 'chans=' + repr(_pc.document['chans']), 'thresh=' + repr(_pc.document['thresh']), 'avg_limit=' + repr(_pc.document['avg_limit']), 'minwidth=' + repr(_pc.document['minwidth']), 'edge=' + repr(_pc.document['edge']), 'blfunc=' + repr(_pc.document['blfunc']), 'order=' + repr(_pc.document['order']), 'npiece=' + repr(_pc.document['npiece']), 'applyfft=' + repr(_pc.document['applyfft']), 'fftthresh=' + repr(_pc.document['fftthresh']), 'addwn=' + repr(_pc.document['addwn']), 'rejwn=' + repr(_pc.document['rejwn']), 'blparam=' + repr(_pc.document['blparam']), 'clipniter=' + repr(_pc.document['clipniter']), 'clipthresh=' + repr(_pc.document['clipthresh']), 'dirkernel=' + repr(_pc.document['dirkernel']), 'major=' + repr(_pc.document['major']), 'minor=' + repr(_pc.document['minor']), 'pa=' + repr(_pc.document['pa']), 'kimage=' + repr(_pc.document['kimage']), 'scale=' + repr(_pc.document['scale']), 'spkernel=' + repr(_pc.document['spkernel']), 'kwidth=' + repr(_pc.document['kwidth']) ] )
+            task_result = _imbaseline_t( _pc.document['imagename'],_pc.document['linefile'],_pc.document['output_cont'],_pc.document['bloutput'],_pc.document['maskmode'],_pc.document['chans'],_pc.document['thresh'],_pc.document['avg_limit'],_pc.document['minwidth'],_pc.document['edge'],_pc.document['blfunc'],_pc.document['order'],_pc.document['npiece'],_pc.document['applyfft'],_pc.document['fftthresh'],_pc.document['addwn'],_pc.document['rejwn'],_pc.document['blparam'],_pc.document['clipniter'],_pc.document['clipthresh'],_pc.document['dirkernel'],_pc.document['major'],_pc.document['minor'],_pc.document['pa'],_pc.document['kimage'],_pc.document['scale'],_pc.document['spkernel'],_pc.document['kwidth'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imbaseline')
             casalog.post("Exception Reported: Error in imbaseline: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imbaseline', task_result )
+        return task_result
 
 imbaseline = _imbaseline( )
```

## casashell/private/imcollapse.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imcollapse import imcollapse as _imcollapse_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -471,15 +473,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imcollapse.pre')
         _postfile = os.path.realpath('imcollapse.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,function,axes,outfile,box,region,chans,stokes,mask,overwrite,stretch]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -529,24 +531,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imcollapse_t( _pc.document['imagename'],_pc.document['function'],_pc.document['axes'],_pc.document['outfile'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['overwrite'],_pc.document['stretch'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imcollapse', [ 'imagename=' + repr(_pc.document['imagename']), 'function=' + repr(_pc.document['function']), 'axes=' + repr(_pc.document['axes']), 'outfile=' + repr(_pc.document['outfile']), 'box=' + repr(_pc.document['box']), 'region=' + repr(_pc.document['region']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'overwrite=' + repr(_pc.document['overwrite']), 'stretch=' + repr(_pc.document['stretch']) ] )
+            task_result = _imcollapse_t( _pc.document['imagename'],_pc.document['function'],_pc.document['axes'],_pc.document['outfile'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['overwrite'],_pc.document['stretch'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imcollapse')
             casalog.post("Exception Reported: Error in imcollapse: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imcollapse', task_result )
+        return task_result
 
 imcollapse = _imcollapse( )
```

## casashell/private/imcontsub.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imcontsub import imcontsub as _imcontsub_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -366,15 +368,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imcontsub.pre')
         _postfile = os.path.realpath('imcontsub.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,linefile,contfile,fitorder,region,box,chans,stokes]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -417,24 +419,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imcontsub_t( _pc.document['imagename'],_pc.document['linefile'],_pc.document['contfile'],_pc.document['fitorder'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imcontsub', [ 'imagename=' + repr(_pc.document['imagename']), 'linefile=' + repr(_pc.document['linefile']), 'contfile=' + repr(_pc.document['contfile']), 'fitorder=' + repr(_pc.document['fitorder']), 'region=' + repr(_pc.document['region']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']) ] )
+            task_result = _imcontsub_t( _pc.document['imagename'],_pc.document['linefile'],_pc.document['contfile'],_pc.document['fitorder'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imcontsub')
             casalog.post("Exception Reported: Error in imcontsub: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imcontsub', task_result )
+        return task_result
 
 imcontsub = _imcontsub( )
```

## casashell/private/imdev.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imdev import imdev as _imdev_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -626,15 +628,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imdev.pre')
         _postfile = os.path.realpath('imdev.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,outfile,region,box,chans,stokes,mask,overwrite,stretch,grid,anchor,xlength,ylength,interp,stattype,statalg,zscore,maxiter]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -703,24 +705,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imdev_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['overwrite'],_pc.document['stretch'],_pc.document['grid'],_pc.document['anchor'],_pc.document['xlength'],_pc.document['ylength'],_pc.document['interp'],_pc.document['stattype'],_pc.document['statalg'],_pc.document['zscore'],_pc.document['maxiter'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imdev', [ 'imagename=' + repr(_pc.document['imagename']), 'outfile=' + repr(_pc.document['outfile']), 'region=' + repr(_pc.document['region']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'overwrite=' + repr(_pc.document['overwrite']), 'stretch=' + repr(_pc.document['stretch']), 'grid=' + repr(_pc.document['grid']), 'anchor=' + repr(_pc.document['anchor']), 'xlength=' + repr(_pc.document['xlength']), 'ylength=' + repr(_pc.document['ylength']), 'interp=' + repr(_pc.document['interp']), 'stattype=' + repr(_pc.document['stattype']), 'statalg=' + repr(_pc.document['statalg']), 'zscore=' + repr(_pc.document['zscore']), 'maxiter=' + repr(_pc.document['maxiter']) ] )
+            task_result = _imdev_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['overwrite'],_pc.document['stretch'],_pc.document['grid'],_pc.document['anchor'],_pc.document['xlength'],_pc.document['ylength'],_pc.document['interp'],_pc.document['stattype'],_pc.document['statalg'],_pc.document['zscore'],_pc.document['maxiter'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imdev')
             casalog.post("Exception Reported: Error in imdev: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imdev', task_result )
+        return task_result
 
 imdev = _imdev( )
```

## casashell/private/imfit.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imfit import imfit as _imfit_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -977,15 +979,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imfit.pre')
         _postfile = os.path.realpath('imfit.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,box,region,chans,stokes,mask,includepix,excludepix,residual,model,estimates,logfile,append,newestimates,complist,overwrite,dooff,offset,fixoffset,stretch,rms,noisefwhm,summary]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -1067,24 +1069,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imfit_t( _pc.document['imagename'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['includepix'],_pc.document['excludepix'],_pc.document['residual'],_pc.document['model'],_pc.document['estimates'],_pc.document['logfile'],_pc.document['append'],_pc.document['newestimates'],_pc.document['complist'],_pc.document['overwrite'],_pc.document['dooff'],_pc.document['offset'],_pc.document['fixoffset'],_pc.document['stretch'],_pc.document['rms'],_pc.document['noisefwhm'],_pc.document['summary'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imfit', [ 'imagename=' + repr(_pc.document['imagename']), 'box=' + repr(_pc.document['box']), 'region=' + repr(_pc.document['region']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'includepix=' + repr(_pc.document['includepix']), 'excludepix=' + repr(_pc.document['excludepix']), 'residual=' + repr(_pc.document['residual']), 'model=' + repr(_pc.document['model']), 'estimates=' + repr(_pc.document['estimates']), 'logfile=' + repr(_pc.document['logfile']), 'append=' + repr(_pc.document['append']), 'newestimates=' + repr(_pc.document['newestimates']), 'complist=' + repr(_pc.document['complist']), 'overwrite=' + repr(_pc.document['overwrite']), 'dooff=' + repr(_pc.document['dooff']), 'offset=' + repr(_pc.document['offset']), 'fixoffset=' + repr(_pc.document['fixoffset']), 'stretch=' + repr(_pc.document['stretch']), 'rms=' + repr(_pc.document['rms']), 'noisefwhm=' + repr(_pc.document['noisefwhm']), 'summary=' + repr(_pc.document['summary']) ] )
+            task_result = _imfit_t( _pc.document['imagename'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['includepix'],_pc.document['excludepix'],_pc.document['residual'],_pc.document['model'],_pc.document['estimates'],_pc.document['logfile'],_pc.document['append'],_pc.document['newestimates'],_pc.document['complist'],_pc.document['overwrite'],_pc.document['dooff'],_pc.document['offset'],_pc.document['fixoffset'],_pc.document['stretch'],_pc.document['rms'],_pc.document['noisefwhm'],_pc.document['summary'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imfit')
             casalog.post("Exception Reported: Error in imfit: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imfit', task_result )
+        return task_result
 
 imfit = _imfit( )
```

## casashell/private/imhead.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imhead import imhead as _imhead_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -369,15 +371,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imhead.pre')
         _postfile = os.path.realpath('imhead.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,mode,hdkey,hdvalue,verbose]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -407,24 +409,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imhead_t( _pc.document['imagename'],_pc.document['mode'],_pc.document['hdkey'],_pc.document['hdvalue'],_pc.document['verbose'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imhead', [ 'imagename=' + repr(_pc.document['imagename']), 'mode=' + repr(_pc.document['mode']), 'hdkey=' + repr(_pc.document['hdkey']), 'hdvalue=' + repr(_pc.document['hdvalue']), 'verbose=' + repr(_pc.document['verbose']) ] )
+            task_result = _imhead_t( _pc.document['imagename'],_pc.document['mode'],_pc.document['hdkey'],_pc.document['hdvalue'],_pc.document['verbose'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imhead')
             casalog.post("Exception Reported: Error in imhead: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imhead', task_result )
+        return task_result
 
 imhead = _imhead( )
```

## casashell/private/imhistory.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imhistory import imhistory as _imhistory_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -311,15 +313,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imhistory.pre')
         _postfile = os.path.realpath('imhistory.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,mode,verbose,origin,message]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -349,24 +351,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imhistory_t( _pc.document['imagename'],_pc.document['mode'],_pc.document['verbose'],_pc.document['origin'],_pc.document['message'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imhistory', [ 'imagename=' + repr(_pc.document['imagename']), 'mode=' + repr(_pc.document['mode']), 'verbose=' + repr(_pc.document['verbose']), 'origin=' + repr(_pc.document['origin']), 'message=' + repr(_pc.document['message']) ] )
+            task_result = _imhistory_t( _pc.document['imagename'],_pc.document['mode'],_pc.document['verbose'],_pc.document['origin'],_pc.document['message'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imhistory')
             casalog.post("Exception Reported: Error in imhistory: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imhistory', task_result )
+        return task_result
 
 imhistory = _imhistory( )
```

## casashell/private/immath.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_immath import immath as _immath_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -749,15 +751,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('immath.pre')
         _postfile = os.path.realpath('immath.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,mode,outfile,expr,varnames,sigma,polithresh,mask,region,box,chans,stokes,stretch,imagemd,prec]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -815,24 +817,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _immath_t( _pc.document['imagename'],_pc.document['mode'],_pc.document['outfile'],_pc.document['expr'],_pc.document['varnames'],_pc.document['sigma'],_pc.document['polithresh'],_pc.document['mask'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['stretch'],_pc.document['imagemd'],_pc.document['prec'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'immath', [ 'imagename=' + repr(_pc.document['imagename']), 'mode=' + repr(_pc.document['mode']), 'outfile=' + repr(_pc.document['outfile']), 'expr=' + repr(_pc.document['expr']), 'varnames=' + repr(_pc.document['varnames']), 'sigma=' + repr(_pc.document['sigma']), 'polithresh=' + repr(_pc.document['polithresh']), 'mask=' + repr(_pc.document['mask']), 'region=' + repr(_pc.document['region']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'stretch=' + repr(_pc.document['stretch']), 'imagemd=' + repr(_pc.document['imagemd']), 'prec=' + repr(_pc.document['prec']) ] )
+            task_result = _immath_t( _pc.document['imagename'],_pc.document['mode'],_pc.document['outfile'],_pc.document['expr'],_pc.document['varnames'],_pc.document['sigma'],_pc.document['polithresh'],_pc.document['mask'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['stretch'],_pc.document['imagemd'],_pc.document['prec'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('immath')
             casalog.post("Exception Reported: Error in immath: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'immath', task_result )
+        return task_result
 
 immath = _immath( )
```

## casashell/private/immoments.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_immoments import immoments as _immoments_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -511,15 +513,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('immoments.pre')
         _postfile = os.path.realpath('immoments.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,moments,axis,region,box,chans,stokes,mask,includepix,excludepix,outfile,stretch]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -572,24 +574,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _immoments_t( _pc.document['imagename'],_pc.document['moments'],_pc.document['axis'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['includepix'],_pc.document['excludepix'],_pc.document['outfile'],_pc.document['stretch'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'immoments', [ 'imagename=' + repr(_pc.document['imagename']), 'moments=' + repr(_pc.document['moments']), 'axis=' + repr(_pc.document['axis']), 'region=' + repr(_pc.document['region']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'includepix=' + repr(_pc.document['includepix']), 'excludepix=' + repr(_pc.document['excludepix']), 'outfile=' + repr(_pc.document['outfile']), 'stretch=' + repr(_pc.document['stretch']) ] )
+            task_result = _immoments_t( _pc.document['imagename'],_pc.document['moments'],_pc.document['axis'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['includepix'],_pc.document['excludepix'],_pc.document['outfile'],_pc.document['stretch'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('immoments')
             casalog.post("Exception Reported: Error in immoments: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'immoments', task_result )
+        return task_result
 
 immoments = _immoments( )
```

## casashell/private/impbcor.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_impbcor import impbcor as _impbcor_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -473,15 +475,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('impbcor.pre')
         _postfile = os.path.realpath('impbcor.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,pbimage,outfile,overwrite,box,region,chans,stokes,mask,mode,cutoff,stretch]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -533,24 +535,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _impbcor_t( _pc.document['imagename'],_pc.document['pbimage'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['mode'],_pc.document['cutoff'],_pc.document['stretch'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'impbcor', [ 'imagename=' + repr(_pc.document['imagename']), 'pbimage=' + repr(_pc.document['pbimage']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']), 'box=' + repr(_pc.document['box']), 'region=' + repr(_pc.document['region']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'mode=' + repr(_pc.document['mode']), 'cutoff=' + repr(_pc.document['cutoff']), 'stretch=' + repr(_pc.document['stretch']) ] )
+            task_result = _impbcor_t( _pc.document['imagename'],_pc.document['pbimage'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['mode'],_pc.document['cutoff'],_pc.document['stretch'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('impbcor')
             casalog.post("Exception Reported: Error in impbcor: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'impbcor', task_result )
+        return task_result
 
 impbcor = _impbcor( )
```

## casashell/private/importasap.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importasap import importasap as _importasap_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -294,15 +296,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importasap.pre')
         _postfile = os.path.realpath('importasap.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,outputvis,flagbackup,overwrite,parallel]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -336,24 +338,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importasap_t( _pc.document['infile'],_pc.document['outputvis'],_pc.document['flagbackup'],_pc.document['overwrite'],_pc.document['parallel'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importasap', [ 'infile=' + repr(_pc.document['infile']), 'outputvis=' + repr(_pc.document['outputvis']), 'flagbackup=' + repr(_pc.document['flagbackup']), 'overwrite=' + repr(_pc.document['overwrite']), 'parallel=' + repr(_pc.document['parallel']) ] )
+            task_result = _importasap_t( _pc.document['infile'],_pc.document['outputvis'],_pc.document['flagbackup'],_pc.document['overwrite'],_pc.document['parallel'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importasap')
             casalog.post("Exception Reported: Error in importasap: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importasap', task_result )
+        return task_result
 
 importasap = _importasap( )
```

## casashell/private/importasdm.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importasdm import importasdm as _importasdm_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1028,15 +1030,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importasdm.pre')
         _postfile = os.path.realpath('importasdm.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [asdm,vis,createmms,separationaxis,numsubms,corr_mode,srt,time_sampling,ocorr_mode,compression,lazy,asis,wvr_corrected_data,scans,ignore_time,process_syspower,process_caldevice,process_pointing,process_flags,tbuff,applyflags,savecmds,outfile,flagbackup,verbose,overwrite,bdfflags,with_pointing_correction,convert_ephem2geo,polyephem_tabtimestep]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if asdm is not None: local_global['asdm'] = asdm
@@ -1138,24 +1140,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importasdm_t( _pc.document['asdm'],_pc.document['vis'],_pc.document['createmms'],_pc.document['separationaxis'],_pc.document['numsubms'],_pc.document['corr_mode'],_pc.document['srt'],_pc.document['time_sampling'],_pc.document['ocorr_mode'],_pc.document['compression'],_pc.document['lazy'],_pc.document['asis'],_pc.document['wvr_corrected_data'],_pc.document['scans'],_pc.document['ignore_time'],_pc.document['process_syspower'],_pc.document['process_caldevice'],_pc.document['process_pointing'],_pc.document['process_flags'],_pc.document['tbuff'],_pc.document['applyflags'],_pc.document['savecmds'],_pc.document['outfile'],_pc.document['flagbackup'],_pc.document['verbose'],_pc.document['overwrite'],_pc.document['bdfflags'],_pc.document['with_pointing_correction'],_pc.document['convert_ephem2geo'],_pc.document['polyephem_tabtimestep'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importasdm', [ 'asdm=' + repr(_pc.document['asdm']), 'vis=' + repr(_pc.document['vis']), 'createmms=' + repr(_pc.document['createmms']), 'separationaxis=' + repr(_pc.document['separationaxis']), 'numsubms=' + repr(_pc.document['numsubms']), 'corr_mode=' + repr(_pc.document['corr_mode']), 'srt=' + repr(_pc.document['srt']), 'time_sampling=' + repr(_pc.document['time_sampling']), 'ocorr_mode=' + repr(_pc.document['ocorr_mode']), 'compression=' + repr(_pc.document['compression']), 'lazy=' + repr(_pc.document['lazy']), 'asis=' + repr(_pc.document['asis']), 'wvr_corrected_data=' + repr(_pc.document['wvr_corrected_data']), 'scans=' + repr(_pc.document['scans']), 'ignore_time=' + repr(_pc.document['ignore_time']), 'process_syspower=' + repr(_pc.document['process_syspower']), 'process_caldevice=' + repr(_pc.document['process_caldevice']), 'process_pointing=' + repr(_pc.document['process_pointing']), 'process_flags=' + repr(_pc.document['process_flags']), 'tbuff=' + repr(_pc.document['tbuff']), 'applyflags=' + repr(_pc.document['applyflags']), 'savecmds=' + repr(_pc.document['savecmds']), 'outfile=' + repr(_pc.document['outfile']), 'flagbackup=' + repr(_pc.document['flagbackup']), 'verbose=' + repr(_pc.document['verbose']), 'overwrite=' + repr(_pc.document['overwrite']), 'bdfflags=' + repr(_pc.document['bdfflags']), 'with_pointing_correction=' + repr(_pc.document['with_pointing_correction']), 'convert_ephem2geo=' + repr(_pc.document['convert_ephem2geo']), 'polyephem_tabtimestep=' + repr(_pc.document['polyephem_tabtimestep']) ] )
+            task_result = _importasdm_t( _pc.document['asdm'],_pc.document['vis'],_pc.document['createmms'],_pc.document['separationaxis'],_pc.document['numsubms'],_pc.document['corr_mode'],_pc.document['srt'],_pc.document['time_sampling'],_pc.document['ocorr_mode'],_pc.document['compression'],_pc.document['lazy'],_pc.document['asis'],_pc.document['wvr_corrected_data'],_pc.document['scans'],_pc.document['ignore_time'],_pc.document['process_syspower'],_pc.document['process_caldevice'],_pc.document['process_pointing'],_pc.document['process_flags'],_pc.document['tbuff'],_pc.document['applyflags'],_pc.document['savecmds'],_pc.document['outfile'],_pc.document['flagbackup'],_pc.document['verbose'],_pc.document['overwrite'],_pc.document['bdfflags'],_pc.document['with_pointing_correction'],_pc.document['convert_ephem2geo'],_pc.document['polyephem_tabtimestep'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importasdm')
             casalog.post("Exception Reported: Error in importasdm: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importasdm', task_result )
+        return task_result
 
 importasdm = _importasdm( )
```

## casashell/private/importatca.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importatca import importatca as _importatca_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -416,15 +418,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importatca.pre')
         _postfile = os.path.realpath('importatca.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [files,vis,options,spw,nscans,lowfreq,highfreq,fields,edge]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if files is not None: local_global['files'] = files
@@ -470,24 +472,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importatca_t( _pc.document['files'],_pc.document['vis'],_pc.document['options'],_pc.document['spw'],_pc.document['nscans'],_pc.document['lowfreq'],_pc.document['highfreq'],_pc.document['fields'],_pc.document['edge'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importatca', [ 'files=' + repr(_pc.document['files']), 'vis=' + repr(_pc.document['vis']), 'options=' + repr(_pc.document['options']), 'spw=' + repr(_pc.document['spw']), 'nscans=' + repr(_pc.document['nscans']), 'lowfreq=' + repr(_pc.document['lowfreq']), 'highfreq=' + repr(_pc.document['highfreq']), 'fields=' + repr(_pc.document['fields']), 'edge=' + repr(_pc.document['edge']) ] )
+            task_result = _importatca_t( _pc.document['files'],_pc.document['vis'],_pc.document['options'],_pc.document['spw'],_pc.document['nscans'],_pc.document['lowfreq'],_pc.document['highfreq'],_pc.document['fields'],_pc.document['edge'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importatca')
             casalog.post("Exception Reported: Error in importatca: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importatca', task_result )
+        return task_result
 
 importatca = _importatca( )
```

## casashell/private/importfits.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importfits import importfits as _importfits_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -402,15 +404,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importfits.pre')
         _postfile = os.path.realpath('importfits.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [fitsimage,imagename,whichrep,whichhdu,zeroblanks,overwrite,defaultaxes,defaultaxesvalues,beam]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if fitsimage is not None: local_global['fitsimage'] = fitsimage
@@ -456,24 +458,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importfits_t( _pc.document['fitsimage'],_pc.document['imagename'],_pc.document['whichrep'],_pc.document['whichhdu'],_pc.document['zeroblanks'],_pc.document['overwrite'],_pc.document['defaultaxes'],_pc.document['defaultaxesvalues'],_pc.document['beam'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importfits', [ 'fitsimage=' + repr(_pc.document['fitsimage']), 'imagename=' + repr(_pc.document['imagename']), 'whichrep=' + repr(_pc.document['whichrep']), 'whichhdu=' + repr(_pc.document['whichhdu']), 'zeroblanks=' + repr(_pc.document['zeroblanks']), 'overwrite=' + repr(_pc.document['overwrite']), 'defaultaxes=' + repr(_pc.document['defaultaxes']), 'defaultaxesvalues=' + repr(_pc.document['defaultaxesvalues']), 'beam=' + repr(_pc.document['beam']) ] )
+            task_result = _importfits_t( _pc.document['fitsimage'],_pc.document['imagename'],_pc.document['whichrep'],_pc.document['whichhdu'],_pc.document['zeroblanks'],_pc.document['overwrite'],_pc.document['defaultaxes'],_pc.document['defaultaxesvalues'],_pc.document['beam'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importfits')
             casalog.post("Exception Reported: Error in importfits: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importfits', task_result )
+        return task_result
 
 importfits = _importfits( )
```

## casashell/private/importfitsidi.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importfitsidi import importfitsidi as _importfitsidi_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -308,15 +310,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importfitsidi.pre')
         _postfile = os.path.realpath('importfitsidi.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [fitsidifile,vis,constobsid,scanreindexgap_s,specframe]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if fitsidifile is not None: local_global['fitsidifile'] = fitsidifile
@@ -350,24 +352,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importfitsidi_t( _pc.document['fitsidifile'],_pc.document['vis'],_pc.document['constobsid'],_pc.document['scanreindexgap_s'],_pc.document['specframe'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importfitsidi', [ 'fitsidifile=' + repr(_pc.document['fitsidifile']), 'vis=' + repr(_pc.document['vis']), 'constobsid=' + repr(_pc.document['constobsid']), 'scanreindexgap_s=' + repr(_pc.document['scanreindexgap_s']), 'specframe=' + repr(_pc.document['specframe']) ] )
+            task_result = _importfitsidi_t( _pc.document['fitsidifile'],_pc.document['vis'],_pc.document['constobsid'],_pc.document['scanreindexgap_s'],_pc.document['specframe'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importfitsidi')
             casalog.post("Exception Reported: Error in importfitsidi: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importfitsidi', task_result )
+        return task_result
 
 importfitsidi = _importfitsidi( )
```

## casashell/private/importgmrt.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importgmrt import importgmrt as _importgmrt_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -252,15 +254,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importgmrt.pre')
         _postfile = os.path.realpath('importgmrt.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [fitsfile,flagfile,vis]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if fitsfile is not None: local_global['fitsfile'] = fitsfile
@@ -288,24 +290,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importgmrt_t( _pc.document['fitsfile'],_pc.document['flagfile'],_pc.document['vis'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importgmrt', [ 'fitsfile=' + repr(_pc.document['fitsfile']), 'flagfile=' + repr(_pc.document['flagfile']), 'vis=' + repr(_pc.document['vis']) ] )
+            task_result = _importgmrt_t( _pc.document['fitsfile'],_pc.document['flagfile'],_pc.document['vis'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importgmrt')
             casalog.post("Exception Reported: Error in importgmrt: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importgmrt', task_result )
+        return task_result
 
 importgmrt = _importgmrt( )
```

## casashell/private/importmiriad.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importmiriad import importmiriad as _importmiriad_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -381,15 +383,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importmiriad.pre')
         _postfile = os.path.realpath('importmiriad.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [mirfile,vis,tsys,spw,vel,linecal,wide,debug]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if mirfile is not None: local_global['mirfile'] = mirfile
@@ -432,24 +434,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importmiriad_t( _pc.document['mirfile'],_pc.document['vis'],_pc.document['tsys'],_pc.document['spw'],_pc.document['vel'],_pc.document['linecal'],_pc.document['wide'],_pc.document['debug'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importmiriad', [ 'mirfile=' + repr(_pc.document['mirfile']), 'vis=' + repr(_pc.document['vis']), 'tsys=' + repr(_pc.document['tsys']), 'spw=' + repr(_pc.document['spw']), 'vel=' + repr(_pc.document['vel']), 'linecal=' + repr(_pc.document['linecal']), 'wide=' + repr(_pc.document['wide']), 'debug=' + repr(_pc.document['debug']) ] )
+            task_result = _importmiriad_t( _pc.document['mirfile'],_pc.document['vis'],_pc.document['tsys'],_pc.document['spw'],_pc.document['vel'],_pc.document['linecal'],_pc.document['wide'],_pc.document['debug'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importmiriad')
             casalog.post("Exception Reported: Error in importmiriad: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importmiriad', task_result )
+        return task_result
 
 importmiriad = _importmiriad( )
```

## casashell/private/importnro.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importnro import importnro as _importnro_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -274,15 +276,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importnro.pre')
         _postfile = os.path.realpath('importnro.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,outputvis,overwrite,parallel]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -313,24 +315,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importnro_t( _pc.document['infile'],_pc.document['outputvis'],_pc.document['overwrite'],_pc.document['parallel'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importnro', [ 'infile=' + repr(_pc.document['infile']), 'outputvis=' + repr(_pc.document['outputvis']), 'overwrite=' + repr(_pc.document['overwrite']), 'parallel=' + repr(_pc.document['parallel']) ] )
+            task_result = _importnro_t( _pc.document['infile'],_pc.document['outputvis'],_pc.document['overwrite'],_pc.document['parallel'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importnro')
             casalog.post("Exception Reported: Error in importnro: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importnro', task_result )
+        return task_result
 
 importnro = _importnro( )
```

## casashell/private/importuvfits.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importuvfits import importuvfits as _importuvfits_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -257,15 +259,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importuvfits.pre')
         _postfile = os.path.realpath('importuvfits.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [fitsfile,vis,antnamescheme]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if fitsfile is not None: local_global['fitsfile'] = fitsfile
@@ -293,24 +295,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importuvfits_t( _pc.document['fitsfile'],_pc.document['vis'],_pc.document['antnamescheme'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importuvfits', [ 'fitsfile=' + repr(_pc.document['fitsfile']), 'vis=' + repr(_pc.document['vis']), 'antnamescheme=' + repr(_pc.document['antnamescheme']) ] )
+            task_result = _importuvfits_t( _pc.document['fitsfile'],_pc.document['vis'],_pc.document['antnamescheme'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importuvfits')
             casalog.post("Exception Reported: Error in importuvfits: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importuvfits', task_result )
+        return task_result
 
 importuvfits = _importuvfits( )
```

## casashell/private/importvla.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_importvla import importvla as _importvla_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -497,15 +499,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('importvla.pre')
         _postfile = os.path.realpath('importvla.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [archivefiles,vis,bandname,frequencytol,project,starttime,stoptime,applytsys,autocorr,antnamescheme,keepblanks,evlabands]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if archivefiles is not None: local_global['archivefiles'] = archivefiles
@@ -560,24 +562,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _importvla_t( _pc.document['archivefiles'],_pc.document['vis'],_pc.document['bandname'],_pc.document['frequencytol'],_pc.document['project'],_pc.document['starttime'],_pc.document['stoptime'],_pc.document['applytsys'],_pc.document['autocorr'],_pc.document['antnamescheme'],_pc.document['keepblanks'],_pc.document['evlabands'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'importvla', [ 'archivefiles=' + repr(_pc.document['archivefiles']), 'vis=' + repr(_pc.document['vis']), 'bandname=' + repr(_pc.document['bandname']), 'frequencytol=' + repr(_pc.document['frequencytol']), 'project=' + repr(_pc.document['project']), 'starttime=' + repr(_pc.document['starttime']), 'stoptime=' + repr(_pc.document['stoptime']), 'applytsys=' + repr(_pc.document['applytsys']), 'autocorr=' + repr(_pc.document['autocorr']), 'antnamescheme=' + repr(_pc.document['antnamescheme']), 'keepblanks=' + repr(_pc.document['keepblanks']), 'evlabands=' + repr(_pc.document['evlabands']) ] )
+            task_result = _importvla_t( _pc.document['archivefiles'],_pc.document['vis'],_pc.document['bandname'],_pc.document['frequencytol'],_pc.document['project'],_pc.document['starttime'],_pc.document['stoptime'],_pc.document['applytsys'],_pc.document['autocorr'],_pc.document['antnamescheme'],_pc.document['keepblanks'],_pc.document['evlabands'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('importvla')
             casalog.post("Exception Reported: Error in importvla: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'importvla', task_result )
+        return task_result
 
 importvla = _importvla( )
```

## casashell/private/impv.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_impv import impv as _impv_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -610,15 +612,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('impv.pre')
         _postfile = os.path.realpath('impv.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,outfile,mode,start,end,center,length,pa,width,unit,overwrite,region,chans,stokes,mask,stretch]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -678,24 +680,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _impv_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['mode'],_pc.document['start'],_pc.document['end'],_pc.document['center'],_pc.document['length'],_pc.document['pa'],_pc.document['width'],_pc.document['unit'],_pc.document['overwrite'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['stretch'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'impv', [ 'imagename=' + repr(_pc.document['imagename']), 'outfile=' + repr(_pc.document['outfile']), 'mode=' + repr(_pc.document['mode']), 'start=' + repr(_pc.document['start']), 'end=' + repr(_pc.document['end']), 'center=' + repr(_pc.document['center']), 'length=' + repr(_pc.document['length']), 'pa=' + repr(_pc.document['pa']), 'width=' + repr(_pc.document['width']), 'unit=' + repr(_pc.document['unit']), 'overwrite=' + repr(_pc.document['overwrite']), 'region=' + repr(_pc.document['region']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'stretch=' + repr(_pc.document['stretch']) ] )
+            task_result = _impv_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['mode'],_pc.document['start'],_pc.document['end'],_pc.document['center'],_pc.document['length'],_pc.document['pa'],_pc.document['width'],_pc.document['unit'],_pc.document['overwrite'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['stretch'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('impv')
             casalog.post("Exception Reported: Error in impv: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'impv', task_result )
+        return task_result
 
 impv = _impv( )
```

## casashell/private/imrebin.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imrebin import imrebin as _imrebin_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -487,15 +489,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imrebin.pre')
         _postfile = os.path.realpath('imrebin.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,outfile,factor,region,box,chans,stokes,mask,dropdeg,overwrite,stretch,crop]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -548,24 +550,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imrebin_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['factor'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['dropdeg'],_pc.document['overwrite'],_pc.document['stretch'],_pc.document['crop'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imrebin', [ 'imagename=' + repr(_pc.document['imagename']), 'outfile=' + repr(_pc.document['outfile']), 'factor=' + repr(_pc.document['factor']), 'region=' + repr(_pc.document['region']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'dropdeg=' + repr(_pc.document['dropdeg']), 'overwrite=' + repr(_pc.document['overwrite']), 'stretch=' + repr(_pc.document['stretch']), 'crop=' + repr(_pc.document['crop']) ] )
+            task_result = _imrebin_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['factor'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['dropdeg'],_pc.document['overwrite'],_pc.document['stretch'],_pc.document['crop'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imrebin')
             casalog.post("Exception Reported: Error in imrebin: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imrebin', task_result )
+        return task_result
 
 imrebin = _imrebin( )
```

## casashell/private/imreframe.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imreframe import imreframe as _imreframe_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -297,15 +299,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imreframe.pre')
         _postfile = os.path.realpath('imreframe.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,output,outframe,epoch,restfreq]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -337,24 +339,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imreframe_t( _pc.document['imagename'],_pc.document['output'],_pc.document['outframe'],_pc.document['epoch'],_pc.document['restfreq'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imreframe', [ 'imagename=' + repr(_pc.document['imagename']), 'output=' + repr(_pc.document['output']), 'outframe=' + repr(_pc.document['outframe']), 'epoch=' + repr(_pc.document['epoch']), 'restfreq=' + repr(_pc.document['restfreq']) ] )
+            task_result = _imreframe_t( _pc.document['imagename'],_pc.document['output'],_pc.document['outframe'],_pc.document['epoch'],_pc.document['restfreq'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imreframe')
             casalog.post("Exception Reported: Error in imreframe: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imreframe', task_result )
+        return task_result
 
 imreframe = _imreframe( )
```

## casashell/private/imregrid.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imregrid import imregrid as _imregrid_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -662,15 +664,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imregrid.pre')
         _postfile = os.path.realpath('imregrid.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,template,output,asvelocity,axes,shape,interpolation,decimate,replicate,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -717,24 +719,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imregrid_t( _pc.document['imagename'],_pc.document['template'],_pc.document['output'],_pc.document['asvelocity'],_pc.document['axes'],_pc.document['shape'],_pc.document['interpolation'],_pc.document['decimate'],_pc.document['replicate'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imregrid', [ 'imagename=' + repr(_pc.document['imagename']), 'template=' + repr(_pc.document['template']), 'output=' + repr(_pc.document['output']), 'asvelocity=' + repr(_pc.document['asvelocity']), 'axes=' + repr(_pc.document['axes']), 'shape=' + repr(_pc.document['shape']), 'interpolation=' + repr(_pc.document['interpolation']), 'decimate=' + repr(_pc.document['decimate']), 'replicate=' + repr(_pc.document['replicate']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _imregrid_t( _pc.document['imagename'],_pc.document['template'],_pc.document['output'],_pc.document['asvelocity'],_pc.document['axes'],_pc.document['shape'],_pc.document['interpolation'],_pc.document['decimate'],_pc.document['replicate'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imregrid')
             casalog.post("Exception Reported: Error in imregrid: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imregrid', task_result )
+        return task_result
 
 imregrid = _imregrid( )
```

## casashell/private/imsmooth.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imsmooth import imsmooth as _imsmooth_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -704,15 +706,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imsmooth.pre')
         _postfile = os.path.realpath('imsmooth.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,kernel,major,minor,pa,targetres,kimage,scale,region,box,chans,stokes,mask,outfile,stretch,overwrite,beam]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -773,24 +775,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imsmooth_t( _pc.document['imagename'],_pc.document['kernel'],_pc.document['major'],_pc.document['minor'],_pc.document['pa'],_pc.document['targetres'],_pc.document['kimage'],_pc.document['scale'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['outfile'],_pc.document['stretch'],_pc.document['overwrite'],_pc.document['beam'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imsmooth', [ 'imagename=' + repr(_pc.document['imagename']), 'kernel=' + repr(_pc.document['kernel']), 'major=' + repr(_pc.document['major']), 'minor=' + repr(_pc.document['minor']), 'pa=' + repr(_pc.document['pa']), 'targetres=' + repr(_pc.document['targetres']), 'kimage=' + repr(_pc.document['kimage']), 'scale=' + repr(_pc.document['scale']), 'region=' + repr(_pc.document['region']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'outfile=' + repr(_pc.document['outfile']), 'stretch=' + repr(_pc.document['stretch']), 'overwrite=' + repr(_pc.document['overwrite']), 'beam=' + repr(_pc.document['beam']) ] )
+            task_result = _imsmooth_t( _pc.document['imagename'],_pc.document['kernel'],_pc.document['major'],_pc.document['minor'],_pc.document['pa'],_pc.document['targetres'],_pc.document['kimage'],_pc.document['scale'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['outfile'],_pc.document['stretch'],_pc.document['overwrite'],_pc.document['beam'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imsmooth')
             casalog.post("Exception Reported: Error in imsmooth: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imsmooth', task_result )
+        return task_result
 
 imsmooth = _imsmooth( )
```

## casashell/private/imstat.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imstat import imstat as _imstat_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -891,15 +893,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imstat.pre')
         _postfile = os.path.realpath('imstat.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,axes,region,box,chans,stokes,listit,verbose,mask,stretch,logfile,append,algorithm,fence,center,lside,zscore,maxiter,clmethod,niter]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -968,24 +970,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imstat_t( _pc.document['imagename'],_pc.document['axes'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['listit'],_pc.document['verbose'],_pc.document['mask'],_pc.document['stretch'],_pc.document['logfile'],_pc.document['append'],_pc.document['algorithm'],_pc.document['fence'],_pc.document['center'],_pc.document['lside'],_pc.document['zscore'],_pc.document['maxiter'],_pc.document['clmethod'],_pc.document['niter'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imstat', [ 'imagename=' + repr(_pc.document['imagename']), 'axes=' + repr(_pc.document['axes']), 'region=' + repr(_pc.document['region']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'listit=' + repr(_pc.document['listit']), 'verbose=' + repr(_pc.document['verbose']), 'mask=' + repr(_pc.document['mask']), 'stretch=' + repr(_pc.document['stretch']), 'logfile=' + repr(_pc.document['logfile']), 'append=' + repr(_pc.document['append']), 'algorithm=' + repr(_pc.document['algorithm']), 'fence=' + repr(_pc.document['fence']), 'center=' + repr(_pc.document['center']), 'lside=' + repr(_pc.document['lside']), 'zscore=' + repr(_pc.document['zscore']), 'maxiter=' + repr(_pc.document['maxiter']), 'clmethod=' + repr(_pc.document['clmethod']), 'niter=' + repr(_pc.document['niter']) ] )
+            task_result = _imstat_t( _pc.document['imagename'],_pc.document['axes'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['listit'],_pc.document['verbose'],_pc.document['mask'],_pc.document['stretch'],_pc.document['logfile'],_pc.document['append'],_pc.document['algorithm'],_pc.document['fence'],_pc.document['center'],_pc.document['lside'],_pc.document['zscore'],_pc.document['maxiter'],_pc.document['clmethod'],_pc.document['niter'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imstat')
             casalog.post("Exception Reported: Error in imstat: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imstat', task_result )
+        return task_result
 
 imstat = _imstat( )
```

## casashell/private/imsubimage.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imsubimage import imsubimage as _imsubimage_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -501,15 +503,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imsubimage.pre')
         _postfile = os.path.realpath('imsubimage.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,outfile,box,region,chans,stokes,mask,dropdeg,overwrite,verbose,stretch,keepaxes]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -560,24 +562,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imsubimage_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['dropdeg'],_pc.document['overwrite'],_pc.document['verbose'],_pc.document['stretch'],_pc.document['keepaxes'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imsubimage', [ 'imagename=' + repr(_pc.document['imagename']), 'outfile=' + repr(_pc.document['outfile']), 'box=' + repr(_pc.document['box']), 'region=' + repr(_pc.document['region']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'dropdeg=' + repr(_pc.document['dropdeg']), 'overwrite=' + repr(_pc.document['overwrite']), 'verbose=' + repr(_pc.document['verbose']), 'stretch=' + repr(_pc.document['stretch']), 'keepaxes=' + repr(_pc.document['keepaxes']) ] )
+            task_result = _imsubimage_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['dropdeg'],_pc.document['overwrite'],_pc.document['verbose'],_pc.document['stretch'],_pc.document['keepaxes'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imsubimage')
             casalog.post("Exception Reported: Error in imsubimage: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imsubimage', task_result )
+        return task_result
 
 imsubimage = _imsubimage( )
```

## casashell/private/imtrans.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imtrans import imtrans as _imtrans_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -292,15 +294,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imtrans.pre')
         _postfile = os.path.realpath('imtrans.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,outfile,order]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -328,24 +330,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imtrans_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['order'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imtrans', [ 'imagename=' + repr(_pc.document['imagename']), 'outfile=' + repr(_pc.document['outfile']), 'order=' + repr(_pc.document['order']) ] )
+            task_result = _imtrans_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['order'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imtrans')
             casalog.post("Exception Reported: Error in imtrans: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imtrans', task_result )
+        return task_result
 
 imtrans = _imtrans( )
```

## casashell/private/imval.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_imval import imval as _imval_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -366,15 +368,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('imval.pre')
         _postfile = os.path.realpath('imval.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,region,box,chans,stokes]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -408,24 +410,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _imval_t( _pc.document['imagename'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'imval', [ 'imagename=' + repr(_pc.document['imagename']), 'region=' + repr(_pc.document['region']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']) ] )
+            task_result = _imval_t( _pc.document['imagename'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('imval')
             casalog.post("Exception Reported: Error in imval: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'imval', task_result )
+        return task_result
 
 imval = _imval( )
```

## casashell/private/initweights.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_initweights import initweights as _initweights_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -414,15 +416,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('initweights.pre')
         _postfile = os.path.realpath('initweights.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,wtmode,tsystable,gainfield,interp,spwmap,dowtsp]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -457,24 +459,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _initweights_t( _pc.document['vis'],_pc.document['wtmode'],_pc.document['tsystable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['dowtsp'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'initweights', [ 'vis=' + repr(_pc.document['vis']), 'wtmode=' + repr(_pc.document['wtmode']), 'tsystable=' + repr(_pc.document['tsystable']), 'gainfield=' + repr(_pc.document['gainfield']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']), 'dowtsp=' + repr(_pc.document['dowtsp']) ] )
+            task_result = _initweights_t( _pc.document['vis'],_pc.document['wtmode'],_pc.document['tsystable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['dowtsp'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('initweights')
             casalog.post("Exception Reported: Error in initweights: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'initweights', task_result )
+        return task_result
 
 initweights = _initweights( )
```

## casashell/private/listcal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_listcal import listcal as _listcal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -526,15 +528,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('listcal.pre')
         _postfile = os.path.realpath('listcal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,caltable,field,antenna,spw,listfile,pagerows]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -574,24 +576,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _listcal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['antenna'],_pc.document['spw'],_pc.document['listfile'],_pc.document['pagerows'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'listcal', [ 'vis=' + repr(_pc.document['vis']), 'caltable=' + repr(_pc.document['caltable']), 'field=' + repr(_pc.document['field']), 'antenna=' + repr(_pc.document['antenna']), 'spw=' + repr(_pc.document['spw']), 'listfile=' + repr(_pc.document['listfile']), 'pagerows=' + repr(_pc.document['pagerows']) ] )
+            task_result = _listcal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['antenna'],_pc.document['spw'],_pc.document['listfile'],_pc.document['pagerows'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('listcal')
             casalog.post("Exception Reported: Error in listcal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'listcal', task_result )
+        return task_result
 
 listcal = _listcal( )
```

## casashell/private/listfits.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_listfits import listfits as _listfits_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -203,15 +205,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('listfits.pre')
         _postfile = os.path.realpath('listfits.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [fitsfile]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if fitsfile is not None: local_global['fitsfile'] = fitsfile
@@ -233,24 +235,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _listfits_t( _pc.document['fitsfile'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'listfits', [ 'fitsfile=' + repr(_pc.document['fitsfile']) ] )
+            task_result = _listfits_t( _pc.document['fitsfile'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('listfits')
             casalog.post("Exception Reported: Error in listfits: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'listfits', task_result )
+        return task_result
 
 listfits = _listfits( )
```

## casashell/private/listhistory.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_listhistory import listhistory as _listhistory_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -205,15 +207,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('listhistory.pre')
         _postfile = os.path.realpath('listhistory.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -235,24 +237,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _listhistory_t( _pc.document['vis'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'listhistory', [ 'vis=' + repr(_pc.document['vis']) ] )
+            task_result = _listhistory_t( _pc.document['vis'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('listhistory')
             casalog.post("Exception Reported: Error in listhistory: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'listhistory', task_result )
+        return task_result
 
 listhistory = _listhistory( )
```

## casashell/private/listobs.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_listobs import listobs as _listobs_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -672,15 +674,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('listobs.pre')
         _postfile = os.path.realpath('listobs.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,selectdata,spw,field,antenna,uvrange,timerange,correlation,scan,intent,feed,array,observation,verbose,listfile,listunfl,cachesize,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -740,24 +742,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _listobs_t( _pc.document['vis'],_pc.document['selectdata'],_pc.document['spw'],_pc.document['field'],_pc.document['antenna'],_pc.document['uvrange'],_pc.document['timerange'],_pc.document['correlation'],_pc.document['scan'],_pc.document['intent'],_pc.document['feed'],_pc.document['array'],_pc.document['observation'],_pc.document['verbose'],_pc.document['listfile'],_pc.document['listunfl'],_pc.document['cachesize'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'listobs', [ 'vis=' + repr(_pc.document['vis']), 'selectdata=' + repr(_pc.document['selectdata']), 'spw=' + repr(_pc.document['spw']), 'field=' + repr(_pc.document['field']), 'antenna=' + repr(_pc.document['antenna']), 'uvrange=' + repr(_pc.document['uvrange']), 'timerange=' + repr(_pc.document['timerange']), 'correlation=' + repr(_pc.document['correlation']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']), 'feed=' + repr(_pc.document['feed']), 'array=' + repr(_pc.document['array']), 'observation=' + repr(_pc.document['observation']), 'verbose=' + repr(_pc.document['verbose']), 'listfile=' + repr(_pc.document['listfile']), 'listunfl=' + repr(_pc.document['listunfl']), 'cachesize=' + repr(_pc.document['cachesize']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _listobs_t( _pc.document['vis'],_pc.document['selectdata'],_pc.document['spw'],_pc.document['field'],_pc.document['antenna'],_pc.document['uvrange'],_pc.document['timerange'],_pc.document['correlation'],_pc.document['scan'],_pc.document['intent'],_pc.document['feed'],_pc.document['array'],_pc.document['observation'],_pc.document['verbose'],_pc.document['listfile'],_pc.document['listunfl'],_pc.document['cachesize'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('listobs')
             casalog.post("Exception Reported: Error in listobs: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'listobs', task_result )
+        return task_result
 
 listobs = _listobs( )
```

## casashell/private/listpartition.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_listpartition import listpartition as _listpartition_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -300,15 +302,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('listpartition.pre')
         _postfile = os.path.realpath('listpartition.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,createdict,listfile]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -336,24 +338,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _listpartition_t( _pc.document['vis'],_pc.document['createdict'],_pc.document['listfile'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'listpartition', [ 'vis=' + repr(_pc.document['vis']), 'createdict=' + repr(_pc.document['createdict']), 'listfile=' + repr(_pc.document['listfile']) ] )
+            task_result = _listpartition_t( _pc.document['vis'],_pc.document['createdict'],_pc.document['listfile'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('listpartition')
             casalog.post("Exception Reported: Error in listpartition: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'listpartition', task_result )
+        return task_result
 
 listpartition = _listpartition( )
```

## casashell/private/listsdm.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_listsdm import listsdm as _listsdm_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -226,15 +228,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('listsdm.pre')
         _postfile = os.path.realpath('listsdm.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [sdm]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if sdm is not None: local_global['sdm'] = sdm
@@ -256,24 +258,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _listsdm_t( _pc.document['sdm'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'listsdm', [ 'sdm=' + repr(_pc.document['sdm']) ] )
+            task_result = _listsdm_t( _pc.document['sdm'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('listsdm')
             casalog.post("Exception Reported: Error in listsdm: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'listsdm', task_result )
+        return task_result
 
 listsdm = _listsdm( )
```

## casashell/private/listvis.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_listvis import listvis as _listvis_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -765,15 +767,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('listvis.pre')
         _postfile = os.path.realpath('listvis.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,options,datacolumn,field,spw,selectdata,antenna,timerange,correlation,scan,feed,array,observation,uvrange,average,showflags,pagerows,listfile]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -838,24 +840,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _listvis_t( _pc.document['vis'],_pc.document['options'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['selectdata'],_pc.document['antenna'],_pc.document['timerange'],_pc.document['correlation'],_pc.document['scan'],_pc.document['feed'],_pc.document['array'],_pc.document['observation'],_pc.document['uvrange'],_pc.document['average'],_pc.document['showflags'],_pc.document['pagerows'],_pc.document['listfile'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'listvis', [ 'vis=' + repr(_pc.document['vis']), 'options=' + repr(_pc.document['options']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'selectdata=' + repr(_pc.document['selectdata']), 'antenna=' + repr(_pc.document['antenna']), 'timerange=' + repr(_pc.document['timerange']), 'correlation=' + repr(_pc.document['correlation']), 'scan=' + repr(_pc.document['scan']), 'feed=' + repr(_pc.document['feed']), 'array=' + repr(_pc.document['array']), 'observation=' + repr(_pc.document['observation']), 'uvrange=' + repr(_pc.document['uvrange']), 'average=' + repr(_pc.document['average']), 'showflags=' + repr(_pc.document['showflags']), 'pagerows=' + repr(_pc.document['pagerows']), 'listfile=' + repr(_pc.document['listfile']) ] )
+            task_result = _listvis_t( _pc.document['vis'],_pc.document['options'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['selectdata'],_pc.document['antenna'],_pc.document['timerange'],_pc.document['correlation'],_pc.document['scan'],_pc.document['feed'],_pc.document['array'],_pc.document['observation'],_pc.document['uvrange'],_pc.document['average'],_pc.document['showflags'],_pc.document['pagerows'],_pc.document['listfile'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('listvis')
             casalog.post("Exception Reported: Error in listvis: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'listvis', task_result )
+        return task_result
 
 listvis = _listvis( )
```

## casashell/private/load_tasks.py

```diff
@@ -51,14 +51,16 @@
 register_builtin("partition")
 from casashell.private.listpartition import listpartition
 register_builtin("listpartition")
 from casashell.private.flagmanager import flagmanager
 register_builtin("flagmanager")
 from casashell.private.mstransform import mstransform
 register_builtin("mstransform")
+from casashell.private.msuvbin import msuvbin
+register_builtin("msuvbin")
 from casashell.private.tclean import tclean
 register_builtin("tclean")
 from casashell.private.deconvolve import deconvolve
 register_builtin("deconvolve")
 from casashell.private.immath import immath
 register_builtin("immath")
 from casashell.private.vishead import vishead
```

## casashell/private/makemask.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_makemask import makemask as _makemask_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -551,15 +553,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('makemask.pre')
         _postfile = os.path.realpath('makemask.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [mode,inpimage,inpmask,output,overwrite,inpfreqs,outfreqs]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if mode is not None: local_global['mode'] = mode
@@ -592,24 +594,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _makemask_t( _pc.document['mode'],_pc.document['inpimage'],_pc.document['inpmask'],_pc.document['output'],_pc.document['overwrite'],_pc.document['inpfreqs'],_pc.document['outfreqs'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'makemask', [ 'mode=' + repr(_pc.document['mode']), 'inpimage=' + repr(_pc.document['inpimage']), 'inpmask=' + repr(_pc.document['inpmask']), 'output=' + repr(_pc.document['output']), 'overwrite=' + repr(_pc.document['overwrite']), 'inpfreqs=' + repr(_pc.document['inpfreqs']), 'outfreqs=' + repr(_pc.document['outfreqs']) ] )
+            task_result = _makemask_t( _pc.document['mode'],_pc.document['inpimage'],_pc.document['inpmask'],_pc.document['output'],_pc.document['overwrite'],_pc.document['inpfreqs'],_pc.document['outfreqs'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('makemask')
             casalog.post("Exception Reported: Error in makemask: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'makemask', task_result )
+        return task_result
 
 makemask = _makemask( )
```

## casashell/private/mstransform.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_mstransform import mstransform as _mstransform_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1918,15 +1920,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('mstransform.pre')
         _postfile = os.path.realpath('mstransform.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,outputvis,createmms,separationaxis,numsubms,tileshape,field,spw,scan,antenna,correlation,timerange,intent,array,uvrange,observation,feed,datacolumn,realmodelcol,keepflags,usewtspectrum,combinespws,chanaverage,chanbin,hanning,regridms,mode,nchan,start,width,nspw,interpolation,phasecenter,restfreq,outframe,veltype,preaverage,timeaverage,timebin,timespan,maxuvwdistance,docallib,callib,douvcontsub,fitspw,fitorder,want_cont,denoising_lib,nthreads,niter,disableparallel,ddistart,taql,monolithic_processing,reindex]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -2080,24 +2082,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _mstransform_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['createmms'],_pc.document['separationaxis'],_pc.document['numsubms'],_pc.document['tileshape'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['datacolumn'],_pc.document['realmodelcol'],_pc.document['keepflags'],_pc.document['usewtspectrum'],_pc.document['combinespws'],_pc.document['chanaverage'],_pc.document['chanbin'],_pc.document['hanning'],_pc.document['regridms'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['nspw'],_pc.document['interpolation'],_pc.document['phasecenter'],_pc.document['restfreq'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['preaverage'],_pc.document['timeaverage'],_pc.document['timebin'],_pc.document['timespan'],_pc.document['maxuvwdistance'],_pc.document['docallib'],_pc.document['callib'],_pc.document['douvcontsub'],_pc.document['fitspw'],_pc.document['fitorder'],_pc.document['want_cont'],_pc.document['denoising_lib'],_pc.document['nthreads'],_pc.document['niter'],_pc.document['disableparallel'],_pc.document['ddistart'],_pc.document['taql'],_pc.document['monolithic_processing'],_pc.document['reindex'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'mstransform', [ 'vis=' + repr(_pc.document['vis']), 'outputvis=' + repr(_pc.document['outputvis']), 'createmms=' + repr(_pc.document['createmms']), 'separationaxis=' + repr(_pc.document['separationaxis']), 'numsubms=' + repr(_pc.document['numsubms']), 'tileshape=' + repr(_pc.document['tileshape']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'antenna=' + repr(_pc.document['antenna']), 'correlation=' + repr(_pc.document['correlation']), 'timerange=' + repr(_pc.document['timerange']), 'intent=' + repr(_pc.document['intent']), 'array=' + repr(_pc.document['array']), 'uvrange=' + repr(_pc.document['uvrange']), 'observation=' + repr(_pc.document['observation']), 'feed=' + repr(_pc.document['feed']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'realmodelcol=' + repr(_pc.document['realmodelcol']), 'keepflags=' + repr(_pc.document['keepflags']), 'usewtspectrum=' + repr(_pc.document['usewtspectrum']), 'combinespws=' + repr(_pc.document['combinespws']), 'chanaverage=' + repr(_pc.document['chanaverage']), 'chanbin=' + repr(_pc.document['chanbin']), 'hanning=' + repr(_pc.document['hanning']), 'regridms=' + repr(_pc.document['regridms']), 'mode=' + repr(_pc.document['mode']), 'nchan=' + repr(_pc.document['nchan']), 'start=' + repr(_pc.document['start']), 'width=' + repr(_pc.document['width']), 'nspw=' + repr(_pc.document['nspw']), 'interpolation=' + repr(_pc.document['interpolation']), 'phasecenter=' + repr(_pc.document['phasecenter']), 'restfreq=' + repr(_pc.document['restfreq']), 'outframe=' + repr(_pc.document['outframe']), 'veltype=' + repr(_pc.document['veltype']), 'preaverage=' + repr(_pc.document['preaverage']), 'timeaverage=' + repr(_pc.document['timeaverage']), 'timebin=' + repr(_pc.document['timebin']), 'timespan=' + repr(_pc.document['timespan']), 'maxuvwdistance=' + repr(_pc.document['maxuvwdistance']), 'docallib=' + repr(_pc.document['docallib']), 'callib=' + repr(_pc.document['callib']), 'douvcontsub=' + repr(_pc.document['douvcontsub']), 'fitspw=' + repr(_pc.document['fitspw']), 'fitorder=' + repr(_pc.document['fitorder']), 'want_cont=' + repr(_pc.document['want_cont']), 'denoising_lib=' + repr(_pc.document['denoising_lib']), 'nthreads=' + repr(_pc.document['nthreads']), 'niter=' + repr(_pc.document['niter']), 'disableparallel=' + repr(_pc.document['disableparallel']), 'ddistart=' + repr(_pc.document['ddistart']), 'taql=' + repr(_pc.document['taql']), 'monolithic_processing=' + repr(_pc.document['monolithic_processing']), 'reindex=' + repr(_pc.document['reindex']) ] )
+            task_result = _mstransform_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['createmms'],_pc.document['separationaxis'],_pc.document['numsubms'],_pc.document['tileshape'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['datacolumn'],_pc.document['realmodelcol'],_pc.document['keepflags'],_pc.document['usewtspectrum'],_pc.document['combinespws'],_pc.document['chanaverage'],_pc.document['chanbin'],_pc.document['hanning'],_pc.document['regridms'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['nspw'],_pc.document['interpolation'],_pc.document['phasecenter'],_pc.document['restfreq'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['preaverage'],_pc.document['timeaverage'],_pc.document['timebin'],_pc.document['timespan'],_pc.document['maxuvwdistance'],_pc.document['docallib'],_pc.document['callib'],_pc.document['douvcontsub'],_pc.document['fitspw'],_pc.document['fitorder'],_pc.document['want_cont'],_pc.document['denoising_lib'],_pc.document['nthreads'],_pc.document['niter'],_pc.document['disableparallel'],_pc.document['ddistart'],_pc.document['taql'],_pc.document['monolithic_processing'],_pc.document['reindex'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('mstransform')
             casalog.post("Exception Reported: Error in mstransform: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'mstransform', task_result )
+        return task_result
 
 mstransform = _mstransform( )
```

## casashell/private/nrobeamaverage.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_nrobeamaverage import nrobeamaverage as _nrobeamaverage_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -407,15 +409,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('nrobeamaverage.pre')
         _postfile = os.path.realpath('nrobeamaverage.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,datacolumn,field,spw,timerange,scan,beam,timebin,outfile]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -461,24 +463,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _nrobeamaverage_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['beam'],_pc.document['timebin'],_pc.document['outfile'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'nrobeamaverage', [ 'infile=' + repr(_pc.document['infile']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'timerange=' + repr(_pc.document['timerange']), 'scan=' + repr(_pc.document['scan']), 'beam=' + repr(_pc.document['beam']), 'timebin=' + repr(_pc.document['timebin']), 'outfile=' + repr(_pc.document['outfile']) ] )
+            task_result = _nrobeamaverage_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['beam'],_pc.document['timebin'],_pc.document['outfile'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('nrobeamaverage')
             casalog.post("Exception Reported: Error in nrobeamaverage: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'nrobeamaverage', task_result )
+        return task_result
 
 nrobeamaverage = _nrobeamaverage( )
```

## casashell/private/partition.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_partition import partition as _partition_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -831,15 +833,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('partition.pre')
         _postfile = os.path.realpath('partition.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,outputvis,createmms,separationaxis,numsubms,flagbackup,datacolumn,field,spw,scan,antenna,correlation,timerange,intent,array,uvrange,observation,feed,disableparallel,ddistart,taql]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -914,24 +916,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _partition_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['createmms'],_pc.document['separationaxis'],_pc.document['numsubms'],_pc.document['flagbackup'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['disableparallel'],_pc.document['ddistart'],_pc.document['taql'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'partition', [ 'vis=' + repr(_pc.document['vis']), 'outputvis=' + repr(_pc.document['outputvis']), 'createmms=' + repr(_pc.document['createmms']), 'separationaxis=' + repr(_pc.document['separationaxis']), 'numsubms=' + repr(_pc.document['numsubms']), 'flagbackup=' + repr(_pc.document['flagbackup']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'antenna=' + repr(_pc.document['antenna']), 'correlation=' + repr(_pc.document['correlation']), 'timerange=' + repr(_pc.document['timerange']), 'intent=' + repr(_pc.document['intent']), 'array=' + repr(_pc.document['array']), 'uvrange=' + repr(_pc.document['uvrange']), 'observation=' + repr(_pc.document['observation']), 'feed=' + repr(_pc.document['feed']), 'disableparallel=' + repr(_pc.document['disableparallel']), 'ddistart=' + repr(_pc.document['ddistart']), 'taql=' + repr(_pc.document['taql']) ] )
+            task_result = _partition_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['createmms'],_pc.document['separationaxis'],_pc.document['numsubms'],_pc.document['flagbackup'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['disableparallel'],_pc.document['ddistart'],_pc.document['taql'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('partition')
             casalog.post("Exception Reported: Error in partition: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'partition', task_result )
+        return task_result
 
 partition = _partition( )
```

## casashell/private/phaseshift.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_phaseshift import phaseshift as _phaseshift_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -483,15 +485,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('phaseshift.pre')
         _postfile = os.path.realpath('phaseshift.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,outputvis,keepmms,field,spw,scan,intent,array,observation,datacolumn,phasecenter]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -543,24 +545,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _phaseshift_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['keepmms'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['intent'],_pc.document['array'],_pc.document['observation'],_pc.document['datacolumn'],_pc.document['phasecenter'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'phaseshift', [ 'vis=' + repr(_pc.document['vis']), 'outputvis=' + repr(_pc.document['outputvis']), 'keepmms=' + repr(_pc.document['keepmms']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']), 'array=' + repr(_pc.document['array']), 'observation=' + repr(_pc.document['observation']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'phasecenter=' + repr(_pc.document['phasecenter']) ] )
+            task_result = _phaseshift_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['keepmms'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['intent'],_pc.document['array'],_pc.document['observation'],_pc.document['datacolumn'],_pc.document['phasecenter'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('phaseshift')
             casalog.post("Exception Reported: Error in phaseshift: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'phaseshift', task_result )
+        return task_result
 
 phaseshift = _phaseshift( )
```

## casashell/private/plotants.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_plotants import plotants as _plotants_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -387,15 +389,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('plotants.pre')
         _postfile = os.path.realpath('plotants.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,figfile,antindex,logpos,exclude,checkbaselines,title,showgui]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -438,24 +440,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _plotants_t( _pc.document['vis'],_pc.document['figfile'],_pc.document['antindex'],_pc.document['logpos'],_pc.document['exclude'],_pc.document['checkbaselines'],_pc.document['title'],_pc.document['showgui'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'plotants', [ 'vis=' + repr(_pc.document['vis']), 'figfile=' + repr(_pc.document['figfile']), 'antindex=' + repr(_pc.document['antindex']), 'logpos=' + repr(_pc.document['logpos']), 'exclude=' + repr(_pc.document['exclude']), 'checkbaselines=' + repr(_pc.document['checkbaselines']), 'title=' + repr(_pc.document['title']), 'showgui=' + repr(_pc.document['showgui']) ] )
+            task_result = _plotants_t( _pc.document['vis'],_pc.document['figfile'],_pc.document['antindex'],_pc.document['logpos'],_pc.document['exclude'],_pc.document['checkbaselines'],_pc.document['title'],_pc.document['showgui'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('plotants')
             casalog.post("Exception Reported: Error in plotants: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'plotants', task_result )
+        return task_result
 
 plotants = _plotants( )
```

## casashell/private/plotbandpass.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_plotbandpass import plotbandpass as _plotbandpass_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1322,15 +1324,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('plotbandpass.pre')
         _postfile = os.path.realpath('plotbandpass.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [caltable,antenna,field,spw,yaxis,xaxis,figfile,plotrange,caltable2,overlay,showflagged,timeranges,buildpdf,caltable3,markersize,density,interactive,showpoints,showlines,subplot,zoom,poln,showatm,pwv,gs,convert,chanrange,solutionTimeThresholdSeconds,debug,phase,vis,showtsky,showfdm,showatmfield,lo1,showimage,showatmpoints,parentms,pdftk,channeldiff,edge,resample,platformingThreshold,platformingSigma,basebands,showBasebandNumber,scans,figfileSequential,chanrangeSetXrange]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if caltable is not None: local_global['caltable'] = caltable
@@ -1474,24 +1476,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _plotbandpass_t( _pc.document['caltable'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['yaxis'],_pc.document['xaxis'],_pc.document['figfile'],_pc.document['plotrange'],_pc.document['caltable2'],_pc.document['overlay'],_pc.document['showflagged'],_pc.document['timeranges'],_pc.document['buildpdf'],_pc.document['caltable3'],_pc.document['markersize'],_pc.document['density'],_pc.document['interactive'],_pc.document['showpoints'],_pc.document['showlines'],_pc.document['subplot'],_pc.document['zoom'],_pc.document['poln'],_pc.document['showatm'],_pc.document['pwv'],_pc.document['gs'],_pc.document['convert'],_pc.document['chanrange'],_pc.document['solutionTimeThresholdSeconds'],_pc.document['debug'],_pc.document['phase'],_pc.document['vis'],_pc.document['showtsky'],_pc.document['showfdm'],_pc.document['showatmfield'],_pc.document['lo1'],_pc.document['showimage'],_pc.document['showatmpoints'],_pc.document['parentms'],_pc.document['pdftk'],_pc.document['channeldiff'],_pc.document['edge'],_pc.document['resample'],_pc.document['platformingThreshold'],_pc.document['platformingSigma'],_pc.document['basebands'],_pc.document['showBasebandNumber'],_pc.document['scans'],_pc.document['figfileSequential'],_pc.document['chanrangeSetXrange'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'plotbandpass', [ 'caltable=' + repr(_pc.document['caltable']), 'antenna=' + repr(_pc.document['antenna']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'yaxis=' + repr(_pc.document['yaxis']), 'xaxis=' + repr(_pc.document['xaxis']), 'figfile=' + repr(_pc.document['figfile']), 'plotrange=' + repr(_pc.document['plotrange']), 'caltable2=' + repr(_pc.document['caltable2']), 'overlay=' + repr(_pc.document['overlay']), 'showflagged=' + repr(_pc.document['showflagged']), 'timeranges=' + repr(_pc.document['timeranges']), 'buildpdf=' + repr(_pc.document['buildpdf']), 'caltable3=' + repr(_pc.document['caltable3']), 'markersize=' + repr(_pc.document['markersize']), 'density=' + repr(_pc.document['density']), 'interactive=' + repr(_pc.document['interactive']), 'showpoints=' + repr(_pc.document['showpoints']), 'showlines=' + repr(_pc.document['showlines']), 'subplot=' + repr(_pc.document['subplot']), 'zoom=' + repr(_pc.document['zoom']), 'poln=' + repr(_pc.document['poln']), 'showatm=' + repr(_pc.document['showatm']), 'pwv=' + repr(_pc.document['pwv']), 'gs=' + repr(_pc.document['gs']), 'convert=' + repr(_pc.document['convert']), 'chanrange=' + repr(_pc.document['chanrange']), 'solutionTimeThresholdSeconds=' + repr(_pc.document['solutionTimeThresholdSeconds']), 'debug=' + repr(_pc.document['debug']), 'phase=' + repr(_pc.document['phase']), 'vis=' + repr(_pc.document['vis']), 'showtsky=' + repr(_pc.document['showtsky']), 'showfdm=' + repr(_pc.document['showfdm']), 'showatmfield=' + repr(_pc.document['showatmfield']), 'lo1=' + repr(_pc.document['lo1']), 'showimage=' + repr(_pc.document['showimage']), 'showatmpoints=' + repr(_pc.document['showatmpoints']), 'parentms=' + repr(_pc.document['parentms']), 'pdftk=' + repr(_pc.document['pdftk']), 'channeldiff=' + repr(_pc.document['channeldiff']), 'edge=' + repr(_pc.document['edge']), 'resample=' + repr(_pc.document['resample']), 'platformingThreshold=' + repr(_pc.document['platformingThreshold']), 'platformingSigma=' + repr(_pc.document['platformingSigma']), 'basebands=' + repr(_pc.document['basebands']), 'showBasebandNumber=' + repr(_pc.document['showBasebandNumber']), 'scans=' + repr(_pc.document['scans']), 'figfileSequential=' + repr(_pc.document['figfileSequential']), 'chanrangeSetXrange=' + repr(_pc.document['chanrangeSetXrange']) ] )
+            task_result = _plotbandpass_t( _pc.document['caltable'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['yaxis'],_pc.document['xaxis'],_pc.document['figfile'],_pc.document['plotrange'],_pc.document['caltable2'],_pc.document['overlay'],_pc.document['showflagged'],_pc.document['timeranges'],_pc.document['buildpdf'],_pc.document['caltable3'],_pc.document['markersize'],_pc.document['density'],_pc.document['interactive'],_pc.document['showpoints'],_pc.document['showlines'],_pc.document['subplot'],_pc.document['zoom'],_pc.document['poln'],_pc.document['showatm'],_pc.document['pwv'],_pc.document['gs'],_pc.document['convert'],_pc.document['chanrange'],_pc.document['solutionTimeThresholdSeconds'],_pc.document['debug'],_pc.document['phase'],_pc.document['vis'],_pc.document['showtsky'],_pc.document['showfdm'],_pc.document['showatmfield'],_pc.document['lo1'],_pc.document['showimage'],_pc.document['showatmpoints'],_pc.document['parentms'],_pc.document['pdftk'],_pc.document['channeldiff'],_pc.document['edge'],_pc.document['resample'],_pc.document['platformingThreshold'],_pc.document['platformingSigma'],_pc.document['basebands'],_pc.document['showBasebandNumber'],_pc.document['scans'],_pc.document['figfileSequential'],_pc.document['chanrangeSetXrange'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('plotbandpass')
             casalog.post("Exception Reported: Error in plotbandpass: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'plotbandpass', task_result )
+        return task_result
 
 plotbandpass = _plotbandpass( )
```

## casashell/private/plotprofilemap.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_plotprofilemap import plotprofilemap as _plotprofilemap_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -697,15 +699,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('plotprofilemap.pre')
         _postfile = os.path.realpath('plotprofilemap.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,figfile,overwrite,transparent,pol,spectralaxis,restfreq,plotrange,title,linecolor,linestyle,linewidth,separatepanel,plotmasked,maskedcolor,showaxislabel,showtick,showticklabel,figsize,numpanels]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -778,24 +780,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _plotprofilemap_t( _pc.document['imagename'],_pc.document['figfile'],_pc.document['overwrite'],_pc.document['transparent'],_pc.document['pol'],_pc.document['spectralaxis'],_pc.document['restfreq'],_pc.document['plotrange'],_pc.document['title'],_pc.document['linecolor'],_pc.document['linestyle'],_pc.document['linewidth'],_pc.document['separatepanel'],_pc.document['plotmasked'],_pc.document['maskedcolor'],_pc.document['showaxislabel'],_pc.document['showtick'],_pc.document['showticklabel'],_pc.document['figsize'],_pc.document['numpanels'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'plotprofilemap', [ 'imagename=' + repr(_pc.document['imagename']), 'figfile=' + repr(_pc.document['figfile']), 'overwrite=' + repr(_pc.document['overwrite']), 'transparent=' + repr(_pc.document['transparent']), 'pol=' + repr(_pc.document['pol']), 'spectralaxis=' + repr(_pc.document['spectralaxis']), 'restfreq=' + repr(_pc.document['restfreq']), 'plotrange=' + repr(_pc.document['plotrange']), 'title=' + repr(_pc.document['title']), 'linecolor=' + repr(_pc.document['linecolor']), 'linestyle=' + repr(_pc.document['linestyle']), 'linewidth=' + repr(_pc.document['linewidth']), 'separatepanel=' + repr(_pc.document['separatepanel']), 'plotmasked=' + repr(_pc.document['plotmasked']), 'maskedcolor=' + repr(_pc.document['maskedcolor']), 'showaxislabel=' + repr(_pc.document['showaxislabel']), 'showtick=' + repr(_pc.document['showtick']), 'showticklabel=' + repr(_pc.document['showticklabel']), 'figsize=' + repr(_pc.document['figsize']), 'numpanels=' + repr(_pc.document['numpanels']) ] )
+            task_result = _plotprofilemap_t( _pc.document['imagename'],_pc.document['figfile'],_pc.document['overwrite'],_pc.document['transparent'],_pc.document['pol'],_pc.document['spectralaxis'],_pc.document['restfreq'],_pc.document['plotrange'],_pc.document['title'],_pc.document['linecolor'],_pc.document['linestyle'],_pc.document['linewidth'],_pc.document['separatepanel'],_pc.document['plotmasked'],_pc.document['maskedcolor'],_pc.document['showaxislabel'],_pc.document['showtick'],_pc.document['showticklabel'],_pc.document['figsize'],_pc.document['numpanels'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('plotprofilemap')
             casalog.post("Exception Reported: Error in plotprofilemap: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'plotprofilemap', task_result )
+        return task_result
 
 plotprofilemap = _plotprofilemap( )
```

## casashell/private/plotweather.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_plotweather import plotweather as _plotweather_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -271,15 +273,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('plotweather.pre')
         _postfile = os.path.realpath('plotweather.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,seasonal_weight,doPlot,plotName]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -310,24 +312,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _plotweather_t( _pc.document['vis'],_pc.document['seasonal_weight'],_pc.document['doPlot'],_pc.document['plotName'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'plotweather', [ 'vis=' + repr(_pc.document['vis']), 'seasonal_weight=' + repr(_pc.document['seasonal_weight']), 'doPlot=' + repr(_pc.document['doPlot']), 'plotName=' + repr(_pc.document['plotName']) ] )
+            task_result = _plotweather_t( _pc.document['vis'],_pc.document['seasonal_weight'],_pc.document['doPlot'],_pc.document['plotName'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('plotweather')
             casalog.post("Exception Reported: Error in plotweather: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'plotweather', task_result )
+        return task_result
 
 plotweather = _plotweather( )
```

## casashell/private/polcal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_polcal import polcal as _polcal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -996,15 +998,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('polcal.pre')
         _postfile = os.path.realpath('polcal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,caltable,field,spw,intent,selectdata,timerange,uvrange,antenna,scan,observation,msselect,solint,combine,preavg,refant,minblperant,minsnr,poltype,smodel,append,docallib,callib,gaintable,gainfield,interp,spwmap]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -1092,24 +1094,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _polcal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['preavg'],_pc.document['refant'],_pc.document['minblperant'],_pc.document['minsnr'],_pc.document['poltype'],_pc.document['smodel'],_pc.document['append'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'polcal', [ 'vis=' + repr(_pc.document['vis']), 'caltable=' + repr(_pc.document['caltable']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'msselect=' + repr(_pc.document['msselect']), 'solint=' + repr(_pc.document['solint']), 'combine=' + repr(_pc.document['combine']), 'preavg=' + repr(_pc.document['preavg']), 'refant=' + repr(_pc.document['refant']), 'minblperant=' + repr(_pc.document['minblperant']), 'minsnr=' + repr(_pc.document['minsnr']), 'poltype=' + repr(_pc.document['poltype']), 'smodel=' + repr(_pc.document['smodel']), 'append=' + repr(_pc.document['append']), 'docallib=' + repr(_pc.document['docallib']), 'callib=' + repr(_pc.document['callib']), 'gaintable=' + repr(_pc.document['gaintable']), 'gainfield=' + repr(_pc.document['gainfield']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']) ] )
+            task_result = _polcal_t( _pc.document['vis'],_pc.document['caltable'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['msselect'],_pc.document['solint'],_pc.document['combine'],_pc.document['preavg'],_pc.document['refant'],_pc.document['minblperant'],_pc.document['minsnr'],_pc.document['poltype'],_pc.document['smodel'],_pc.document['append'],_pc.document['docallib'],_pc.document['callib'],_pc.document['gaintable'],_pc.document['gainfield'],_pc.document['interp'],_pc.document['spwmap'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('polcal')
             casalog.post("Exception Reported: Error in polcal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'polcal', task_result )
+        return task_result
 
 polcal = _polcal( )
```

## casashell/private/polfromgain.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_polfromgain import polfromgain as _polfromgain_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -275,15 +277,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('polfromgain.pre')
         _postfile = os.path.realpath('polfromgain.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,tablein,caltable,paoffset]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -314,24 +316,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _polfromgain_t( _pc.document['vis'],_pc.document['tablein'],_pc.document['caltable'],_pc.document['paoffset'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'polfromgain', [ 'vis=' + repr(_pc.document['vis']), 'tablein=' + repr(_pc.document['tablein']), 'caltable=' + repr(_pc.document['caltable']), 'paoffset=' + repr(_pc.document['paoffset']) ] )
+            task_result = _polfromgain_t( _pc.document['vis'],_pc.document['tablein'],_pc.document['caltable'],_pc.document['paoffset'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('polfromgain')
             casalog.post("Exception Reported: Error in polfromgain: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'polfromgain', task_result )
+        return task_result
 
 polfromgain = _polfromgain( )
```

## casashell/private/predictcomp.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_predictcomp import predictcomp as _predictcomp_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -555,15 +557,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('predictcomp.pre')
         _postfile = os.path.realpath('predictcomp.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [objname,standard,epoch,minfreq,maxfreq,nfreqs,prefix,antennalist,showplot,savefig,symb,include0amp,include0bl,blunit,showbl0flux]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if objname is not None: local_global['objname'] = objname
@@ -625,24 +627,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _predictcomp_t( _pc.document['objname'],_pc.document['standard'],_pc.document['epoch'],_pc.document['minfreq'],_pc.document['maxfreq'],_pc.document['nfreqs'],_pc.document['prefix'],_pc.document['antennalist'],_pc.document['showplot'],_pc.document['savefig'],_pc.document['symb'],_pc.document['include0amp'],_pc.document['include0bl'],_pc.document['blunit'],_pc.document['showbl0flux'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'predictcomp', [ 'objname=' + repr(_pc.document['objname']), 'standard=' + repr(_pc.document['standard']), 'epoch=' + repr(_pc.document['epoch']), 'minfreq=' + repr(_pc.document['minfreq']), 'maxfreq=' + repr(_pc.document['maxfreq']), 'nfreqs=' + repr(_pc.document['nfreqs']), 'prefix=' + repr(_pc.document['prefix']), 'antennalist=' + repr(_pc.document['antennalist']), 'showplot=' + repr(_pc.document['showplot']), 'savefig=' + repr(_pc.document['savefig']), 'symb=' + repr(_pc.document['symb']), 'include0amp=' + repr(_pc.document['include0amp']), 'include0bl=' + repr(_pc.document['include0bl']), 'blunit=' + repr(_pc.document['blunit']), 'showbl0flux=' + repr(_pc.document['showbl0flux']) ] )
+            task_result = _predictcomp_t( _pc.document['objname'],_pc.document['standard'],_pc.document['epoch'],_pc.document['minfreq'],_pc.document['maxfreq'],_pc.document['nfreqs'],_pc.document['prefix'],_pc.document['antennalist'],_pc.document['showplot'],_pc.document['savefig'],_pc.document['symb'],_pc.document['include0amp'],_pc.document['include0bl'],_pc.document['blunit'],_pc.document['showbl0flux'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('predictcomp')
             casalog.post("Exception Reported: Error in predictcomp: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'predictcomp', task_result )
+        return task_result
 
 predictcomp = _predictcomp( )
```

## casashell/private/rerefant.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_rerefant import rerefant as _rerefant_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -303,15 +305,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('rerefant.pre')
         _postfile = os.path.realpath('rerefant.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,tablein,caltable,refantmode,refant]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -345,24 +347,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _rerefant_t( _pc.document['vis'],_pc.document['tablein'],_pc.document['caltable'],_pc.document['refantmode'],_pc.document['refant'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'rerefant', [ 'vis=' + repr(_pc.document['vis']), 'tablein=' + repr(_pc.document['tablein']), 'caltable=' + repr(_pc.document['caltable']), 'refantmode=' + repr(_pc.document['refantmode']), 'refant=' + repr(_pc.document['refant']) ] )
+            task_result = _rerefant_t( _pc.document['vis'],_pc.document['tablein'],_pc.document['caltable'],_pc.document['refantmode'],_pc.document['refant'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('rerefant')
             casalog.post("Exception Reported: Error in rerefant: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'rerefant', task_result )
+        return task_result
 
 rerefant = _rerefant( )
```

## casashell/private/rmfit.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_rmfit import rmfit as _rmfit_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -483,15 +485,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('rmfit.pre')
         _postfile = os.path.realpath('rmfit.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,rm,rmerr,pa0,pa0err,nturns,chisq,sigma,rmfg,rmmax,maxpaerr]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -543,24 +545,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _rmfit_t( _pc.document['imagename'],_pc.document['rm'],_pc.document['rmerr'],_pc.document['pa0'],_pc.document['pa0err'],_pc.document['nturns'],_pc.document['chisq'],_pc.document['sigma'],_pc.document['rmfg'],_pc.document['rmmax'],_pc.document['maxpaerr'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'rmfit', [ 'imagename=' + repr(_pc.document['imagename']), 'rm=' + repr(_pc.document['rm']), 'rmerr=' + repr(_pc.document['rmerr']), 'pa0=' + repr(_pc.document['pa0']), 'pa0err=' + repr(_pc.document['pa0err']), 'nturns=' + repr(_pc.document['nturns']), 'chisq=' + repr(_pc.document['chisq']), 'sigma=' + repr(_pc.document['sigma']), 'rmfg=' + repr(_pc.document['rmfg']), 'rmmax=' + repr(_pc.document['rmmax']), 'maxpaerr=' + repr(_pc.document['maxpaerr']) ] )
+            task_result = _rmfit_t( _pc.document['imagename'],_pc.document['rm'],_pc.document['rmerr'],_pc.document['pa0'],_pc.document['pa0err'],_pc.document['nturns'],_pc.document['chisq'],_pc.document['sigma'],_pc.document['rmfg'],_pc.document['rmmax'],_pc.document['maxpaerr'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('rmfit')
             casalog.post("Exception Reported: Error in rmfit: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'rmfit', task_result )
+        return task_result
 
 rmfit = _rmfit( )
```

## casashell/private/rmtables.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_rmtables import rmtables as _rmtables_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -200,15 +202,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('rmtables.pre')
         _postfile = os.path.realpath('rmtables.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [tablenames]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if tablenames is not None: local_global['tablenames'] = tablenames
@@ -230,24 +232,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _rmtables_t( _pc.document['tablenames'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'rmtables', [ 'tablenames=' + repr(_pc.document['tablenames']) ] )
+            task_result = _rmtables_t( _pc.document['tablenames'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('rmtables')
             casalog.post("Exception Reported: Error in rmtables: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'rmtables', task_result )
+        return task_result
 
 rmtables = _rmtables( )
```

## casashell/private/sdatmcor.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdatmcor import sdatmcor as _sdatmcor_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1039,15 +1041,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdatmcor.pre')
         _postfile = os.path.realpath('sdatmcor.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,datacolumn,outfile,overwrite,field,spw,scan,antenna,correlation,timerange,intent,observation,feed,msselect,outputspw,gainfactor,dtem_dh,h0,atmtype,atmdetail,altitude,temperature,pressure,humidity,pwv,dp,dpm,layerboundaries,layertemperature]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -1143,24 +1145,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdatmcor_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['observation'],_pc.document['feed'],_pc.document['msselect'],_pc.document['outputspw'],_pc.document['gainfactor'],_pc.document['dtem_dh'],_pc.document['h0'],_pc.document['atmtype'],_pc.document['atmdetail'],_pc.document['altitude'],_pc.document['temperature'],_pc.document['pressure'],_pc.document['humidity'],_pc.document['pwv'],_pc.document['dp'],_pc.document['dpm'],_pc.document['layerboundaries'],_pc.document['layertemperature'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdatmcor', [ 'infile=' + repr(_pc.document['infile']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'antenna=' + repr(_pc.document['antenna']), 'correlation=' + repr(_pc.document['correlation']), 'timerange=' + repr(_pc.document['timerange']), 'intent=' + repr(_pc.document['intent']), 'observation=' + repr(_pc.document['observation']), 'feed=' + repr(_pc.document['feed']), 'msselect=' + repr(_pc.document['msselect']), 'outputspw=' + repr(_pc.document['outputspw']), 'gainfactor=' + repr(_pc.document['gainfactor']), 'dtem_dh=' + repr(_pc.document['dtem_dh']), 'h0=' + repr(_pc.document['h0']), 'atmtype=' + repr(_pc.document['atmtype']), 'atmdetail=' + repr(_pc.document['atmdetail']), 'altitude=' + repr(_pc.document['altitude']), 'temperature=' + repr(_pc.document['temperature']), 'pressure=' + repr(_pc.document['pressure']), 'humidity=' + repr(_pc.document['humidity']), 'pwv=' + repr(_pc.document['pwv']), 'dp=' + repr(_pc.document['dp']), 'dpm=' + repr(_pc.document['dpm']), 'layerboundaries=' + repr(_pc.document['layerboundaries']), 'layertemperature=' + repr(_pc.document['layertemperature']) ] )
+            task_result = _sdatmcor_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['observation'],_pc.document['feed'],_pc.document['msselect'],_pc.document['outputspw'],_pc.document['gainfactor'],_pc.document['dtem_dh'],_pc.document['h0'],_pc.document['atmtype'],_pc.document['atmdetail'],_pc.document['altitude'],_pc.document['temperature'],_pc.document['pressure'],_pc.document['humidity'],_pc.document['pwv'],_pc.document['dp'],_pc.document['dpm'],_pc.document['layerboundaries'],_pc.document['layertemperature'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdatmcor')
             casalog.post("Exception Reported: Error in sdatmcor: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdatmcor', task_result )
+        return task_result
 
 sdatmcor = _sdatmcor( )
```

## casashell/private/sdbaseline.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdbaseline import sdbaseline as _sdbaseline_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1435,15 +1437,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdbaseline.pre')
         _postfile = os.path.realpath('sdbaseline.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,datacolumn,antenna,field,spw,timerange,scan,pol,intent,reindex,maskmode,thresh,avg_limit,minwidth,edge,blmode,dosubtract,blformat,bloutput,bltable,blfunc,order,npiece,applyfft,fftmethod,fftthresh,addwn,rejwn,clipthresh,clipniter,blparam,verbose,updateweight,sigmavalue,showprogress,minnrow,outfile,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -1554,24 +1556,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdbaseline_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['pol'],_pc.document['intent'],_pc.document['reindex'],_pc.document['maskmode'],_pc.document['thresh'],_pc.document['avg_limit'],_pc.document['minwidth'],_pc.document['edge'],_pc.document['blmode'],_pc.document['dosubtract'],_pc.document['blformat'],_pc.document['bloutput'],_pc.document['bltable'],_pc.document['blfunc'],_pc.document['order'],_pc.document['npiece'],_pc.document['applyfft'],_pc.document['fftmethod'],_pc.document['fftthresh'],_pc.document['addwn'],_pc.document['rejwn'],_pc.document['clipthresh'],_pc.document['clipniter'],_pc.document['blparam'],_pc.document['verbose'],_pc.document['updateweight'],_pc.document['sigmavalue'],_pc.document['showprogress'],_pc.document['minnrow'],_pc.document['outfile'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdbaseline', [ 'infile=' + repr(_pc.document['infile']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'antenna=' + repr(_pc.document['antenna']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'timerange=' + repr(_pc.document['timerange']), 'scan=' + repr(_pc.document['scan']), 'pol=' + repr(_pc.document['pol']), 'intent=' + repr(_pc.document['intent']), 'reindex=' + repr(_pc.document['reindex']), 'maskmode=' + repr(_pc.document['maskmode']), 'thresh=' + repr(_pc.document['thresh']), 'avg_limit=' + repr(_pc.document['avg_limit']), 'minwidth=' + repr(_pc.document['minwidth']), 'edge=' + repr(_pc.document['edge']), 'blmode=' + repr(_pc.document['blmode']), 'dosubtract=' + repr(_pc.document['dosubtract']), 'blformat=' + repr(_pc.document['blformat']), 'bloutput=' + repr(_pc.document['bloutput']), 'bltable=' + repr(_pc.document['bltable']), 'blfunc=' + repr(_pc.document['blfunc']), 'order=' + repr(_pc.document['order']), 'npiece=' + repr(_pc.document['npiece']), 'applyfft=' + repr(_pc.document['applyfft']), 'fftmethod=' + repr(_pc.document['fftmethod']), 'fftthresh=' + repr(_pc.document['fftthresh']), 'addwn=' + repr(_pc.document['addwn']), 'rejwn=' + repr(_pc.document['rejwn']), 'clipthresh=' + repr(_pc.document['clipthresh']), 'clipniter=' + repr(_pc.document['clipniter']), 'blparam=' + repr(_pc.document['blparam']), 'verbose=' + repr(_pc.document['verbose']), 'updateweight=' + repr(_pc.document['updateweight']), 'sigmavalue=' + repr(_pc.document['sigmavalue']), 'showprogress=' + repr(_pc.document['showprogress']), 'minnrow=' + repr(_pc.document['minnrow']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _sdbaseline_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['pol'],_pc.document['intent'],_pc.document['reindex'],_pc.document['maskmode'],_pc.document['thresh'],_pc.document['avg_limit'],_pc.document['minwidth'],_pc.document['edge'],_pc.document['blmode'],_pc.document['dosubtract'],_pc.document['blformat'],_pc.document['bloutput'],_pc.document['bltable'],_pc.document['blfunc'],_pc.document['order'],_pc.document['npiece'],_pc.document['applyfft'],_pc.document['fftmethod'],_pc.document['fftthresh'],_pc.document['addwn'],_pc.document['rejwn'],_pc.document['clipthresh'],_pc.document['clipniter'],_pc.document['blparam'],_pc.document['verbose'],_pc.document['updateweight'],_pc.document['sigmavalue'],_pc.document['showprogress'],_pc.document['minnrow'],_pc.document['outfile'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdbaseline')
             casalog.post("Exception Reported: Error in sdbaseline: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdbaseline', task_result )
+        return task_result
 
 sdbaseline = _sdbaseline( )
```

## casashell/private/sdcal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdcal import sdcal as _sdcal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -846,15 +848,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdcal.pre')
         _postfile = os.path.realpath('sdcal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,calmode,fraction,noff,width,elongated,applytable,interp,spwmap,outfile,overwrite,field,spw,scan,intent]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -907,24 +909,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdcal_t( _pc.document['infile'],_pc.document['calmode'],_pc.document['fraction'],_pc.document['noff'],_pc.document['width'],_pc.document['elongated'],_pc.document['applytable'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['intent'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdcal', [ 'infile=' + repr(_pc.document['infile']), 'calmode=' + repr(_pc.document['calmode']), 'fraction=' + repr(_pc.document['fraction']), 'noff=' + repr(_pc.document['noff']), 'width=' + repr(_pc.document['width']), 'elongated=' + repr(_pc.document['elongated']), 'applytable=' + repr(_pc.document['applytable']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']) ] )
+            task_result = _sdcal_t( _pc.document['infile'],_pc.document['calmode'],_pc.document['fraction'],_pc.document['noff'],_pc.document['width'],_pc.document['elongated'],_pc.document['applytable'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['intent'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdcal')
             casalog.post("Exception Reported: Error in sdcal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdcal', task_result )
+        return task_result
 
 sdcal = _sdcal( )
```

## casashell/private/sdfit.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdfit import sdfit as _sdfit_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -800,15 +802,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdfit.pre')
         _postfile = os.path.realpath('sdfit.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,datacolumn,antenna,field,spw,timerange,scan,pol,intent,timebin,timespan,polaverage,fitfunc,fitmode,nfit,thresh,avg_limit,minwidth,edge,outfile,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -883,24 +885,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdfit_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['pol'],_pc.document['intent'],_pc.document['timebin'],_pc.document['timespan'],_pc.document['polaverage'],_pc.document['fitfunc'],_pc.document['fitmode'],_pc.document['nfit'],_pc.document['thresh'],_pc.document['avg_limit'],_pc.document['minwidth'],_pc.document['edge'],_pc.document['outfile'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdfit', [ 'infile=' + repr(_pc.document['infile']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'antenna=' + repr(_pc.document['antenna']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'timerange=' + repr(_pc.document['timerange']), 'scan=' + repr(_pc.document['scan']), 'pol=' + repr(_pc.document['pol']), 'intent=' + repr(_pc.document['intent']), 'timebin=' + repr(_pc.document['timebin']), 'timespan=' + repr(_pc.document['timespan']), 'polaverage=' + repr(_pc.document['polaverage']), 'fitfunc=' + repr(_pc.document['fitfunc']), 'fitmode=' + repr(_pc.document['fitmode']), 'nfit=' + repr(_pc.document['nfit']), 'thresh=' + repr(_pc.document['thresh']), 'avg_limit=' + repr(_pc.document['avg_limit']), 'minwidth=' + repr(_pc.document['minwidth']), 'edge=' + repr(_pc.document['edge']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _sdfit_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['pol'],_pc.document['intent'],_pc.document['timebin'],_pc.document['timespan'],_pc.document['polaverage'],_pc.document['fitfunc'],_pc.document['fitmode'],_pc.document['nfit'],_pc.document['thresh'],_pc.document['avg_limit'],_pc.document['minwidth'],_pc.document['edge'],_pc.document['outfile'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdfit')
             casalog.post("Exception Reported: Error in sdfit: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdfit', task_result )
+        return task_result
 
 sdfit = _sdfit( )
```

## casashell/private/sdfixscan.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdfixscan import sdfixscan as _sdfixscan_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -512,15 +514,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdfixscan.pre')
         _postfile = os.path.realpath('sdfixscan.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infiles,mode,numpoly,beamsize,smoothsize,direction,maskwidth,tmax,tmin,outfile,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infiles is not None: local_global['infiles'] = infiles
@@ -566,24 +568,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdfixscan_t( _pc.document['infiles'],_pc.document['mode'],_pc.document['numpoly'],_pc.document['beamsize'],_pc.document['smoothsize'],_pc.document['direction'],_pc.document['maskwidth'],_pc.document['tmax'],_pc.document['tmin'],_pc.document['outfile'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdfixscan', [ 'infiles=' + repr(_pc.document['infiles']), 'mode=' + repr(_pc.document['mode']), 'numpoly=' + repr(_pc.document['numpoly']), 'beamsize=' + repr(_pc.document['beamsize']), 'smoothsize=' + repr(_pc.document['smoothsize']), 'direction=' + repr(_pc.document['direction']), 'maskwidth=' + repr(_pc.document['maskwidth']), 'tmax=' + repr(_pc.document['tmax']), 'tmin=' + repr(_pc.document['tmin']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _sdfixscan_t( _pc.document['infiles'],_pc.document['mode'],_pc.document['numpoly'],_pc.document['beamsize'],_pc.document['smoothsize'],_pc.document['direction'],_pc.document['maskwidth'],_pc.document['tmax'],_pc.document['tmin'],_pc.document['outfile'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdfixscan')
             casalog.post("Exception Reported: Error in sdfixscan: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdfixscan', task_result )
+        return task_result
 
 sdfixscan = _sdfixscan( )
```

## casashell/private/sdgaincal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdgaincal import sdgaincal as _sdgaincal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -626,15 +628,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdgaincal.pre')
         _postfile = os.path.realpath('sdgaincal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,calmode,radius,smooth,antenna,field,spw,scan,intent,applytable,interp,spwmap,outfile,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -689,24 +691,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdgaincal_t( _pc.document['infile'],_pc.document['calmode'],_pc.document['radius'],_pc.document['smooth'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['intent'],_pc.document['applytable'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['outfile'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdgaincal', [ 'infile=' + repr(_pc.document['infile']), 'calmode=' + repr(_pc.document['calmode']), 'radius=' + repr(_pc.document['radius']), 'smooth=' + repr(_pc.document['smooth']), 'antenna=' + repr(_pc.document['antenna']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']), 'applytable=' + repr(_pc.document['applytable']), 'interp=' + repr(_pc.document['interp']), 'spwmap=' + repr(_pc.document['spwmap']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _sdgaincal_t( _pc.document['infile'],_pc.document['calmode'],_pc.document['radius'],_pc.document['smooth'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['intent'],_pc.document['applytable'],_pc.document['interp'],_pc.document['spwmap'],_pc.document['outfile'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdgaincal')
             casalog.post("Exception Reported: Error in sdgaincal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdgaincal', task_result )
+        return task_result
 
 sdgaincal = _sdgaincal( )
```

## casashell/private/sdimaging.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdimaging import sdimaging as _sdimaging_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1128,15 +1130,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdimaging.pre')
         _postfile = os.path.realpath('sdimaging.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infiles,outfile,overwrite,field,spw,antenna,scan,intent,mode,nchan,start,width,veltype,outframe,gridfunction,convsupport,truncate,gwidth,jwidth,imsize,cell,phasecenter,projection,ephemsrcname,pointingcolumn,restfreq,stokes,minweight,brightnessunit,clipminmax,enablecache]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infiles is not None: local_global['infiles'] = infiles
@@ -1239,24 +1241,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdimaging_t( _pc.document['infiles'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['field'],_pc.document['spw'],_pc.document['antenna'],_pc.document['scan'],_pc.document['intent'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['veltype'],_pc.document['outframe'],_pc.document['gridfunction'],_pc.document['convsupport'],_pc.document['truncate'],_pc.document['gwidth'],_pc.document['jwidth'],_pc.document['imsize'],_pc.document['cell'],_pc.document['phasecenter'],_pc.document['projection'],_pc.document['ephemsrcname'],_pc.document['pointingcolumn'],_pc.document['restfreq'],_pc.document['stokes'],_pc.document['minweight'],_pc.document['brightnessunit'],_pc.document['clipminmax'],_pc.document['enablecache'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdimaging', [ 'infiles=' + repr(_pc.document['infiles']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']), 'mode=' + repr(_pc.document['mode']), 'nchan=' + repr(_pc.document['nchan']), 'start=' + repr(_pc.document['start']), 'width=' + repr(_pc.document['width']), 'veltype=' + repr(_pc.document['veltype']), 'outframe=' + repr(_pc.document['outframe']), 'gridfunction=' + repr(_pc.document['gridfunction']), 'convsupport=' + repr(_pc.document['convsupport']), 'truncate=' + repr(_pc.document['truncate']), 'gwidth=' + repr(_pc.document['gwidth']), 'jwidth=' + repr(_pc.document['jwidth']), 'imsize=' + repr(_pc.document['imsize']), 'cell=' + repr(_pc.document['cell']), 'phasecenter=' + repr(_pc.document['phasecenter']), 'projection=' + repr(_pc.document['projection']), 'ephemsrcname=' + repr(_pc.document['ephemsrcname']), 'pointingcolumn=' + repr(_pc.document['pointingcolumn']), 'restfreq=' + repr(_pc.document['restfreq']), 'stokes=' + repr(_pc.document['stokes']), 'minweight=' + repr(_pc.document['minweight']), 'brightnessunit=' + repr(_pc.document['brightnessunit']), 'clipminmax=' + repr(_pc.document['clipminmax']), 'enablecache=' + repr(_pc.document['enablecache']) ] )
+            task_result = _sdimaging_t( _pc.document['infiles'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['field'],_pc.document['spw'],_pc.document['antenna'],_pc.document['scan'],_pc.document['intent'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['veltype'],_pc.document['outframe'],_pc.document['gridfunction'],_pc.document['convsupport'],_pc.document['truncate'],_pc.document['gwidth'],_pc.document['jwidth'],_pc.document['imsize'],_pc.document['cell'],_pc.document['phasecenter'],_pc.document['projection'],_pc.document['ephemsrcname'],_pc.document['pointingcolumn'],_pc.document['restfreq'],_pc.document['stokes'],_pc.document['minweight'],_pc.document['brightnessunit'],_pc.document['clipminmax'],_pc.document['enablecache'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdimaging')
             casalog.post("Exception Reported: Error in sdimaging: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdimaging', task_result )
+        return task_result
 
 sdimaging = _sdimaging( )
```

## casashell/private/sdintimaging.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdintimaging import sdintimaging as _sdintimaging_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -3619,15 +3621,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdintimaging.pre')
         _postfile = os.path.realpath('sdintimaging.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [usedata,sdimage,sdpsf,sdgain,dishdia,vis,selectdata,field,spw,timerange,uvrange,antenna,scan,observation,intent,datacolumn,imagename,imsize,cell,phasecenter,stokes,projection,startmodel,specmode,reffreq,nchan,start,width,outframe,veltype,restfreq,interpolation,perchanweightdensity,gridder,facets,psfphasecenter,wprojplanes,vptable,mosweight,aterm,psterm,wbawp,cfcache,usepointing,computepastep,rotatepastep,pointingoffsetsigdev,pblimit,deconvolver,scales,nterms,smallscalebias,restoration,restoringbeam,pbcor,weighting,robust,noise,npixels,uvtaper,niter,gain,threshold,nsigma,cycleniter,cyclefactor,minpsffraction,maxpsffraction,interactive,fullsummary,nmajor,usemask,mask,pbmask,sidelobethreshold,noisethreshold,lownoisethreshold,negativethreshold,smoothfactor,minbeamfrac,cutthreshold,growiterations,dogrowprune,minpercentchange,verbose,fastnoise,restart,calcres,calcpsf]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if usedata is not None: local_global['usedata'] = usedata
@@ -3854,24 +3856,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdintimaging_t( _pc.document['usedata'],_pc.document['sdimage'],_pc.document['sdpsf'],_pc.document['sdgain'],_pc.document['dishdia'],_pc.document['vis'],_pc.document['selectdata'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['intent'],_pc.document['datacolumn'],_pc.document['imagename'],_pc.document['imsize'],_pc.document['cell'],_pc.document['phasecenter'],_pc.document['stokes'],_pc.document['projection'],_pc.document['startmodel'],_pc.document['specmode'],_pc.document['reffreq'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['restfreq'],_pc.document['interpolation'],_pc.document['perchanweightdensity'],_pc.document['gridder'],_pc.document['facets'],_pc.document['psfphasecenter'],_pc.document['wprojplanes'],_pc.document['vptable'],_pc.document['mosweight'],_pc.document['aterm'],_pc.document['psterm'],_pc.document['wbawp'],_pc.document['cfcache'],_pc.document['usepointing'],_pc.document['computepastep'],_pc.document['rotatepastep'],_pc.document['pointingoffsetsigdev'],_pc.document['pblimit'],_pc.document['deconvolver'],_pc.document['scales'],_pc.document['nterms'],_pc.document['smallscalebias'],_pc.document['restoration'],_pc.document['restoringbeam'],_pc.document['pbcor'],_pc.document['weighting'],_pc.document['robust'],_pc.document['noise'],_pc.document['npixels'],_pc.document['uvtaper'],_pc.document['niter'],_pc.document['gain'],_pc.document['threshold'],_pc.document['nsigma'],_pc.document['cycleniter'],_pc.document['cyclefactor'],_pc.document['minpsffraction'],_pc.document['maxpsffraction'],_pc.document['interactive'],_pc.document['fullsummary'],_pc.document['nmajor'],_pc.document['usemask'],_pc.document['mask'],_pc.document['pbmask'],_pc.document['sidelobethreshold'],_pc.document['noisethreshold'],_pc.document['lownoisethreshold'],_pc.document['negativethreshold'],_pc.document['smoothfactor'],_pc.document['minbeamfrac'],_pc.document['cutthreshold'],_pc.document['growiterations'],_pc.document['dogrowprune'],_pc.document['minpercentchange'],_pc.document['verbose'],_pc.document['fastnoise'],_pc.document['restart'],_pc.document['calcres'],_pc.document['calcpsf'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdintimaging', [ 'usedata=' + repr(_pc.document['usedata']), 'sdimage=' + repr(_pc.document['sdimage']), 'sdpsf=' + repr(_pc.document['sdpsf']), 'sdgain=' + repr(_pc.document['sdgain']), 'dishdia=' + repr(_pc.document['dishdia']), 'vis=' + repr(_pc.document['vis']), 'selectdata=' + repr(_pc.document['selectdata']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'intent=' + repr(_pc.document['intent']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'imagename=' + repr(_pc.document['imagename']), 'imsize=' + repr(_pc.document['imsize']), 'cell=' + repr(_pc.document['cell']), 'phasecenter=' + repr(_pc.document['phasecenter']), 'stokes=' + repr(_pc.document['stokes']), 'projection=' + repr(_pc.document['projection']), 'startmodel=' + repr(_pc.document['startmodel']), 'specmode=' + repr(_pc.document['specmode']), 'reffreq=' + repr(_pc.document['reffreq']), 'nchan=' + repr(_pc.document['nchan']), 'start=' + repr(_pc.document['start']), 'width=' + repr(_pc.document['width']), 'outframe=' + repr(_pc.document['outframe']), 'veltype=' + repr(_pc.document['veltype']), 'restfreq=' + repr(_pc.document['restfreq']), 'interpolation=' + repr(_pc.document['interpolation']), 'perchanweightdensity=' + repr(_pc.document['perchanweightdensity']), 'gridder=' + repr(_pc.document['gridder']), 'facets=' + repr(_pc.document['facets']), 'psfphasecenter=' + repr(_pc.document['psfphasecenter']), 'wprojplanes=' + repr(_pc.document['wprojplanes']), 'vptable=' + repr(_pc.document['vptable']), 'mosweight=' + repr(_pc.document['mosweight']), 'aterm=' + repr(_pc.document['aterm']), 'psterm=' + repr(_pc.document['psterm']), 'wbawp=' + repr(_pc.document['wbawp']), 'cfcache=' + repr(_pc.document['cfcache']), 'usepointing=' + repr(_pc.document['usepointing']), 'computepastep=' + repr(_pc.document['computepastep']), 'rotatepastep=' + repr(_pc.document['rotatepastep']), 'pointingoffsetsigdev=' + repr(_pc.document['pointingoffsetsigdev']), 'pblimit=' + repr(_pc.document['pblimit']), 'deconvolver=' + repr(_pc.document['deconvolver']), 'scales=' + repr(_pc.document['scales']), 'nterms=' + repr(_pc.document['nterms']), 'smallscalebias=' + repr(_pc.document['smallscalebias']), 'restoration=' + repr(_pc.document['restoration']), 'restoringbeam=' + repr(_pc.document['restoringbeam']), 'pbcor=' + repr(_pc.document['pbcor']), 'weighting=' + repr(_pc.document['weighting']), 'robust=' + repr(_pc.document['robust']), 'noise=' + repr(_pc.document['noise']), 'npixels=' + repr(_pc.document['npixels']), 'uvtaper=' + repr(_pc.document['uvtaper']), 'niter=' + repr(_pc.document['niter']), 'gain=' + repr(_pc.document['gain']), 'threshold=' + repr(_pc.document['threshold']), 'nsigma=' + repr(_pc.document['nsigma']), 'cycleniter=' + repr(_pc.document['cycleniter']), 'cyclefactor=' + repr(_pc.document['cyclefactor']), 'minpsffraction=' + repr(_pc.document['minpsffraction']), 'maxpsffraction=' + repr(_pc.document['maxpsffraction']), 'interactive=' + repr(_pc.document['interactive']), 'fullsummary=' + repr(_pc.document['fullsummary']), 'nmajor=' + repr(_pc.document['nmajor']), 'usemask=' + repr(_pc.document['usemask']), 'mask=' + repr(_pc.document['mask']), 'pbmask=' + repr(_pc.document['pbmask']), 'sidelobethreshold=' + repr(_pc.document['sidelobethreshold']), 'noisethreshold=' + repr(_pc.document['noisethreshold']), 'lownoisethreshold=' + repr(_pc.document['lownoisethreshold']), 'negativethreshold=' + repr(_pc.document['negativethreshold']), 'smoothfactor=' + repr(_pc.document['smoothfactor']), 'minbeamfrac=' + repr(_pc.document['minbeamfrac']), 'cutthreshold=' + repr(_pc.document['cutthreshold']), 'growiterations=' + repr(_pc.document['growiterations']), 'dogrowprune=' + repr(_pc.document['dogrowprune']), 'minpercentchange=' + repr(_pc.document['minpercentchange']), 'verbose=' + repr(_pc.document['verbose']), 'fastnoise=' + repr(_pc.document['fastnoise']), 'restart=' + repr(_pc.document['restart']), 'calcres=' + repr(_pc.document['calcres']), 'calcpsf=' + repr(_pc.document['calcpsf']) ] )
+            task_result = _sdintimaging_t( _pc.document['usedata'],_pc.document['sdimage'],_pc.document['sdpsf'],_pc.document['sdgain'],_pc.document['dishdia'],_pc.document['vis'],_pc.document['selectdata'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['intent'],_pc.document['datacolumn'],_pc.document['imagename'],_pc.document['imsize'],_pc.document['cell'],_pc.document['phasecenter'],_pc.document['stokes'],_pc.document['projection'],_pc.document['startmodel'],_pc.document['specmode'],_pc.document['reffreq'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['restfreq'],_pc.document['interpolation'],_pc.document['perchanweightdensity'],_pc.document['gridder'],_pc.document['facets'],_pc.document['psfphasecenter'],_pc.document['wprojplanes'],_pc.document['vptable'],_pc.document['mosweight'],_pc.document['aterm'],_pc.document['psterm'],_pc.document['wbawp'],_pc.document['cfcache'],_pc.document['usepointing'],_pc.document['computepastep'],_pc.document['rotatepastep'],_pc.document['pointingoffsetsigdev'],_pc.document['pblimit'],_pc.document['deconvolver'],_pc.document['scales'],_pc.document['nterms'],_pc.document['smallscalebias'],_pc.document['restoration'],_pc.document['restoringbeam'],_pc.document['pbcor'],_pc.document['weighting'],_pc.document['robust'],_pc.document['noise'],_pc.document['npixels'],_pc.document['uvtaper'],_pc.document['niter'],_pc.document['gain'],_pc.document['threshold'],_pc.document['nsigma'],_pc.document['cycleniter'],_pc.document['cyclefactor'],_pc.document['minpsffraction'],_pc.document['maxpsffraction'],_pc.document['interactive'],_pc.document['fullsummary'],_pc.document['nmajor'],_pc.document['usemask'],_pc.document['mask'],_pc.document['pbmask'],_pc.document['sidelobethreshold'],_pc.document['noisethreshold'],_pc.document['lownoisethreshold'],_pc.document['negativethreshold'],_pc.document['smoothfactor'],_pc.document['minbeamfrac'],_pc.document['cutthreshold'],_pc.document['growiterations'],_pc.document['dogrowprune'],_pc.document['minpercentchange'],_pc.document['verbose'],_pc.document['fastnoise'],_pc.document['restart'],_pc.document['calcres'],_pc.document['calcpsf'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdintimaging')
             casalog.post("Exception Reported: Error in sdintimaging: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdintimaging', task_result )
+        return task_result
 
 sdintimaging = _sdintimaging( )
```

## casashell/private/sdpolaverage.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdpolaverage import sdpolaverage as _sdpolaverage_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -451,15 +453,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdpolaverage.pre')
         _postfile = os.path.realpath('sdpolaverage.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,datacolumn,antenna,field,spw,timerange,scan,intent,polaverage,outfile]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -508,24 +510,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdpolaverage_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['intent'],_pc.document['polaverage'],_pc.document['outfile'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdpolaverage', [ 'infile=' + repr(_pc.document['infile']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'antenna=' + repr(_pc.document['antenna']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'timerange=' + repr(_pc.document['timerange']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']), 'polaverage=' + repr(_pc.document['polaverage']), 'outfile=' + repr(_pc.document['outfile']) ] )
+            task_result = _sdpolaverage_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['intent'],_pc.document['polaverage'],_pc.document['outfile'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdpolaverage')
             casalog.post("Exception Reported: Error in sdpolaverage: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdpolaverage', task_result )
+        return task_result
 
 sdpolaverage = _sdpolaverage( )
```

## casashell/private/sdsidebandsplit.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdsidebandsplit import sdsidebandsplit as _sdsidebandsplit_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -419,15 +421,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdsidebandsplit.pre')
         _postfile = os.path.realpath('sdsidebandsplit.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,outfile,overwrite,signalshift,imageshift,getbothside,refchan,refval,otherside,threshold]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -473,24 +475,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdsidebandsplit_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['signalshift'],_pc.document['imageshift'],_pc.document['getbothside'],_pc.document['refchan'],_pc.document['refval'],_pc.document['otherside'],_pc.document['threshold'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdsidebandsplit', [ 'imagename=' + repr(_pc.document['imagename']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']), 'signalshift=' + repr(_pc.document['signalshift']), 'imageshift=' + repr(_pc.document['imageshift']), 'getbothside=' + repr(_pc.document['getbothside']), 'refchan=' + repr(_pc.document['refchan']), 'refval=' + repr(_pc.document['refval']), 'otherside=' + repr(_pc.document['otherside']), 'threshold=' + repr(_pc.document['threshold']) ] )
+            task_result = _sdsidebandsplit_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['signalshift'],_pc.document['imageshift'],_pc.document['getbothside'],_pc.document['refchan'],_pc.document['refval'],_pc.document['otherside'],_pc.document['threshold'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdsidebandsplit')
             casalog.post("Exception Reported: Error in sdsidebandsplit: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdsidebandsplit', task_result )
+        return task_result
 
 sdsidebandsplit = _sdsidebandsplit( )
```

## casashell/private/sdsmooth.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdsmooth import sdsmooth as _sdsmooth_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -545,15 +547,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdsmooth.pre')
         _postfile = os.path.realpath('sdsmooth.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,datacolumn,antenna,field,spw,timerange,scan,pol,intent,reindex,kernel,kwidth,outfile,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -612,24 +614,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdsmooth_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['pol'],_pc.document['intent'],_pc.document['reindex'],_pc.document['kernel'],_pc.document['kwidth'],_pc.document['outfile'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdsmooth', [ 'infile=' + repr(_pc.document['infile']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'antenna=' + repr(_pc.document['antenna']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'timerange=' + repr(_pc.document['timerange']), 'scan=' + repr(_pc.document['scan']), 'pol=' + repr(_pc.document['pol']), 'intent=' + repr(_pc.document['intent']), 'reindex=' + repr(_pc.document['reindex']), 'kernel=' + repr(_pc.document['kernel']), 'kwidth=' + repr(_pc.document['kwidth']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _sdsmooth_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['antenna'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['pol'],_pc.document['intent'],_pc.document['reindex'],_pc.document['kernel'],_pc.document['kwidth'],_pc.document['outfile'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdsmooth')
             casalog.post("Exception Reported: Error in sdsmooth: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdsmooth', task_result )
+        return task_result
 
 sdsmooth = _sdsmooth( )
```

## casashell/private/sdtimeaverage.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_sdtimeaverage import sdtimeaverage as _sdtimeaverage_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -444,15 +446,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('sdtimeaverage.pre')
         _postfile = os.path.realpath('sdtimeaverage.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infile,datacolumn,field,spw,timerange,scan,antenna,timebin,timespan,outfile]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infile is not None: local_global['infile'] = infile
@@ -501,24 +503,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _sdtimeaverage_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['antenna'],_pc.document['timebin'],_pc.document['timespan'],_pc.document['outfile'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'sdtimeaverage', [ 'infile=' + repr(_pc.document['infile']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'timerange=' + repr(_pc.document['timerange']), 'scan=' + repr(_pc.document['scan']), 'antenna=' + repr(_pc.document['antenna']), 'timebin=' + repr(_pc.document['timebin']), 'timespan=' + repr(_pc.document['timespan']), 'outfile=' + repr(_pc.document['outfile']) ] )
+            task_result = _sdtimeaverage_t( _pc.document['infile'],_pc.document['datacolumn'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['scan'],_pc.document['antenna'],_pc.document['timebin'],_pc.document['timespan'],_pc.document['outfile'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('sdtimeaverage')
             casalog.post("Exception Reported: Error in sdtimeaverage: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'sdtimeaverage', task_result )
+        return task_result
 
 sdtimeaverage = _sdtimeaverage( )
```

## casashell/private/setjy.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_setjy import setjy as _setjy_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1047,15 +1049,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('setjy.pre')
         _postfile = os.path.realpath('setjy.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,field,spw,selectdata,timerange,scan,intent,observation,scalebychan,standard,model,listmodels,fluxdensity,spix,reffreq,polindex,polangle,rotmeas,fluxdict,useephemdir,interpolation,usescratch,ismms]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -1126,24 +1128,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _setjy_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['scan'],_pc.document['intent'],_pc.document['observation'],_pc.document['scalebychan'],_pc.document['standard'],_pc.document['model'],_pc.document['listmodels'],_pc.document['fluxdensity'],_pc.document['spix'],_pc.document['reffreq'],_pc.document['polindex'],_pc.document['polangle'],_pc.document['rotmeas'],_pc.document['fluxdict'],_pc.document['useephemdir'],_pc.document['interpolation'],_pc.document['usescratch'],_pc.document['ismms'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'setjy', [ 'vis=' + repr(_pc.document['vis']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']), 'observation=' + repr(_pc.document['observation']), 'scalebychan=' + repr(_pc.document['scalebychan']), 'standard=' + repr(_pc.document['standard']), 'model=' + repr(_pc.document['model']), 'listmodels=' + repr(_pc.document['listmodels']), 'fluxdensity=' + repr(_pc.document['fluxdensity']), 'spix=' + repr(_pc.document['spix']), 'reffreq=' + repr(_pc.document['reffreq']), 'polindex=' + repr(_pc.document['polindex']), 'polangle=' + repr(_pc.document['polangle']), 'rotmeas=' + repr(_pc.document['rotmeas']), 'fluxdict=' + repr(_pc.document['fluxdict']), 'useephemdir=' + repr(_pc.document['useephemdir']), 'interpolation=' + repr(_pc.document['interpolation']), 'usescratch=' + repr(_pc.document['usescratch']), 'ismms=' + repr(_pc.document['ismms']) ] )
+            task_result = _setjy_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['scan'],_pc.document['intent'],_pc.document['observation'],_pc.document['scalebychan'],_pc.document['standard'],_pc.document['model'],_pc.document['listmodels'],_pc.document['fluxdensity'],_pc.document['spix'],_pc.document['reffreq'],_pc.document['polindex'],_pc.document['polangle'],_pc.document['rotmeas'],_pc.document['fluxdict'],_pc.document['useephemdir'],_pc.document['interpolation'],_pc.document['usescratch'],_pc.document['ismms'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('setjy')
             casalog.post("Exception Reported: Error in setjy: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'setjy', task_result )
+        return task_result
 
 setjy = _setjy( )
```

## casashell/private/simalma.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_simalma import simalma as _simalma_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1020,15 +1022,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('simalma.pre')
         _postfile = os.path.realpath('simalma.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [project,dryrun,skymodel,inbright,indirection,incell,incenter,inwidth,complist,compwidth,setpointings,ptgfile,integration,direction,mapsize,antennalist,hourangle,totaltime,tpnant,tptime,pwv,image,imsize,imdirection,cell,niter,threshold,graphics,verbose,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if project is not None: local_global['project'] = project
@@ -1120,24 +1122,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _simalma_t( _pc.document['project'],_pc.document['dryrun'],_pc.document['skymodel'],_pc.document['inbright'],_pc.document['indirection'],_pc.document['incell'],_pc.document['incenter'],_pc.document['inwidth'],_pc.document['complist'],_pc.document['compwidth'],_pc.document['setpointings'],_pc.document['ptgfile'],_pc.document['integration'],_pc.document['direction'],_pc.document['mapsize'],_pc.document['antennalist'],_pc.document['hourangle'],_pc.document['totaltime'],_pc.document['tpnant'],_pc.document['tptime'],_pc.document['pwv'],_pc.document['image'],_pc.document['imsize'],_pc.document['imdirection'],_pc.document['cell'],_pc.document['niter'],_pc.document['threshold'],_pc.document['graphics'],_pc.document['verbose'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'simalma', [ 'project=' + repr(_pc.document['project']), 'dryrun=' + repr(_pc.document['dryrun']), 'skymodel=' + repr(_pc.document['skymodel']), 'inbright=' + repr(_pc.document['inbright']), 'indirection=' + repr(_pc.document['indirection']), 'incell=' + repr(_pc.document['incell']), 'incenter=' + repr(_pc.document['incenter']), 'inwidth=' + repr(_pc.document['inwidth']), 'complist=' + repr(_pc.document['complist']), 'compwidth=' + repr(_pc.document['compwidth']), 'setpointings=' + repr(_pc.document['setpointings']), 'ptgfile=' + repr(_pc.document['ptgfile']), 'integration=' + repr(_pc.document['integration']), 'direction=' + repr(_pc.document['direction']), 'mapsize=' + repr(_pc.document['mapsize']), 'antennalist=' + repr(_pc.document['antennalist']), 'hourangle=' + repr(_pc.document['hourangle']), 'totaltime=' + repr(_pc.document['totaltime']), 'tpnant=' + repr(_pc.document['tpnant']), 'tptime=' + repr(_pc.document['tptime']), 'pwv=' + repr(_pc.document['pwv']), 'image=' + repr(_pc.document['image']), 'imsize=' + repr(_pc.document['imsize']), 'imdirection=' + repr(_pc.document['imdirection']), 'cell=' + repr(_pc.document['cell']), 'niter=' + repr(_pc.document['niter']), 'threshold=' + repr(_pc.document['threshold']), 'graphics=' + repr(_pc.document['graphics']), 'verbose=' + repr(_pc.document['verbose']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _simalma_t( _pc.document['project'],_pc.document['dryrun'],_pc.document['skymodel'],_pc.document['inbright'],_pc.document['indirection'],_pc.document['incell'],_pc.document['incenter'],_pc.document['inwidth'],_pc.document['complist'],_pc.document['compwidth'],_pc.document['setpointings'],_pc.document['ptgfile'],_pc.document['integration'],_pc.document['direction'],_pc.document['mapsize'],_pc.document['antennalist'],_pc.document['hourangle'],_pc.document['totaltime'],_pc.document['tpnant'],_pc.document['tptime'],_pc.document['pwv'],_pc.document['image'],_pc.document['imsize'],_pc.document['imdirection'],_pc.document['cell'],_pc.document['niter'],_pc.document['threshold'],_pc.document['graphics'],_pc.document['verbose'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('simalma')
             casalog.post("Exception Reported: Error in simalma: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'simalma', task_result )
+        return task_result
 
 simalma = _simalma( )
```

## casashell/private/simanalyze.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_simanalyze import simanalyze as _simanalyze_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -954,15 +956,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('simanalyze.pre')
         _postfile = os.path.realpath('simanalyze.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [project,image,imagename,skymodel,vis,modelimage,imsize,imdirection,cell,interactive,niter,threshold,weighting,mask,outertaper,pbcor,stokes,featherimage,analyze,showuv,showpsf,showmodel,showconvolved,showclean,showresidual,showdifference,showfidelity,graphics,verbose,overwrite,dryrun,logfile]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if project is not None: local_global['project'] = project
@@ -1052,24 +1054,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _simanalyze_t( _pc.document['project'],_pc.document['image'],_pc.document['imagename'],_pc.document['skymodel'],_pc.document['vis'],_pc.document['modelimage'],_pc.document['imsize'],_pc.document['imdirection'],_pc.document['cell'],_pc.document['interactive'],_pc.document['niter'],_pc.document['threshold'],_pc.document['weighting'],_pc.document['mask'],_pc.document['outertaper'],_pc.document['pbcor'],_pc.document['stokes'],_pc.document['featherimage'],_pc.document['analyze'],_pc.document['showuv'],_pc.document['showpsf'],_pc.document['showmodel'],_pc.document['showconvolved'],_pc.document['showclean'],_pc.document['showresidual'],_pc.document['showdifference'],_pc.document['showfidelity'],_pc.document['graphics'],_pc.document['verbose'],_pc.document['overwrite'],_pc.document['dryrun'],_pc.document['logfile'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'simanalyze', [ 'project=' + repr(_pc.document['project']), 'image=' + repr(_pc.document['image']), 'imagename=' + repr(_pc.document['imagename']), 'skymodel=' + repr(_pc.document['skymodel']), 'vis=' + repr(_pc.document['vis']), 'modelimage=' + repr(_pc.document['modelimage']), 'imsize=' + repr(_pc.document['imsize']), 'imdirection=' + repr(_pc.document['imdirection']), 'cell=' + repr(_pc.document['cell']), 'interactive=' + repr(_pc.document['interactive']), 'niter=' + repr(_pc.document['niter']), 'threshold=' + repr(_pc.document['threshold']), 'weighting=' + repr(_pc.document['weighting']), 'mask=' + repr(_pc.document['mask']), 'outertaper=' + repr(_pc.document['outertaper']), 'pbcor=' + repr(_pc.document['pbcor']), 'stokes=' + repr(_pc.document['stokes']), 'featherimage=' + repr(_pc.document['featherimage']), 'analyze=' + repr(_pc.document['analyze']), 'showuv=' + repr(_pc.document['showuv']), 'showpsf=' + repr(_pc.document['showpsf']), 'showmodel=' + repr(_pc.document['showmodel']), 'showconvolved=' + repr(_pc.document['showconvolved']), 'showclean=' + repr(_pc.document['showclean']), 'showresidual=' + repr(_pc.document['showresidual']), 'showdifference=' + repr(_pc.document['showdifference']), 'showfidelity=' + repr(_pc.document['showfidelity']), 'graphics=' + repr(_pc.document['graphics']), 'verbose=' + repr(_pc.document['verbose']), 'overwrite=' + repr(_pc.document['overwrite']), 'dryrun=' + repr(_pc.document['dryrun']), 'logfile=' + repr(_pc.document['logfile']) ] )
+            task_result = _simanalyze_t( _pc.document['project'],_pc.document['image'],_pc.document['imagename'],_pc.document['skymodel'],_pc.document['vis'],_pc.document['modelimage'],_pc.document['imsize'],_pc.document['imdirection'],_pc.document['cell'],_pc.document['interactive'],_pc.document['niter'],_pc.document['threshold'],_pc.document['weighting'],_pc.document['mask'],_pc.document['outertaper'],_pc.document['pbcor'],_pc.document['stokes'],_pc.document['featherimage'],_pc.document['analyze'],_pc.document['showuv'],_pc.document['showpsf'],_pc.document['showmodel'],_pc.document['showconvolved'],_pc.document['showclean'],_pc.document['showresidual'],_pc.document['showdifference'],_pc.document['showfidelity'],_pc.document['graphics'],_pc.document['verbose'],_pc.document['overwrite'],_pc.document['dryrun'],_pc.document['logfile'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('simanalyze')
             casalog.post("Exception Reported: Error in simanalyze: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'simanalyze', task_result )
+        return task_result
 
 simanalyze = _simanalyze( )
```

## casashell/private/simobserve.py

```diff
@@ -1,16 +1,18 @@
 ##################### generated by xml-casa (v2) from simobserve.xml ################
-##################### 19666c32ee1eeba5aba9204ef8b7fbe2 ##############################
+##################### be92371e2c0fa66ffdccdc86c660494d ##############################
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_simobserve import simobserve as _simobserve_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -112,15 +114,15 @@
                     * Only works reliably with frequencies, not
                       velocities 
                     * It is not possible to change the number of
                       spectral planes of the sky model, only to relabel
                       them with different frequencies That kind of
                       regridding can be accomplished with the CASA
                       toolkit.
-    complist        Component list model of the sky, added to or instead of skymodel. See https://casaguides.nrao.edu/index.php/Simulation_Guide_Component_Lists_(CASA_5.4)
+    complist        Component list model of the sky, added to or instead of skymodel.
     compwidth       Bandwidth of components
                     Subparameter of complist
                     
                     If simulating from components only, this defines
                     the bandwidth of the MS and output images
                     
                        Example: compwidth='8GHz'
@@ -1281,15 +1283,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('simobserve.pre')
         _postfile = os.path.realpath('simobserve.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [project,skymodel,inbright,indirection,incell,incenter,inwidth,complist,compwidth,comp_nchan,setpointings,ptgfile,integration,direction,mapsize,maptype,pointingspacing,caldirection,calflux,obsmode,refdate,hourangle,totaltime,antennalist,sdantlist,sdant,outframe,thermalnoise,user_pwv,t_ground,t_sky,tau0,seed,leakage,graphics,verbose,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if project is not None: local_global['project'] = project
@@ -1392,24 +1394,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _simobserve_t( _pc.document['project'],_pc.document['skymodel'],_pc.document['inbright'],_pc.document['indirection'],_pc.document['incell'],_pc.document['incenter'],_pc.document['inwidth'],_pc.document['complist'],_pc.document['compwidth'],_pc.document['comp_nchan'],_pc.document['setpointings'],_pc.document['ptgfile'],_pc.document['integration'],_pc.document['direction'],_pc.document['mapsize'],_pc.document['maptype'],_pc.document['pointingspacing'],_pc.document['caldirection'],_pc.document['calflux'],_pc.document['obsmode'],_pc.document['refdate'],_pc.document['hourangle'],_pc.document['totaltime'],_pc.document['antennalist'],_pc.document['sdantlist'],_pc.document['sdant'],_pc.document['outframe'],_pc.document['thermalnoise'],_pc.document['user_pwv'],_pc.document['t_ground'],_pc.document['t_sky'],_pc.document['tau0'],_pc.document['seed'],_pc.document['leakage'],_pc.document['graphics'],_pc.document['verbose'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'simobserve', [ 'project=' + repr(_pc.document['project']), 'skymodel=' + repr(_pc.document['skymodel']), 'inbright=' + repr(_pc.document['inbright']), 'indirection=' + repr(_pc.document['indirection']), 'incell=' + repr(_pc.document['incell']), 'incenter=' + repr(_pc.document['incenter']), 'inwidth=' + repr(_pc.document['inwidth']), 'complist=' + repr(_pc.document['complist']), 'compwidth=' + repr(_pc.document['compwidth']), 'comp_nchan=' + repr(_pc.document['comp_nchan']), 'setpointings=' + repr(_pc.document['setpointings']), 'ptgfile=' + repr(_pc.document['ptgfile']), 'integration=' + repr(_pc.document['integration']), 'direction=' + repr(_pc.document['direction']), 'mapsize=' + repr(_pc.document['mapsize']), 'maptype=' + repr(_pc.document['maptype']), 'pointingspacing=' + repr(_pc.document['pointingspacing']), 'caldirection=' + repr(_pc.document['caldirection']), 'calflux=' + repr(_pc.document['calflux']), 'obsmode=' + repr(_pc.document['obsmode']), 'refdate=' + repr(_pc.document['refdate']), 'hourangle=' + repr(_pc.document['hourangle']), 'totaltime=' + repr(_pc.document['totaltime']), 'antennalist=' + repr(_pc.document['antennalist']), 'sdantlist=' + repr(_pc.document['sdantlist']), 'sdant=' + repr(_pc.document['sdant']), 'outframe=' + repr(_pc.document['outframe']), 'thermalnoise=' + repr(_pc.document['thermalnoise']), 'user_pwv=' + repr(_pc.document['user_pwv']), 't_ground=' + repr(_pc.document['t_ground']), 't_sky=' + repr(_pc.document['t_sky']), 'tau0=' + repr(_pc.document['tau0']), 'seed=' + repr(_pc.document['seed']), 'leakage=' + repr(_pc.document['leakage']), 'graphics=' + repr(_pc.document['graphics']), 'verbose=' + repr(_pc.document['verbose']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _simobserve_t( _pc.document['project'],_pc.document['skymodel'],_pc.document['inbright'],_pc.document['indirection'],_pc.document['incell'],_pc.document['incenter'],_pc.document['inwidth'],_pc.document['complist'],_pc.document['compwidth'],_pc.document['comp_nchan'],_pc.document['setpointings'],_pc.document['ptgfile'],_pc.document['integration'],_pc.document['direction'],_pc.document['mapsize'],_pc.document['maptype'],_pc.document['pointingspacing'],_pc.document['caldirection'],_pc.document['calflux'],_pc.document['obsmode'],_pc.document['refdate'],_pc.document['hourangle'],_pc.document['totaltime'],_pc.document['antennalist'],_pc.document['sdantlist'],_pc.document['sdant'],_pc.document['outframe'],_pc.document['thermalnoise'],_pc.document['user_pwv'],_pc.document['t_ground'],_pc.document['t_sky'],_pc.document['tau0'],_pc.document['seed'],_pc.document['leakage'],_pc.document['graphics'],_pc.document['verbose'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('simobserve')
             casalog.post("Exception Reported: Error in simobserve: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'simobserve', task_result )
+        return task_result
 
 simobserve = _simobserve( )
```

## casashell/private/slsearch.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_slsearch import slsearch as _slsearch_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -570,15 +572,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('slsearch.pre')
         _postfile = os.path.realpath('slsearch.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [tablename,outfile,freqrange,species,reconly,chemnames,qns,intensity,smu2,loga,el,eu,rrlinclude,rrlonly,verbose,logfile,append]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if tablename is not None: local_global['tablename'] = tablename
@@ -640,24 +642,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _slsearch_t( _pc.document['tablename'],_pc.document['outfile'],_pc.document['freqrange'],_pc.document['species'],_pc.document['reconly'],_pc.document['chemnames'],_pc.document['qns'],_pc.document['intensity'],_pc.document['smu2'],_pc.document['loga'],_pc.document['el'],_pc.document['eu'],_pc.document['rrlinclude'],_pc.document['rrlonly'],_pc.document['verbose'],_pc.document['logfile'],_pc.document['append'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'slsearch', [ 'tablename=' + repr(_pc.document['tablename']), 'outfile=' + repr(_pc.document['outfile']), 'freqrange=' + repr(_pc.document['freqrange']), 'species=' + repr(_pc.document['species']), 'reconly=' + repr(_pc.document['reconly']), 'chemnames=' + repr(_pc.document['chemnames']), 'qns=' + repr(_pc.document['qns']), 'intensity=' + repr(_pc.document['intensity']), 'smu2=' + repr(_pc.document['smu2']), 'loga=' + repr(_pc.document['loga']), 'el=' + repr(_pc.document['el']), 'eu=' + repr(_pc.document['eu']), 'rrlinclude=' + repr(_pc.document['rrlinclude']), 'rrlonly=' + repr(_pc.document['rrlonly']), 'verbose=' + repr(_pc.document['verbose']), 'logfile=' + repr(_pc.document['logfile']), 'append=' + repr(_pc.document['append']) ] )
+            task_result = _slsearch_t( _pc.document['tablename'],_pc.document['outfile'],_pc.document['freqrange'],_pc.document['species'],_pc.document['reconly'],_pc.document['chemnames'],_pc.document['qns'],_pc.document['intensity'],_pc.document['smu2'],_pc.document['loga'],_pc.document['el'],_pc.document['eu'],_pc.document['rrlinclude'],_pc.document['rrlonly'],_pc.document['verbose'],_pc.document['logfile'],_pc.document['append'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('slsearch')
             casalog.post("Exception Reported: Error in slsearch: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'slsearch', task_result )
+        return task_result
 
 slsearch = _slsearch( )
```

## casashell/private/smoothcal.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_smoothcal import smoothcal as _smoothcal_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -325,15 +327,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('smoothcal.pre')
         _postfile = os.path.realpath('smoothcal.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,tablein,caltable,field,smoothtype,smoothtime]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -370,24 +372,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _smoothcal_t( _pc.document['vis'],_pc.document['tablein'],_pc.document['caltable'],_pc.document['field'],_pc.document['smoothtype'],_pc.document['smoothtime'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'smoothcal', [ 'vis=' + repr(_pc.document['vis']), 'tablein=' + repr(_pc.document['tablein']), 'caltable=' + repr(_pc.document['caltable']), 'field=' + repr(_pc.document['field']), 'smoothtype=' + repr(_pc.document['smoothtype']), 'smoothtime=' + repr(_pc.document['smoothtime']) ] )
+            task_result = _smoothcal_t( _pc.document['vis'],_pc.document['tablein'],_pc.document['caltable'],_pc.document['field'],_pc.document['smoothtype'],_pc.document['smoothtime'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('smoothcal')
             casalog.post("Exception Reported: Error in smoothcal: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'smoothcal', task_result )
+        return task_result
 
 smoothcal = _smoothcal( )
```

## casashell/private/specfit.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_specfit import specfit as _specfit_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1466,15 +1468,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('specfit.pre')
         _postfile = os.path.realpath('specfit.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,box,region,chans,stokes,axis,mask,ngauss,poly,estimates,minpts,multifit,model,residual,amp,amperr,center,centererr,fwhm,fwhmerr,integral,integralerr,wantreturn,stretch,logresults,pampest,pcenterest,pfwhmest,pfix,gmncomps,gmampcon,gmcentercon,gmfwhmcon,gmampest,gmcenterest,gmfwhmest,gmfix,logfile,append,pfunc,goodamprange,goodcenterrange,goodfwhmrange,sigma,outsigma]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -1610,24 +1612,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _specfit_t( _pc.document['imagename'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['axis'],_pc.document['mask'],_pc.document['ngauss'],_pc.document['poly'],_pc.document['estimates'],_pc.document['minpts'],_pc.document['multifit'],_pc.document['model'],_pc.document['residual'],_pc.document['amp'],_pc.document['amperr'],_pc.document['center'],_pc.document['centererr'],_pc.document['fwhm'],_pc.document['fwhmerr'],_pc.document['integral'],_pc.document['integralerr'],_pc.document['wantreturn'],_pc.document['stretch'],_pc.document['logresults'],_pc.document['pampest'],_pc.document['pcenterest'],_pc.document['pfwhmest'],_pc.document['pfix'],_pc.document['gmncomps'],_pc.document['gmampcon'],_pc.document['gmcentercon'],_pc.document['gmfwhmcon'],_pc.document['gmampest'],_pc.document['gmcenterest'],_pc.document['gmfwhmest'],_pc.document['gmfix'],_pc.document['logfile'],_pc.document['append'],_pc.document['pfunc'],_pc.document['goodamprange'],_pc.document['goodcenterrange'],_pc.document['goodfwhmrange'],_pc.document['sigma'],_pc.document['outsigma'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'specfit', [ 'imagename=' + repr(_pc.document['imagename']), 'box=' + repr(_pc.document['box']), 'region=' + repr(_pc.document['region']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'axis=' + repr(_pc.document['axis']), 'mask=' + repr(_pc.document['mask']), 'ngauss=' + repr(_pc.document['ngauss']), 'poly=' + repr(_pc.document['poly']), 'estimates=' + repr(_pc.document['estimates']), 'minpts=' + repr(_pc.document['minpts']), 'multifit=' + repr(_pc.document['multifit']), 'model=' + repr(_pc.document['model']), 'residual=' + repr(_pc.document['residual']), 'amp=' + repr(_pc.document['amp']), 'amperr=' + repr(_pc.document['amperr']), 'center=' + repr(_pc.document['center']), 'centererr=' + repr(_pc.document['centererr']), 'fwhm=' + repr(_pc.document['fwhm']), 'fwhmerr=' + repr(_pc.document['fwhmerr']), 'integral=' + repr(_pc.document['integral']), 'integralerr=' + repr(_pc.document['integralerr']), 'wantreturn=' + repr(_pc.document['wantreturn']), 'stretch=' + repr(_pc.document['stretch']), 'logresults=' + repr(_pc.document['logresults']), 'pampest=' + repr(_pc.document['pampest']), 'pcenterest=' + repr(_pc.document['pcenterest']), 'pfwhmest=' + repr(_pc.document['pfwhmest']), 'pfix=' + repr(_pc.document['pfix']), 'gmncomps=' + repr(_pc.document['gmncomps']), 'gmampcon=' + repr(_pc.document['gmampcon']), 'gmcentercon=' + repr(_pc.document['gmcentercon']), 'gmfwhmcon=' + repr(_pc.document['gmfwhmcon']), 'gmampest=' + repr(_pc.document['gmampest']), 'gmcenterest=' + repr(_pc.document['gmcenterest']), 'gmfwhmest=' + repr(_pc.document['gmfwhmest']), 'gmfix=' + repr(_pc.document['gmfix']), 'logfile=' + repr(_pc.document['logfile']), 'append=' + repr(_pc.document['append']), 'pfunc=' + repr(_pc.document['pfunc']), 'goodamprange=' + repr(_pc.document['goodamprange']), 'goodcenterrange=' + repr(_pc.document['goodcenterrange']), 'goodfwhmrange=' + repr(_pc.document['goodfwhmrange']), 'sigma=' + repr(_pc.document['sigma']), 'outsigma=' + repr(_pc.document['outsigma']) ] )
+            task_result = _specfit_t( _pc.document['imagename'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['axis'],_pc.document['mask'],_pc.document['ngauss'],_pc.document['poly'],_pc.document['estimates'],_pc.document['minpts'],_pc.document['multifit'],_pc.document['model'],_pc.document['residual'],_pc.document['amp'],_pc.document['amperr'],_pc.document['center'],_pc.document['centererr'],_pc.document['fwhm'],_pc.document['fwhmerr'],_pc.document['integral'],_pc.document['integralerr'],_pc.document['wantreturn'],_pc.document['stretch'],_pc.document['logresults'],_pc.document['pampest'],_pc.document['pcenterest'],_pc.document['pfwhmest'],_pc.document['pfix'],_pc.document['gmncomps'],_pc.document['gmampcon'],_pc.document['gmcentercon'],_pc.document['gmfwhmcon'],_pc.document['gmampest'],_pc.document['gmcenterest'],_pc.document['gmfwhmest'],_pc.document['gmfix'],_pc.document['logfile'],_pc.document['append'],_pc.document['pfunc'],_pc.document['goodamprange'],_pc.document['goodcenterrange'],_pc.document['goodfwhmrange'],_pc.document['sigma'],_pc.document['outsigma'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('specfit')
             casalog.post("Exception Reported: Error in specfit: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'specfit', task_result )
+        return task_result
 
 specfit = _specfit( )
```

## casashell/private/specflux.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_specflux import specflux as _specflux_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -499,15 +501,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('specflux.pre')
         _postfile = os.path.realpath('specflux.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,region,box,chans,stokes,mask,stretch,function,unit,major,minor,logfile,overwrite]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -562,24 +564,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _specflux_t( _pc.document['imagename'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['stretch'],_pc.document['function'],_pc.document['unit'],_pc.document['major'],_pc.document['minor'],_pc.document['logfile'],_pc.document['overwrite'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'specflux', [ 'imagename=' + repr(_pc.document['imagename']), 'region=' + repr(_pc.document['region']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'mask=' + repr(_pc.document['mask']), 'stretch=' + repr(_pc.document['stretch']), 'function=' + repr(_pc.document['function']), 'unit=' + repr(_pc.document['unit']), 'major=' + repr(_pc.document['major']), 'minor=' + repr(_pc.document['minor']), 'logfile=' + repr(_pc.document['logfile']), 'overwrite=' + repr(_pc.document['overwrite']) ] )
+            task_result = _specflux_t( _pc.document['imagename'],_pc.document['region'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['mask'],_pc.document['stretch'],_pc.document['function'],_pc.document['unit'],_pc.document['major'],_pc.document['minor'],_pc.document['logfile'],_pc.document['overwrite'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('specflux')
             casalog.post("Exception Reported: Error in specflux: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'specflux', task_result )
+        return task_result
 
 specflux = _specflux( )
```

## casashell/private/specsmooth.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_specsmooth import specsmooth as _specsmooth_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -581,15 +583,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('specsmooth.pre')
         _postfile = os.path.realpath('specsmooth.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,outfile,box,chans,stokes,region,mask,overwrite,stretch,axis,function,width,dmethod]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -644,24 +646,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _specsmooth_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['region'],_pc.document['mask'],_pc.document['overwrite'],_pc.document['stretch'],_pc.document['axis'],_pc.document['function'],_pc.document['width'],_pc.document['dmethod'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'specsmooth', [ 'imagename=' + repr(_pc.document['imagename']), 'outfile=' + repr(_pc.document['outfile']), 'box=' + repr(_pc.document['box']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'region=' + repr(_pc.document['region']), 'mask=' + repr(_pc.document['mask']), 'overwrite=' + repr(_pc.document['overwrite']), 'stretch=' + repr(_pc.document['stretch']), 'axis=' + repr(_pc.document['axis']), 'function=' + repr(_pc.document['function']), 'width=' + repr(_pc.document['width']), 'dmethod=' + repr(_pc.document['dmethod']) ] )
+            task_result = _specsmooth_t( _pc.document['imagename'],_pc.document['outfile'],_pc.document['box'],_pc.document['chans'],_pc.document['stokes'],_pc.document['region'],_pc.document['mask'],_pc.document['overwrite'],_pc.document['stretch'],_pc.document['axis'],_pc.document['function'],_pc.document['width'],_pc.document['dmethod'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('specsmooth')
             casalog.post("Exception Reported: Error in specsmooth: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'specsmooth', task_result )
+        return task_result
 
 specsmooth = _specsmooth( )
```

## casashell/private/splattotable.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_splattotable import splattotable as _splattotable_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -225,15 +227,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('splattotable.pre')
         _postfile = os.path.realpath('splattotable.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [filenames,table]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if filenames is not None: local_global['filenames'] = filenames
@@ -258,24 +260,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _splattotable_t( _pc.document['filenames'],_pc.document['table'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'splattotable', [ 'filenames=' + repr(_pc.document['filenames']), 'table=' + repr(_pc.document['table']) ] )
+            task_result = _splattotable_t( _pc.document['filenames'],_pc.document['table'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('splattotable')
             casalog.post("Exception Reported: Error in splattotable: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'splattotable', task_result )
+        return task_result
 
 splattotable = _splattotable( )
```

## casashell/private/split.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_split import split as _split_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -771,15 +773,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('split.pre')
         _postfile = os.path.realpath('split.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,outputvis,keepmms,field,spw,scan,antenna,correlation,timerange,intent,array,uvrange,observation,feed,datacolumn,keepflags,width,timebin,combine]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -853,24 +855,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _split_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['keepmms'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['datacolumn'],_pc.document['keepflags'],_pc.document['width'],_pc.document['timebin'],_pc.document['combine'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'split', [ 'vis=' + repr(_pc.document['vis']), 'outputvis=' + repr(_pc.document['outputvis']), 'keepmms=' + repr(_pc.document['keepmms']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'antenna=' + repr(_pc.document['antenna']), 'correlation=' + repr(_pc.document['correlation']), 'timerange=' + repr(_pc.document['timerange']), 'intent=' + repr(_pc.document['intent']), 'array=' + repr(_pc.document['array']), 'uvrange=' + repr(_pc.document['uvrange']), 'observation=' + repr(_pc.document['observation']), 'feed=' + repr(_pc.document['feed']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'keepflags=' + repr(_pc.document['keepflags']), 'width=' + repr(_pc.document['width']), 'timebin=' + repr(_pc.document['timebin']), 'combine=' + repr(_pc.document['combine']) ] )
+            task_result = _split_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['keepmms'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['antenna'],_pc.document['correlation'],_pc.document['timerange'],_pc.document['intent'],_pc.document['array'],_pc.document['uvrange'],_pc.document['observation'],_pc.document['feed'],_pc.document['datacolumn'],_pc.document['keepflags'],_pc.document['width'],_pc.document['timebin'],_pc.document['combine'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('split')
             casalog.post("Exception Reported: Error in split: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'split', task_result )
+        return task_result
 
 split = _split( )
```

## casashell/private/spxfit.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_spxfit import spxfit as _spxfit_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -855,15 +857,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('spxfit.pre')
         _postfile = os.path.realpath('spxfit.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [imagename,box,region,chans,stokes,axis,mask,minpts,multifit,spxtype,spxest,spxfix,div,spxsol,spxerr,model,residual,wantreturn,stretch,logresults,logfile,append,sigma,outsigma]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if imagename is not None: local_global['imagename'] = imagename
@@ -946,24 +948,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _spxfit_t( _pc.document['imagename'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['axis'],_pc.document['mask'],_pc.document['minpts'],_pc.document['multifit'],_pc.document['spxtype'],_pc.document['spxest'],_pc.document['spxfix'],_pc.document['div'],_pc.document['spxsol'],_pc.document['spxerr'],_pc.document['model'],_pc.document['residual'],_pc.document['wantreturn'],_pc.document['stretch'],_pc.document['logresults'],_pc.document['logfile'],_pc.document['append'],_pc.document['sigma'],_pc.document['outsigma'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'spxfit', [ 'imagename=' + repr(_pc.document['imagename']), 'box=' + repr(_pc.document['box']), 'region=' + repr(_pc.document['region']), 'chans=' + repr(_pc.document['chans']), 'stokes=' + repr(_pc.document['stokes']), 'axis=' + repr(_pc.document['axis']), 'mask=' + repr(_pc.document['mask']), 'minpts=' + repr(_pc.document['minpts']), 'multifit=' + repr(_pc.document['multifit']), 'spxtype=' + repr(_pc.document['spxtype']), 'spxest=' + repr(_pc.document['spxest']), 'spxfix=' + repr(_pc.document['spxfix']), 'div=' + repr(_pc.document['div']), 'spxsol=' + repr(_pc.document['spxsol']), 'spxerr=' + repr(_pc.document['spxerr']), 'model=' + repr(_pc.document['model']), 'residual=' + repr(_pc.document['residual']), 'wantreturn=' + repr(_pc.document['wantreturn']), 'stretch=' + repr(_pc.document['stretch']), 'logresults=' + repr(_pc.document['logresults']), 'logfile=' + repr(_pc.document['logfile']), 'append=' + repr(_pc.document['append']), 'sigma=' + repr(_pc.document['sigma']), 'outsigma=' + repr(_pc.document['outsigma']) ] )
+            task_result = _spxfit_t( _pc.document['imagename'],_pc.document['box'],_pc.document['region'],_pc.document['chans'],_pc.document['stokes'],_pc.document['axis'],_pc.document['mask'],_pc.document['minpts'],_pc.document['multifit'],_pc.document['spxtype'],_pc.document['spxest'],_pc.document['spxfix'],_pc.document['div'],_pc.document['spxsol'],_pc.document['spxerr'],_pc.document['model'],_pc.document['residual'],_pc.document['wantreturn'],_pc.document['stretch'],_pc.document['logresults'],_pc.document['logfile'],_pc.document['append'],_pc.document['sigma'],_pc.document['outsigma'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('spxfit')
             casalog.post("Exception Reported: Error in spxfit: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'spxfit', task_result )
+        return task_result
 
 spxfit = _spxfit( )
```

## casashell/private/statwt.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_statwt import statwt as _statwt_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -890,15 +892,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('statwt.pre')
         _postfile = os.path.realpath('statwt.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,selectdata,field,spw,intent,array,observation,scan,combine,timebin,slidetimebin,chanbin,minsamp,statalg,fence,center,lside,zscore,maxiter,fitspw,excludechans,wtrange,flagbackup,preview,datacolumn]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -980,24 +982,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _statwt_t( _pc.document['vis'],_pc.document['selectdata'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['array'],_pc.document['observation'],_pc.document['scan'],_pc.document['combine'],_pc.document['timebin'],_pc.document['slidetimebin'],_pc.document['chanbin'],_pc.document['minsamp'],_pc.document['statalg'],_pc.document['fence'],_pc.document['center'],_pc.document['lside'],_pc.document['zscore'],_pc.document['maxiter'],_pc.document['fitspw'],_pc.document['excludechans'],_pc.document['wtrange'],_pc.document['flagbackup'],_pc.document['preview'],_pc.document['datacolumn'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'statwt', [ 'vis=' + repr(_pc.document['vis']), 'selectdata=' + repr(_pc.document['selectdata']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'intent=' + repr(_pc.document['intent']), 'array=' + repr(_pc.document['array']), 'observation=' + repr(_pc.document['observation']), 'scan=' + repr(_pc.document['scan']), 'combine=' + repr(_pc.document['combine']), 'timebin=' + repr(_pc.document['timebin']), 'slidetimebin=' + repr(_pc.document['slidetimebin']), 'chanbin=' + repr(_pc.document['chanbin']), 'minsamp=' + repr(_pc.document['minsamp']), 'statalg=' + repr(_pc.document['statalg']), 'fence=' + repr(_pc.document['fence']), 'center=' + repr(_pc.document['center']), 'lside=' + repr(_pc.document['lside']), 'zscore=' + repr(_pc.document['zscore']), 'maxiter=' + repr(_pc.document['maxiter']), 'fitspw=' + repr(_pc.document['fitspw']), 'excludechans=' + repr(_pc.document['excludechans']), 'wtrange=' + repr(_pc.document['wtrange']), 'flagbackup=' + repr(_pc.document['flagbackup']), 'preview=' + repr(_pc.document['preview']), 'datacolumn=' + repr(_pc.document['datacolumn']) ] )
+            task_result = _statwt_t( _pc.document['vis'],_pc.document['selectdata'],_pc.document['field'],_pc.document['spw'],_pc.document['intent'],_pc.document['array'],_pc.document['observation'],_pc.document['scan'],_pc.document['combine'],_pc.document['timebin'],_pc.document['slidetimebin'],_pc.document['chanbin'],_pc.document['minsamp'],_pc.document['statalg'],_pc.document['fence'],_pc.document['center'],_pc.document['lside'],_pc.document['zscore'],_pc.document['maxiter'],_pc.document['fitspw'],_pc.document['excludechans'],_pc.document['wtrange'],_pc.document['flagbackup'],_pc.document['preview'],_pc.document['datacolumn'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('statwt')
             casalog.post("Exception Reported: Error in statwt: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'statwt', task_result )
+        return task_result
 
 statwt = _statwt( )
```

## casashell/private/tclean.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_tclean import tclean as _tclean_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -3946,15 +3948,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('tclean.pre')
         _postfile = os.path.realpath('tclean.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,selectdata,field,spw,timerange,uvrange,antenna,scan,observation,intent,datacolumn,imagename,imsize,cell,phasecenter,stokes,projection,startmodel,specmode,reffreq,nchan,start,width,outframe,veltype,restfreq,interpolation,perchanweightdensity,gridder,facets,psfphasecenter,wprojplanes,vptable,mosweight,aterm,psterm,wbawp,conjbeams,cfcache,usepointing,computepastep,rotatepastep,pointingoffsetsigdev,pblimit,normtype,deconvolver,scales,nterms,smallscalebias,fusedthreshold,largestscale,restoration,restoringbeam,pbcor,outlierfile,weighting,robust,noise,npixels,uvtaper,niter,gain,threshold,nsigma,cycleniter,cyclefactor,minpsffraction,maxpsffraction,interactive,fullsummary,nmajor,usemask,mask,pbmask,sidelobethreshold,noisethreshold,lownoisethreshold,negativethreshold,smoothfactor,minbeamfrac,cutthreshold,growiterations,dogrowprune,minpercentchange,verbose,fastnoise,restart,savemodel,calcres,calcpsf,psfcutoff,parallel]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -4181,24 +4183,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _tclean_t( _pc.document['vis'],_pc.document['selectdata'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['intent'],_pc.document['datacolumn'],_pc.document['imagename'],_pc.document['imsize'],_pc.document['cell'],_pc.document['phasecenter'],_pc.document['stokes'],_pc.document['projection'],_pc.document['startmodel'],_pc.document['specmode'],_pc.document['reffreq'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['restfreq'],_pc.document['interpolation'],_pc.document['perchanweightdensity'],_pc.document['gridder'],_pc.document['facets'],_pc.document['psfphasecenter'],_pc.document['wprojplanes'],_pc.document['vptable'],_pc.document['mosweight'],_pc.document['aterm'],_pc.document['psterm'],_pc.document['wbawp'],_pc.document['conjbeams'],_pc.document['cfcache'],_pc.document['usepointing'],_pc.document['computepastep'],_pc.document['rotatepastep'],_pc.document['pointingoffsetsigdev'],_pc.document['pblimit'],_pc.document['normtype'],_pc.document['deconvolver'],_pc.document['scales'],_pc.document['nterms'],_pc.document['smallscalebias'],_pc.document['fusedthreshold'],_pc.document['largestscale'],_pc.document['restoration'],_pc.document['restoringbeam'],_pc.document['pbcor'],_pc.document['outlierfile'],_pc.document['weighting'],_pc.document['robust'],_pc.document['noise'],_pc.document['npixels'],_pc.document['uvtaper'],_pc.document['niter'],_pc.document['gain'],_pc.document['threshold'],_pc.document['nsigma'],_pc.document['cycleniter'],_pc.document['cyclefactor'],_pc.document['minpsffraction'],_pc.document['maxpsffraction'],_pc.document['interactive'],_pc.document['fullsummary'],_pc.document['nmajor'],_pc.document['usemask'],_pc.document['mask'],_pc.document['pbmask'],_pc.document['sidelobethreshold'],_pc.document['noisethreshold'],_pc.document['lownoisethreshold'],_pc.document['negativethreshold'],_pc.document['smoothfactor'],_pc.document['minbeamfrac'],_pc.document['cutthreshold'],_pc.document['growiterations'],_pc.document['dogrowprune'],_pc.document['minpercentchange'],_pc.document['verbose'],_pc.document['fastnoise'],_pc.document['restart'],_pc.document['savemodel'],_pc.document['calcres'],_pc.document['calcpsf'],_pc.document['psfcutoff'],_pc.document['parallel'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'tclean', [ 'vis=' + repr(_pc.document['vis']), 'selectdata=' + repr(_pc.document['selectdata']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'observation=' + repr(_pc.document['observation']), 'intent=' + repr(_pc.document['intent']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'imagename=' + repr(_pc.document['imagename']), 'imsize=' + repr(_pc.document['imsize']), 'cell=' + repr(_pc.document['cell']), 'phasecenter=' + repr(_pc.document['phasecenter']), 'stokes=' + repr(_pc.document['stokes']), 'projection=' + repr(_pc.document['projection']), 'startmodel=' + repr(_pc.document['startmodel']), 'specmode=' + repr(_pc.document['specmode']), 'reffreq=' + repr(_pc.document['reffreq']), 'nchan=' + repr(_pc.document['nchan']), 'start=' + repr(_pc.document['start']), 'width=' + repr(_pc.document['width']), 'outframe=' + repr(_pc.document['outframe']), 'veltype=' + repr(_pc.document['veltype']), 'restfreq=' + repr(_pc.document['restfreq']), 'interpolation=' + repr(_pc.document['interpolation']), 'perchanweightdensity=' + repr(_pc.document['perchanweightdensity']), 'gridder=' + repr(_pc.document['gridder']), 'facets=' + repr(_pc.document['facets']), 'psfphasecenter=' + repr(_pc.document['psfphasecenter']), 'wprojplanes=' + repr(_pc.document['wprojplanes']), 'vptable=' + repr(_pc.document['vptable']), 'mosweight=' + repr(_pc.document['mosweight']), 'aterm=' + repr(_pc.document['aterm']), 'psterm=' + repr(_pc.document['psterm']), 'wbawp=' + repr(_pc.document['wbawp']), 'conjbeams=' + repr(_pc.document['conjbeams']), 'cfcache=' + repr(_pc.document['cfcache']), 'usepointing=' + repr(_pc.document['usepointing']), 'computepastep=' + repr(_pc.document['computepastep']), 'rotatepastep=' + repr(_pc.document['rotatepastep']), 'pointingoffsetsigdev=' + repr(_pc.document['pointingoffsetsigdev']), 'pblimit=' + repr(_pc.document['pblimit']), 'normtype=' + repr(_pc.document['normtype']), 'deconvolver=' + repr(_pc.document['deconvolver']), 'scales=' + repr(_pc.document['scales']), 'nterms=' + repr(_pc.document['nterms']), 'smallscalebias=' + repr(_pc.document['smallscalebias']), 'fusedthreshold=' + repr(_pc.document['fusedthreshold']), 'largestscale=' + repr(_pc.document['largestscale']), 'restoration=' + repr(_pc.document['restoration']), 'restoringbeam=' + repr(_pc.document['restoringbeam']), 'pbcor=' + repr(_pc.document['pbcor']), 'outlierfile=' + repr(_pc.document['outlierfile']), 'weighting=' + repr(_pc.document['weighting']), 'robust=' + repr(_pc.document['robust']), 'noise=' + repr(_pc.document['noise']), 'npixels=' + repr(_pc.document['npixels']), 'uvtaper=' + repr(_pc.document['uvtaper']), 'niter=' + repr(_pc.document['niter']), 'gain=' + repr(_pc.document['gain']), 'threshold=' + repr(_pc.document['threshold']), 'nsigma=' + repr(_pc.document['nsigma']), 'cycleniter=' + repr(_pc.document['cycleniter']), 'cyclefactor=' + repr(_pc.document['cyclefactor']), 'minpsffraction=' + repr(_pc.document['minpsffraction']), 'maxpsffraction=' + repr(_pc.document['maxpsffraction']), 'interactive=' + repr(_pc.document['interactive']), 'fullsummary=' + repr(_pc.document['fullsummary']), 'nmajor=' + repr(_pc.document['nmajor']), 'usemask=' + repr(_pc.document['usemask']), 'mask=' + repr(_pc.document['mask']), 'pbmask=' + repr(_pc.document['pbmask']), 'sidelobethreshold=' + repr(_pc.document['sidelobethreshold']), 'noisethreshold=' + repr(_pc.document['noisethreshold']), 'lownoisethreshold=' + repr(_pc.document['lownoisethreshold']), 'negativethreshold=' + repr(_pc.document['negativethreshold']), 'smoothfactor=' + repr(_pc.document['smoothfactor']), 'minbeamfrac=' + repr(_pc.document['minbeamfrac']), 'cutthreshold=' + repr(_pc.document['cutthreshold']), 'growiterations=' + repr(_pc.document['growiterations']), 'dogrowprune=' + repr(_pc.document['dogrowprune']), 'minpercentchange=' + repr(_pc.document['minpercentchange']), 'verbose=' + repr(_pc.document['verbose']), 'fastnoise=' + repr(_pc.document['fastnoise']), 'restart=' + repr(_pc.document['restart']), 'savemodel=' + repr(_pc.document['savemodel']), 'calcres=' + repr(_pc.document['calcres']), 'calcpsf=' + repr(_pc.document['calcpsf']), 'psfcutoff=' + repr(_pc.document['psfcutoff']), 'parallel=' + repr(_pc.document['parallel']) ] )
+            task_result = _tclean_t( _pc.document['vis'],_pc.document['selectdata'],_pc.document['field'],_pc.document['spw'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['observation'],_pc.document['intent'],_pc.document['datacolumn'],_pc.document['imagename'],_pc.document['imsize'],_pc.document['cell'],_pc.document['phasecenter'],_pc.document['stokes'],_pc.document['projection'],_pc.document['startmodel'],_pc.document['specmode'],_pc.document['reffreq'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['outframe'],_pc.document['veltype'],_pc.document['restfreq'],_pc.document['interpolation'],_pc.document['perchanweightdensity'],_pc.document['gridder'],_pc.document['facets'],_pc.document['psfphasecenter'],_pc.document['wprojplanes'],_pc.document['vptable'],_pc.document['mosweight'],_pc.document['aterm'],_pc.document['psterm'],_pc.document['wbawp'],_pc.document['conjbeams'],_pc.document['cfcache'],_pc.document['usepointing'],_pc.document['computepastep'],_pc.document['rotatepastep'],_pc.document['pointingoffsetsigdev'],_pc.document['pblimit'],_pc.document['normtype'],_pc.document['deconvolver'],_pc.document['scales'],_pc.document['nterms'],_pc.document['smallscalebias'],_pc.document['fusedthreshold'],_pc.document['largestscale'],_pc.document['restoration'],_pc.document['restoringbeam'],_pc.document['pbcor'],_pc.document['outlierfile'],_pc.document['weighting'],_pc.document['robust'],_pc.document['noise'],_pc.document['npixels'],_pc.document['uvtaper'],_pc.document['niter'],_pc.document['gain'],_pc.document['threshold'],_pc.document['nsigma'],_pc.document['cycleniter'],_pc.document['cyclefactor'],_pc.document['minpsffraction'],_pc.document['maxpsffraction'],_pc.document['interactive'],_pc.document['fullsummary'],_pc.document['nmajor'],_pc.document['usemask'],_pc.document['mask'],_pc.document['pbmask'],_pc.document['sidelobethreshold'],_pc.document['noisethreshold'],_pc.document['lownoisethreshold'],_pc.document['negativethreshold'],_pc.document['smoothfactor'],_pc.document['minbeamfrac'],_pc.document['cutthreshold'],_pc.document['growiterations'],_pc.document['dogrowprune'],_pc.document['minpercentchange'],_pc.document['verbose'],_pc.document['fastnoise'],_pc.document['restart'],_pc.document['savemodel'],_pc.document['calcres'],_pc.document['calcpsf'],_pc.document['psfcutoff'],_pc.document['parallel'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('tclean')
             casalog.post("Exception Reported: Error in tclean: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'tclean', task_result )
+        return task_result
 
 tclean = _tclean( )
```

## casashell/private/testconcat.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_testconcat import testconcat as _testconcat_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -306,15 +308,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('testconcat.pre')
         _postfile = os.path.realpath('testconcat.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,testconcatvis,freqtol,dirtol,copypointing]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -348,24 +350,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _testconcat_t( _pc.document['vis'],_pc.document['testconcatvis'],_pc.document['freqtol'],_pc.document['dirtol'],_pc.document['copypointing'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'testconcat', [ 'vis=' + repr(_pc.document['vis']), 'testconcatvis=' + repr(_pc.document['testconcatvis']), 'freqtol=' + repr(_pc.document['freqtol']), 'dirtol=' + repr(_pc.document['dirtol']), 'copypointing=' + repr(_pc.document['copypointing']) ] )
+            task_result = _testconcat_t( _pc.document['vis'],_pc.document['testconcatvis'],_pc.document['freqtol'],_pc.document['dirtol'],_pc.document['copypointing'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('testconcat')
             casalog.post("Exception Reported: Error in testconcat: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'testconcat', task_result )
+        return task_result
 
 testconcat = _testconcat( )
```

## casashell/private/tsdimaging.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_tsdimaging import tsdimaging as _tsdimaging_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -1184,15 +1186,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('tsdimaging.pre')
         _postfile = os.path.realpath('tsdimaging.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [infiles,outfile,overwrite,field,spw,antenna,scan,intent,timerange,mode,nchan,start,width,veltype,specmode,outframe,gridfunction,convsupport,truncate,gwidth,jwidth,imsize,cell,phasecenter,projection,pointingcolumn,restfreq,stokes,minweight,brightnessunit,clipminmax]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if infiles is not None: local_global['infiles'] = infiles
@@ -1294,24 +1296,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _tsdimaging_t( _pc.document['infiles'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['field'],_pc.document['spw'],_pc.document['antenna'],_pc.document['scan'],_pc.document['intent'],_pc.document['timerange'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['veltype'],_pc.document['specmode'],_pc.document['outframe'],_pc.document['gridfunction'],_pc.document['convsupport'],_pc.document['truncate'],_pc.document['gwidth'],_pc.document['jwidth'],_pc.document['imsize'],_pc.document['cell'],_pc.document['phasecenter'],_pc.document['projection'],_pc.document['pointingcolumn'],_pc.document['restfreq'],_pc.document['stokes'],_pc.document['minweight'],_pc.document['brightnessunit'],_pc.document['clipminmax'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'tsdimaging', [ 'infiles=' + repr(_pc.document['infiles']), 'outfile=' + repr(_pc.document['outfile']), 'overwrite=' + repr(_pc.document['overwrite']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']), 'timerange=' + repr(_pc.document['timerange']), 'mode=' + repr(_pc.document['mode']), 'nchan=' + repr(_pc.document['nchan']), 'start=' + repr(_pc.document['start']), 'width=' + repr(_pc.document['width']), 'veltype=' + repr(_pc.document['veltype']), 'specmode=' + repr(_pc.document['specmode']), 'outframe=' + repr(_pc.document['outframe']), 'gridfunction=' + repr(_pc.document['gridfunction']), 'convsupport=' + repr(_pc.document['convsupport']), 'truncate=' + repr(_pc.document['truncate']), 'gwidth=' + repr(_pc.document['gwidth']), 'jwidth=' + repr(_pc.document['jwidth']), 'imsize=' + repr(_pc.document['imsize']), 'cell=' + repr(_pc.document['cell']), 'phasecenter=' + repr(_pc.document['phasecenter']), 'projection=' + repr(_pc.document['projection']), 'pointingcolumn=' + repr(_pc.document['pointingcolumn']), 'restfreq=' + repr(_pc.document['restfreq']), 'stokes=' + repr(_pc.document['stokes']), 'minweight=' + repr(_pc.document['minweight']), 'brightnessunit=' + repr(_pc.document['brightnessunit']), 'clipminmax=' + repr(_pc.document['clipminmax']) ] )
+            task_result = _tsdimaging_t( _pc.document['infiles'],_pc.document['outfile'],_pc.document['overwrite'],_pc.document['field'],_pc.document['spw'],_pc.document['antenna'],_pc.document['scan'],_pc.document['intent'],_pc.document['timerange'],_pc.document['mode'],_pc.document['nchan'],_pc.document['start'],_pc.document['width'],_pc.document['veltype'],_pc.document['specmode'],_pc.document['outframe'],_pc.document['gridfunction'],_pc.document['convsupport'],_pc.document['truncate'],_pc.document['gwidth'],_pc.document['jwidth'],_pc.document['imsize'],_pc.document['cell'],_pc.document['phasecenter'],_pc.document['projection'],_pc.document['pointingcolumn'],_pc.document['restfreq'],_pc.document['stokes'],_pc.document['minweight'],_pc.document['brightnessunit'],_pc.document['clipminmax'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('tsdimaging')
             casalog.post("Exception Reported: Error in tsdimaging: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'tsdimaging', task_result )
+        return task_result
 
 tsdimaging = _tsdimaging( )
```

## casashell/private/uvcontsub.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_uvcontsub import uvcontsub as _uvcontsub_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -593,15 +595,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('uvcontsub.pre')
         _postfile = os.path.realpath('uvcontsub.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,outputvis,field,spw,scan,intent,array,observation,datacolumn,fitspec,fitmethod,fitorder,writemodel]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -659,24 +661,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _uvcontsub_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['intent'],_pc.document['array'],_pc.document['observation'],_pc.document['datacolumn'],_pc.document['fitspec'],_pc.document['fitmethod'],_pc.document['fitorder'],_pc.document['writemodel'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'uvcontsub', [ 'vis=' + repr(_pc.document['vis']), 'outputvis=' + repr(_pc.document['outputvis']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'scan=' + repr(_pc.document['scan']), 'intent=' + repr(_pc.document['intent']), 'array=' + repr(_pc.document['array']), 'observation=' + repr(_pc.document['observation']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'fitspec=' + repr(_pc.document['fitspec']), 'fitmethod=' + repr(_pc.document['fitmethod']), 'fitorder=' + repr(_pc.document['fitorder']), 'writemodel=' + repr(_pc.document['writemodel']) ] )
+            task_result = _uvcontsub_t( _pc.document['vis'],_pc.document['outputvis'],_pc.document['field'],_pc.document['spw'],_pc.document['scan'],_pc.document['intent'],_pc.document['array'],_pc.document['observation'],_pc.document['datacolumn'],_pc.document['fitspec'],_pc.document['fitmethod'],_pc.document['fitorder'],_pc.document['writemodel'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('uvcontsub')
             casalog.post("Exception Reported: Error in uvcontsub: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'uvcontsub', task_result )
+        return task_result
 
 uvcontsub = _uvcontsub( )
```

## casashell/private/uvcontsub_old.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_uvcontsub_old import uvcontsub_old as _uvcontsub_old_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -454,15 +456,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('uvcontsub_old.pre')
         _postfile = os.path.realpath('uvcontsub_old.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,field,fitspw,excludechans,combine,solint,fitorder,spw,want_cont]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -506,24 +508,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _uvcontsub_old_t( _pc.document['vis'],_pc.document['field'],_pc.document['fitspw'],_pc.document['excludechans'],_pc.document['combine'],_pc.document['solint'],_pc.document['fitorder'],_pc.document['spw'],_pc.document['want_cont'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'uvcontsub_old', [ 'vis=' + repr(_pc.document['vis']), 'field=' + repr(_pc.document['field']), 'fitspw=' + repr(_pc.document['fitspw']), 'excludechans=' + repr(_pc.document['excludechans']), 'combine=' + repr(_pc.document['combine']), 'solint=' + repr(_pc.document['solint']), 'fitorder=' + repr(_pc.document['fitorder']), 'spw=' + repr(_pc.document['spw']), 'want_cont=' + repr(_pc.document['want_cont']) ] )
+            task_result = _uvcontsub_old_t( _pc.document['vis'],_pc.document['field'],_pc.document['fitspw'],_pc.document['excludechans'],_pc.document['combine'],_pc.document['solint'],_pc.document['fitorder'],_pc.document['spw'],_pc.document['want_cont'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('uvcontsub_old')
             casalog.post("Exception Reported: Error in uvcontsub_old: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'uvcontsub_old', task_result )
+        return task_result
 
 uvcontsub_old = _uvcontsub_old( )
```

## casashell/private/uvmodelfit.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_uvmodelfit import uvmodelfit as _uvmodelfit_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -576,15 +578,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('uvmodelfit.pre')
         _postfile = os.path.realpath('uvmodelfit.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,field,spw,selectdata,timerange,uvrange,antenna,scan,msselect,niter,comptype,sourcepar,varypar,outfile]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -639,24 +641,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _uvmodelfit_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['msselect'],_pc.document['niter'],_pc.document['comptype'],_pc.document['sourcepar'],_pc.document['varypar'],_pc.document['outfile'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'uvmodelfit', [ 'vis=' + repr(_pc.document['vis']), 'field=' + repr(_pc.document['field']), 'spw=' + repr(_pc.document['spw']), 'selectdata=' + repr(_pc.document['selectdata']), 'timerange=' + repr(_pc.document['timerange']), 'uvrange=' + repr(_pc.document['uvrange']), 'antenna=' + repr(_pc.document['antenna']), 'scan=' + repr(_pc.document['scan']), 'msselect=' + repr(_pc.document['msselect']), 'niter=' + repr(_pc.document['niter']), 'comptype=' + repr(_pc.document['comptype']), 'sourcepar=' + repr(_pc.document['sourcepar']), 'varypar=' + repr(_pc.document['varypar']), 'outfile=' + repr(_pc.document['outfile']) ] )
+            task_result = _uvmodelfit_t( _pc.document['vis'],_pc.document['field'],_pc.document['spw'],_pc.document['selectdata'],_pc.document['timerange'],_pc.document['uvrange'],_pc.document['antenna'],_pc.document['scan'],_pc.document['msselect'],_pc.document['niter'],_pc.document['comptype'],_pc.document['sourcepar'],_pc.document['varypar'],_pc.document['outfile'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('uvmodelfit')
             casalog.post("Exception Reported: Error in uvmodelfit: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'uvmodelfit', task_result )
+        return task_result
 
 uvmodelfit = _uvmodelfit( )
```

## casashell/private/uvsub.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_uvsub import uvsub as _uvsub_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -238,15 +240,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('uvsub.pre')
         _postfile = os.path.realpath('uvsub.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,reverse]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -271,24 +273,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _uvsub_t( _pc.document['vis'],_pc.document['reverse'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'uvsub', [ 'vis=' + repr(_pc.document['vis']), 'reverse=' + repr(_pc.document['reverse']) ] )
+            task_result = _uvsub_t( _pc.document['vis'],_pc.document['reverse'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('uvsub')
             casalog.post("Exception Reported: Error in uvsub: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'uvsub', task_result )
+        return task_result
 
 uvsub = _uvsub( )
```

## casashell/private/virtualconcat.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_virtualconcat import virtualconcat as _virtualconcat_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -421,15 +423,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('virtualconcat.pre')
         _postfile = os.path.realpath('virtualconcat.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,concatvis,freqtol,dirtol,respectname,visweightscale,keepcopy,copypointing]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -472,24 +474,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _virtualconcat_t( _pc.document['vis'],_pc.document['concatvis'],_pc.document['freqtol'],_pc.document['dirtol'],_pc.document['respectname'],_pc.document['visweightscale'],_pc.document['keepcopy'],_pc.document['copypointing'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'virtualconcat', [ 'vis=' + repr(_pc.document['vis']), 'concatvis=' + repr(_pc.document['concatvis']), 'freqtol=' + repr(_pc.document['freqtol']), 'dirtol=' + repr(_pc.document['dirtol']), 'respectname=' + repr(_pc.document['respectname']), 'visweightscale=' + repr(_pc.document['visweightscale']), 'keepcopy=' + repr(_pc.document['keepcopy']), 'copypointing=' + repr(_pc.document['copypointing']) ] )
+            task_result = _virtualconcat_t( _pc.document['vis'],_pc.document['concatvis'],_pc.document['freqtol'],_pc.document['dirtol'],_pc.document['respectname'],_pc.document['visweightscale'],_pc.document['keepcopy'],_pc.document['copypointing'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('virtualconcat')
             casalog.post("Exception Reported: Error in virtualconcat: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'virtualconcat', task_result )
+        return task_result
 
 virtualconcat = _virtualconcat( )
```

## casashell/private/vishead.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_vishead import vishead as _vishead_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -339,15 +341,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('vishead.pre')
         _postfile = os.path.realpath('vishead.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,mode,listitems,hdkey,hdindex,hdvalue]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -379,24 +381,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _vishead_t( _pc.document['vis'],_pc.document['mode'],_pc.document['listitems'],_pc.document['hdkey'],_pc.document['hdindex'],_pc.document['hdvalue'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'vishead', [ 'vis=' + repr(_pc.document['vis']), 'mode=' + repr(_pc.document['mode']), 'listitems=' + repr(_pc.document['listitems']), 'hdkey=' + repr(_pc.document['hdkey']), 'hdindex=' + repr(_pc.document['hdindex']), 'hdvalue=' + repr(_pc.document['hdvalue']) ] )
+            task_result = _vishead_t( _pc.document['vis'],_pc.document['mode'],_pc.document['listitems'],_pc.document['hdkey'],_pc.document['hdindex'],_pc.document['hdvalue'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('vishead')
             casalog.post("Exception Reported: Error in vishead: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'vishead', task_result )
+        return task_result
 
 vishead = _vishead( )
```

## casashell/private/visstat.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_visstat import visstat as _visstat_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -886,15 +888,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('visstat.pre')
         _postfile = os.path.realpath('visstat.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,axis,datacolumn,useflags,spw,field,selectdata,antenna,uvrange,timerange,correlation,scan,array,observation,timeaverage,timebin,timespan,maxuvwdistance,disableparallel,ddistart,taql,monolithic_processing,intent,reportingaxes,doquantiles]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -972,24 +974,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _visstat_t( _pc.document['vis'],_pc.document['axis'],_pc.document['datacolumn'],_pc.document['useflags'],_pc.document['spw'],_pc.document['field'],_pc.document['selectdata'],_pc.document['antenna'],_pc.document['uvrange'],_pc.document['timerange'],_pc.document['correlation'],_pc.document['scan'],_pc.document['array'],_pc.document['observation'],_pc.document['timeaverage'],_pc.document['timebin'],_pc.document['timespan'],_pc.document['maxuvwdistance'],_pc.document['disableparallel'],_pc.document['ddistart'],_pc.document['taql'],_pc.document['monolithic_processing'],_pc.document['intent'],_pc.document['reportingaxes'],_pc.document['doquantiles'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'visstat', [ 'vis=' + repr(_pc.document['vis']), 'axis=' + repr(_pc.document['axis']), 'datacolumn=' + repr(_pc.document['datacolumn']), 'useflags=' + repr(_pc.document['useflags']), 'spw=' + repr(_pc.document['spw']), 'field=' + repr(_pc.document['field']), 'selectdata=' + repr(_pc.document['selectdata']), 'antenna=' + repr(_pc.document['antenna']), 'uvrange=' + repr(_pc.document['uvrange']), 'timerange=' + repr(_pc.document['timerange']), 'correlation=' + repr(_pc.document['correlation']), 'scan=' + repr(_pc.document['scan']), 'array=' + repr(_pc.document['array']), 'observation=' + repr(_pc.document['observation']), 'timeaverage=' + repr(_pc.document['timeaverage']), 'timebin=' + repr(_pc.document['timebin']), 'timespan=' + repr(_pc.document['timespan']), 'maxuvwdistance=' + repr(_pc.document['maxuvwdistance']), 'disableparallel=' + repr(_pc.document['disableparallel']), 'ddistart=' + repr(_pc.document['ddistart']), 'taql=' + repr(_pc.document['taql']), 'monolithic_processing=' + repr(_pc.document['monolithic_processing']), 'intent=' + repr(_pc.document['intent']), 'reportingaxes=' + repr(_pc.document['reportingaxes']), 'doquantiles=' + repr(_pc.document['doquantiles']) ] )
+            task_result = _visstat_t( _pc.document['vis'],_pc.document['axis'],_pc.document['datacolumn'],_pc.document['useflags'],_pc.document['spw'],_pc.document['field'],_pc.document['selectdata'],_pc.document['antenna'],_pc.document['uvrange'],_pc.document['timerange'],_pc.document['correlation'],_pc.document['scan'],_pc.document['array'],_pc.document['observation'],_pc.document['timeaverage'],_pc.document['timebin'],_pc.document['timespan'],_pc.document['maxuvwdistance'],_pc.document['disableparallel'],_pc.document['ddistart'],_pc.document['taql'],_pc.document['monolithic_processing'],_pc.document['intent'],_pc.document['reportingaxes'],_pc.document['doquantiles'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('visstat')
             casalog.post("Exception Reported: Error in visstat: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'visstat', task_result )
+        return task_result
 
 visstat = _visstat( )
```

## casashell/private/widebandpbcor.py

```diff
@@ -3,14 +3,16 @@
 from __future__ import absolute_import
 from casashell.private.stack_manip import find_local as __sf__
 from casashell.private.stack_manip import find_frame as _find_frame
 from casatools.typecheck import validator as _pc
 from casatools.coercetype import coerce as _coerce
 from casatools.errors import create_error_string
 from casatasks.private.task_widebandpbcor import widebandpbcor as _widebandpbcor_t
+from casatasks.private.task_logging import start_log as _start_log
+from casatasks.private.task_logging import end_log as _end_log
 from collections import OrderedDict
 import numpy
 import sys
 import os
 
 import shutil
 
@@ -551,15 +553,15 @@
         def noobj(s):
            if s.startswith('<') and s.endswith('>'):
                return "None"
            else:
                return s
         _prefile = os.path.realpath('widebandpbcor.pre')
         _postfile = os.path.realpath('widebandpbcor.last')
-        _return_result_ = None
+        task_result = None
         _arguments = [vis,imagename,nterms,threshold,action,reffreq,pbmin,field,spwlist,chanlist,weightlist]
         _invocation_parameters = OrderedDict( )
         if any(map(lambda x: x is not None,_arguments)):
             # invoke python style
             # set the non sub-parameters that are not None
             local_global = { }
             if vis is not None: local_global['vis'] = vis
@@ -604,24 +606,30 @@
                 count = 0
                 for _i in _invocation_parameters:
                     _f.write("%s=%s" % (_i,noobj(repr(_invocation_parameters[_i]))))
                     count += 1
                     if count < len(_invocation_parameters): _f.write(",")
                 _f.write(" )\n")
         except: pass
-        assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
         try:
-            _return_result_ = _widebandpbcor_t( _pc.document['vis'],_pc.document['imagename'],_pc.document['nterms'],_pc.document['threshold'],_pc.document['action'],_pc.document['reffreq'],_pc.document['pbmin'],_pc.document['field'],_pc.document['spwlist'],_pc.document['chanlist'],_pc.document['weightlist'] )
+            _logging_state_ = None
+            assert _pc.validate(_invocation_parameters,self.__schema), create_error_string(_pc.errors)
+            _logging_state_ = _start_log( 'widebandpbcor', [ 'vis=' + repr(_pc.document['vis']), 'imagename=' + repr(_pc.document['imagename']), 'nterms=' + repr(_pc.document['nterms']), 'threshold=' + repr(_pc.document['threshold']), 'action=' + repr(_pc.document['action']), 'reffreq=' + repr(_pc.document['reffreq']), 'pbmin=' + repr(_pc.document['pbmin']), 'field=' + repr(_pc.document['field']), 'spwlist=' + repr(_pc.document['spwlist']), 'chanlist=' + repr(_pc.document['chanlist']), 'weightlist=' + repr(_pc.document['weightlist']) ] )
+            task_result = _widebandpbcor_t( _pc.document['vis'],_pc.document['imagename'],_pc.document['nterms'],_pc.document['threshold'],_pc.document['action'],_pc.document['reffreq'],_pc.document['pbmin'],_pc.document['field'],_pc.document['spwlist'],_pc.document['chanlist'],_pc.document['weightlist'] )
         except Exception as e:
             from traceback import format_exc
             from casatasks import casalog
             casalog.origin('widebandpbcor')
             casalog.post("Exception Reported: Error in widebandpbcor: %s" % str(e),'SEVERE')
             casalog.post(format_exc( ))
-            _return_result_ = False
+            task_result = False
         try:
             os.rename(_prefile,_postfile)
-        except: pass
-        return _return_result_
+        except:
+            pass
+        finally:
+            if _logging_state_:
+                task_result = _end_log( _logging_state_, 'widebandpbcor', task_result )
+        return task_result
 
 widebandpbcor = _widebandpbcor( )
```

## Comparing `casashell-6.5.5.21.dist-info/RECORD` & `casashell-6.5.6.21.dist-info/RECORD`

 * *Files 22% similar despite different names*

```diff
@@ -1,139 +1,140 @@
 casashell/LICENSE.txt,sha256=IEfzsTvSd8f8JBZn3LoATY_RkNKJnAyr2p020oPTVfQ,25454
-casashell/__init__.py,sha256=KBOH_hzf7fPjPqNd3wENzKkqcDXkmEVvQeXFFTO69KM,15013
+casashell/__init__.py,sha256=TeFVzQ0hLj9WViqcn2bP2cQVhlUXNb4X5jK1QK0ZnNY,15013
 casashell/__main__.py,sha256=37MzV-fZsc2XJdbAN9U9-YKMn9TQJLZ-bcQ3nWxLcpY,71
-casashell/private/accor.py,sha256=z7Zlwz2pwjO9yBA9fJnZ0H2oVVFj3Py6F9Mmp-920wc,51873
-casashell/private/apparentsens.py,sha256=47YfxmxJVCUfckuAkQ5upILe60U_uSbVXfGA3dcUkac,53689
-casashell/private/applycal.py,sha256=5_CsN9XTcjrt9lwKV4ldDEjDlGnBBD1Y7R5nXSUEYIc,51133
-casashell/private/asdmsummary.py,sha256=iAY3g0Hru1Zb9XsusxuRyAQ0f6ZEhp1_4lf7XigXB3s,10333
-casashell/private/bandpass.py,sha256=u2oo955ZdS3Is7-1RvjX1lqluSI6Nu5hFGcAQsdL6nA,76986
-casashell/private/blcal.py,sha256=SnG-RY5Xx4qvrXnrsdNbELww_wZyi8EQva8Z7WMkNXg,50605
+casashell/private/accor.py,sha256=9LX8Sqacm8n1MR4fJcQwA02cBuYRyb7qop-2pyLSdOE,53151
+casashell/private/apparentsens.py,sha256=ZCqTCMOGGgwS3wHczHSA9UE9c80LC6gSJfTK693dToI,54829
+casashell/private/applycal.py,sha256=P8N9Bf7oBzrB_7GdIMWAs0b9qeRqTD5-nDFVgn2HvRA,52413
+casashell/private/asdmsummary.py,sha256=OlQd6Q_ihs64_HI1OErkQVohZAEnzth2dhmbh-LB3PI,10733
+casashell/private/bandpass.py,sha256=EvxxsBuWkYv8uwppaFCg6h5YPbhATlQi75CgqjERbdo,78898
+casashell/private/blcal.py,sha256=HGndPtqrk4t6uRTTV8lyAXn5pbLULRUCqKEfBxM_o8c,51917
 casashell/private/builtin_mgr.py,sha256=Kpo9vbYDUuNfiIxCut9LBkQ9fTozcMAxCdd9zwCgxeA,4071
-casashell/private/calstat.py,sha256=6JrP_heaSEmPutsrVuTaWkveguk_SjqsV5sG3_43gTk,14139
-casashell/private/clearcal.py,sha256=XPy88-equA23Bwf3JARHbrQeJcGaQ5ASvKL1Gc9936g,17697
-casashell/private/clearstat.py,sha256=aYE81Q8VW5dMaS0pBq1rDuXhJmIhTQp0a33bXIZRnG4,8223
-casashell/private/concat.py,sha256=QKK31FqSDKU5ILLyhu-z2s8u7lzM5YLKDjde47OH7fc,28026
+casashell/private/calstat.py,sha256=lHb7siVBCvBIpe-RTcX0sPH5U4PB_IbfbXWebisOu3U,14627
+casashell/private/clearcal.py,sha256=kwF64AnHOvof_UzMVYdWdldYGSItbhFoHfaaXQ7UHPE,18253
+casashell/private/clearstat.py,sha256=TTceDVk1WAEDLV0I7chvLsflzauY6Vb_Tvs38AhB3KE,8583
+casashell/private/concat.py,sha256=HU0Fvo-W1XsLR4Sk_2hBULwcNIwNsAx4yxJYL3KP0mk,28830
 casashell/private/config.py,sha256=TvnlliHamLAmwbrPzcdtuUgYGVrtb5XOSnrzA14OYfE,2776
-casashell/private/conjugatevis.py,sha256=EqxJepA2Q4-Ri4gx4bYiKJqvij1nF-QVc2nXmqlKpVE,14566
-casashell/private/cvel.py,sha256=ai-Icav06wcsH_VeKXRi4GG9avG_hOYlyESXnKgIlxQ,49994
-casashell/private/cvel2.py,sha256=ZrikKQJLyAAsiENCfp5sjtyCErUMYE6iNMIg0mJvyAE,61518
-casashell/private/deconvolve.py,sha256=1or5-Yw_3sygt9Oq_9s-48734GRhZ98C-FmJWP0HB5k,83247
-casashell/private/delmod.py,sha256=AW8NHuOQEw56j2zLHIl6HSrTMw3kKBxtNcQkruW0OAE,15177
-casashell/private/exportasdm.py,sha256=yr2TxrftdhbTPKlGPk3QlwhNsTT14j8bA5ubCKzSFUQ,23333
-casashell/private/exportfits.py,sha256=HANvS3ao2K9j2f1VgrR09xwffw0fzPQjht9wz5ZXZ98,26566
-casashell/private/exportuvfits.py,sha256=vw1oTE_n8fvITBmU06cbKjKg5L36BicYlm4H0LAvti4,33817
-casashell/private/feather.py,sha256=86UX1fn2FRP5Hsrdo8xz-ovLsUK_d2DoFMJT8SMdVLo,18842
-casashell/private/fixplanets.py,sha256=CRpl1vCkM-2_U5n10xofDn1JJHnQjqTIlU1ERhNgmaI,19472
-casashell/private/fixvis.py,sha256=PdYqjEICUtHjZLPVQhWw9kttdDwOBGwcDEPhtrVa4Zg,22689
-casashell/private/flagcmd.py,sha256=4NeqrtrfX9xJr7HpVA2NtZHRAsmPHqC4ZauRq9JPQ30,43725
-casashell/private/flagdata.py,sha256=Q3G8p0mpYusyyq4q2Xn0hv0ZKdNPfd3ACBbMk2r2omA,203826
-casashell/private/flagmanager.py,sha256=QGvE-IOpRMR4U_X1DYdt-vw24aCnRcbG-YyZkrYUmJo,19961
-casashell/private/fluxscale.py,sha256=ThIfUR_7EKt6kYzym5Pnx2xmP3J87axCssOdh2ZjTAU,36902
-casashell/private/fringefit.py,sha256=pKadqqzp0kA8pbWzqQCEUVDui1lsxDNzulQFmyl7sTQ,64804
-casashell/private/ft.py,sha256=-6cdai3CWxt9LSJyWnhJqSzeK46rlpXGXh5vDtz8Wvc,23711
-casashell/private/gaincal.py,sha256=-fIt9mVunJXEPpNy_7enkARi7Y_siQMZ1a2WIzi9PdA,81694
-casashell/private/gencal.py,sha256=ra7Gn_hoCnwLEfTJG5en-rDKWn2tbdGj3doOmk2P7r8,37293
-casashell/private/hanningsmooth.py,sha256=ks-7WOsZAJi6__MaqYxbgxyePv41NqvX6qtZ_JWSbcM,37539
-casashell/private/imbaseline.py,sha256=6PaEtdBFNWA90GrDTTHUHjSkgGxvqnte0BR5ldxeltQ,54455
-casashell/private/imcollapse.py,sha256=2WQS9kwEFw3zaDRZ32V9caGE7wEgxlB6p08zWRJ2xs0,27448
-casashell/private/imcontsub.py,sha256=6YiCmUSn14YJ4XjdZ0h5GJFm0yYlsmQ6hd9wU1l_o98,20736
-casashell/private/imdev.py,sha256=eiwQPBCqaekurkrxn2Hk9UIiPX6FaB0V-xjbxJxaWbU,41466
-casashell/private/imfit.py,sha256=_f-IlzvyZtrGsO0ibSUme1XcHzQ54DNoN0VNlzmh-fM,62558
-casashell/private/imhead.py,sha256=im3f33tafnHfKOTHznoTv5YZNlOBcHDCd8hNcoivh5c,20505
-casashell/private/imhistory.py,sha256=Ze71qMQw2bFcgtkaHonpW2mx83HFfp_oN423gLH-jjs,17399
-casashell/private/immath.py,sha256=yoP_lfApjjHTGohZqlj7-fhE_lD8ZVfMq6vJy4ZNpn4,43095
-casashell/private/immoments.py,sha256=ZoMLHL24Sr3bxFJP6FTAnBIm7oqGQB71z21z_x-r3lc,29959
-casashell/private/impbcor.py,sha256=_MBvohx_4rKGzaGczvfEK6zaGIiSvVZkNlaQ9yABD8w,27897
-casashell/private/importasap.py,sha256=Vp34mJxf7YMstZbG6Fy4Rp-nSFjcmnSZpbt6KaT9Xr4,16183
-casashell/private/importasdm.py,sha256=gQzTYIxqr5qWQ33EU4QQ3DHjcR6DjIm5zRZ4Wop18sA,69361
-casashell/private/importatca.py,sha256=dWDM2y-DFlugQ8UAaEZxh0ircsi0jGNWwQ694WBymVU,23816
-casashell/private/importfits.py,sha256=VNSTkc3DxE2Cu3X0x48LkMnVWtRjKsNv7Fr_rDpCydM,23698
-casashell/private/importfitsidi.py,sha256=OdJZU62eTbv2OsAIeUj-OE_goSwUdutezRD0LY2QZGQ,17736
-casashell/private/importgmrt.py,sha256=9kLXBu4roXCUYRMY6qt3MQRM08Cio5Hqiu22BQx5npc,13264
-casashell/private/importmiriad.py,sha256=gfaYlKRjpqsOZLk9JqQYnL2MlkWb9L-FmLS0Qct_EP4,20786
-casashell/private/importnro.py,sha256=ogCT-68M52uQb-7I0jDgBDhvDpZcJqcxxzUhzSfDSpA,14893
-casashell/private/importuvfits.py,sha256=EQGyIsMDQcI_3YW5VwyOM5F28PxrqVhENYTzkRbBw7M,13799
-casashell/private/importvla.py,sha256=7L7X-INi_NU3DgY80y5Y8vYjsi20hxcLtBgcavYoU4w,29365
-casashell/private/impv.py,sha256=hUDD59p7Nn7lgRuUHuOg6_VXGwBBjfUvTFE-4os1yNs,41884
-casashell/private/imrebin.py,sha256=zHHZM3sJA6HJnBehlmXub3BRQygXRyi8W4XoLxF4R5c,29172
-casashell/private/imreframe.py,sha256=xlYl6Z1PheIMo0Uo4QY4KBOHFbBH6qafCV5ZkN_Bhhs,16881
-casashell/private/imregrid.py,sha256=L-Y158AkNsISstgpY6zo3Y6RU1UJAtD6Y22hmQ9a2tg,42877
-casashell/private/imsmooth.py,sha256=5tVjBy-9UUADHs85l0Cr3qakR5qHq_O0fSPVAGcd4xU,43905
-casashell/private/imstat.py,sha256=_YHVSGY2yhaFy-mCfuBxcVGAmCLxZ7d_lE9FHH7CRjM,56658
-casashell/private/imsubimage.py,sha256=-66QdNYFh_RXL63XPDymCiTIUxA4tBoBEmfwaet7UCw,29723
-casashell/private/imtrans.py,sha256=-h06Qsa2hefKmvV55lBtahqW6gwIf_wBi239d9TvKqQ,15458
-casashell/private/imval.py,sha256=6fVLOv3jk1Hp_vsTea64iYKgEvbPJO3NB0lJQ6ujQ5U,19859
+casashell/private/conjugatevis.py,sha256=tZ3h4ukTYQYIP5vPvMKu-o59EgjV0OsHv_--hnX-_1c,15106
+casashell/private/cvel.py,sha256=C2AviOshNKtFBgyndq5zQhRDyLlxDB_Kw_ESYk6WEOc,51212
+casashell/private/cvel2.py,sha256=kMuCJAFrKpbWclbBZAMjYOovPqTDcsJ73aJlp7GK_xY,63010
+casashell/private/deconvolve.py,sha256=FlX1K0wKW2gVAByaWZj4iqgSRQDbaDlSIR1w4vKcfDA,84973
+casashell/private/delmod.py,sha256=V52z_0eX3x3NYT_fKu3Daxi0P-h56JeqMI46mYf_FkE,15677
+casashell/private/exportasdm.py,sha256=KR30LVqxZMPiguBX2SQ6qDB375wqGc7jNnByhgrp7SQ,24115
+casashell/private/exportfits.py,sha256=9PAstUrE2WZ_UBtYehiB2vCTpeTiXzbJwMBkEtBawZI,27474
+casashell/private/exportuvfits.py,sha256=MERl2TmSHnDyW80wbgnFwMsOksQVmaUa4fsqwaCradw,34791
+casashell/private/feather.py,sha256=bvgzn4ntNBUmcHyH7IY5jP2rvc3pMeKSRmxeURqJ_WY,19488
+casashell/private/fixplanets.py,sha256=jhXwTEe9URhaZ1cxomXXoIBYdPjqtyL03xYaAP9mMZg,20084
+casashell/private/fixvis.py,sha256=W1WUqNZiW7DmmzQVk1x0wwUOwvtNUXZWPeyksadVjRA,23399
+casashell/private/flagcmd.py,sha256=OTF20arBSaE-OtlfpW-85Br6m4nyCEikpwBmTcmO_z4,44787
+casashell/private/flagdata.py,sha256=-q0-zewwoIJNEO1kiIWnF9r23Q2bHQJXIH0bbUKplK0,207748
+casashell/private/flagmanager.py,sha256=YMkx29P88-trJq9DRWtqmVbKFIUeArFhhleXzp-ifpg,20577
+casashell/private/fluxscale.py,sha256=8pv8jT6Q2mxjPHXDwK2ZADBRk6psbbWK3kGpM71rlB4,37948
+casashell/private/fringefit.py,sha256=RRH1bu48hYJhjeX3CReYoPS2XofnR9alb7EUNZYB_3w,66650
+casashell/private/ft.py,sha256=0VkG8GC9DRVYl0wjBG_sYoe-U5q_gH4YN8TqkH1bOXc,24441
+casashell/private/gaincal.py,sha256=oxdAbExZk71hAhNRgK71tS7JcxM7ArqxscoDoB7teW8,83752
+casashell/private/gencal.py,sha256=GJRauNEW0WajAtNPR1ofqccgmh0ByzHwjhlqJDHagr4,38211
+casashell/private/hanningsmooth.py,sha256=g2mVWOLgVaCaLAXsCM1OS2as6XEczsT4MjnriDy0sVM,38557
+casashell/private/imbaseline.py,sha256=XQqikE8WSTCYX7aID8gAw6rPW085cOSUuWPZCa2vQ8Q,56039
+casashell/private/imcollapse.py,sha256=vjCyiXER-THC7gwuzh0XZhsP4Ej-6p-RJji61hj27qk,28274
+casashell/private/imcontsub.py,sha256=quorDlZRFKMtMeb4jz8fvqEgZdRHGO1FpagE3DsqAqo,21440
+casashell/private/imdev.py,sha256=FbNnuU7fSjOh77wed_XaN3aRWq15FOQ8jZ1ZWGURBWw,42584
+casashell/private/imfit.py,sha256=sO4bAaeh7p2gXhGNjsiaJs1insc8jJuA1NiN3o7y_lM,63924
+casashell/private/imhead.py,sha256=yt7YqshcXsDe_dOCU_ESUWgsvWJv1m3OD_tgGPP79zU,21071
+casashell/private/imhistory.py,sha256=aN7XdbAsVqKcYK66pUhtfPuoBbW5-NEZWK1jiazQMXE,17973
+casashell/private/immath.py,sha256=rIkzN5fy5jJEeF5z4-w1l8V6fSZchHw39LeFSKpSbFA,44075
+casashell/private/immoments.py,sha256=sr2WE_IcUnw0-LpcOaGZuXHx-O1E6qlH1GZ5amJ6x7Q,30833
+casashell/private/impbcor.py,sha256=7VkZMKzszI185GPQ7H0kHX7bTXMkYPG_jyl8hkb5cnA,28757
+casashell/private/importasap.py,sha256=CiipRHxBstkbr1bw2TcHKoEFcyEc_i1RlFmGEEmInes,16777
+casashell/private/importasdm.py,sha256=zf8uUW5CXubk0UaPML_a-4UqbhjcykjiQnrCiTMHTm4,71249
+casashell/private/importatca.py,sha256=mWFGwW2jgGt0hDZxDsQetQ5vtvwK4A0eyzEIA-L-yk8,24544
+casashell/private/importfits.py,sha256=2GrB8QhD2jRel_YgXje8w2khQMma7ap478LdE3He4Gc,24498
+casashell/private/importfitsidi.py,sha256=geZnB2rMtZVmxAplXQYG6LaCz56erlhsixayh16sNRg,18350
+casashell/private/importgmrt.py,sha256=HtYzoFWSPT1tjYzR07sA-zZYpR2VJGcsQvejz48O9bk,13752
+casashell/private/importmiriad.py,sha256=rWtnmGO0qc_OSEcK0NvMtZEBZai9cd0cdvFEa1pcX2M,21462
+casashell/private/importnro.py,sha256=jsB3egVWonrdz-cGlRTPeGpCd4Fg0rrQYmo3aKJR5X0,15435
+casashell/private/importuvfits.py,sha256=VIlDBC1m-iMJNyYfdkHHzbQEQsd8f9jvOUmDmfMTsH8,14301
+casashell/private/importvla.py,sha256=q0FETXb50q2Sn0l_VWHLTpMpjovYxpE84-078IkS144,30299
+casashell/private/impv.py,sha256=SriiFGhqI7iQlRnVqs8xLV5jwbQe99rWg4xv7OxY_00,42888
+casashell/private/imrebin.py,sha256=wc3_kiq-OLM0NUU_6U5wuwD1HviRVPACKEnoJL357ko,30032
+casashell/private/imreframe.py,sha256=GXClDneq7xmGYd5Mo1ZFsZ4sHn0EFBcdVejqVnfQCPI,17461
+casashell/private/imregrid.py,sha256=amC78bdu-ypvMbi6Kuoy7kJ0TxYbJENdi2VVWVJFRXU,43695
+casashell/private/imsmooth.py,sha256=RYDV1eRDREnpCDELcH5BcVAvOVF98o-1k4qIDatSfw8,44967
+casashell/private/imstat.py,sha256=VWgM3BnB8bTXHiaXvwif9o8EjueIqnihWueMy5E1CWg,57852
+casashell/private/imsubimage.py,sha256=66YBEuYfCzvlVEwA9jt439tA3BzWCsGuRrbgq-cy8ZQ,30599
+casashell/private/imtrans.py,sha256=L_ZKC0C8twmZcak5HLwKBpNisejEboWRtO7arlo7bk8,15944
+casashell/private/imval.py,sha256=E7Kg4XQePNtgFBnCmsSjUik9Kc9EI-bJxdvjbHK4yd0,20417
 casashell/private/init_begin_startup.py,sha256=6OTYnAhzSDWZTcQHt6ESPLviiZ5VigeTPsp2DOakgmg,169
 casashell/private/init_doc.py,sha256=8zsjyaJZhVvcX07lOByQCpJsKo9vb6AJgm9zG7SHrhs,12535
 casashell/private/init_pipeline.py,sha256=bEoo7f8JegyK008vexONLG0i1FZKNQL_sK_srrgUhA0,455
 casashell/private/init_subparam.py,sha256=rgKk35Csn-P2cuQ1fFt4RCINoo4EVgNG6_f059iFa0E,4037
 casashell/private/init_system.py,sha256=UBkXxv6dU9E_OQB2Onu4xpsDunDULrkeLAB1IGmlMTU,8588
 casashell/private/init_welcome.py,sha256=r_kKsQxW9G3bLasJu8a5eCjUOUVJD_sOdincR3-5rFU,1027
-casashell/private/initweights.py,sha256=Wc9v6WVTTNkQc_ujZoY9EDXCqcAZJxjkKRGYnWIrm_Q,23833
-casashell/private/listcal.py,sha256=EI03aLYXh-8pUoW88ifjHnW1_I7gcmz3Ooq_ljJjJ5E,30598
-casashell/private/listfits.py,sha256=JVc7RWcKptBdoeeqlN52Vzzk89KHe5vy1s8LXH42YB4,10182
-casashell/private/listhistory.py,sha256=l6ofMZAX1Y_Zdlj79O2ZKLjROEbHosVj7Y-8kMfmcs4,10144
-casashell/private/listobs.py,sha256=R6pp53UK_xAnEwRcGMX--CyUZLTWTPGw1EvCcPQkm-E,42804
-casashell/private/listpartition.py,sha256=4jIyI-IfFNqq0iHz5bR28WdlmGwfc7OZNUPNN3D6j7w,15480
-casashell/private/listsdm.py,sha256=Jd0qW3kLYjo4JblRkttehzlGGK7B5oLeST9vBN_I50Q,10997
-casashell/private/listvis.py,sha256=7F9ah6B_cn-CwdlwQOEhjHnn9Sk1PD8XIU0j_pwY6_A,42532
-casashell/private/load_tasks.py,sha256=S2gSdxlD6G4UVx1_UFDRMbyN83zCvunegQkTZXoNsEc,9815
+casashell/private/initweights.py,sha256=-ZwKTSqR34E8RnYKRZSekeF3xyQSiH_8nzc49rSvcIQ,24495
+casashell/private/listcal.py,sha256=BUAezsDnZKh5bQ8hDKi8cbcAsk0NRrBUSxHH3u1cXoA,31246
+casashell/private/listfits.py,sha256=5kfR0cPfHsgrR4Cv1zn0rh7F2-triYkKRdxR_7hcXa0,10584
+casashell/private/listhistory.py,sha256=3UmmxBeErqeEt8E4s1WnkPPT9euZt_5iWDz8dzSkTws,10542
+casashell/private/listobs.py,sha256=3mJLMd7gMhUErcXTHRIDRSV0fKk2XkHe-Z-8ayK6TcE,43950
+casashell/private/listpartition.py,sha256=_eChlss4Pic4uUA-fc-k6PqVH9f2hdxY_b2g5Jhsoqc,15978
+casashell/private/listsdm.py,sha256=OrMi3MGmRhksu6fcbwULKF0Toyz3DYO7ylxycdMqHNg,11387
+casashell/private/listvis.py,sha256=HzffbqmvD1CZhzMDuNREZzCuiycP6B8dLJyRbPeSSjk,43682
+casashell/private/load_tasks.py,sha256=PD24GDOZNehSfMGdRuewJOKvwH5uBK_JtWAsRtfMxcc,9889
 casashell/private/load_tools.py,sha256=q_MyLQDS7PBO_6VnwQ1pX4GpJ8yEqwfgjt3FBKeMYYM,2900
-casashell/private/makemask.py,sha256=AkAYleoOmZ1r45wL_T8RfQNDxEdcw_ox8ndg5qP-9jI,31139
-casashell/private/mstransform.py,sha256=eZIZTRa5jWK_GEkoxv4xIFZAxKCDfXqzSf-8CpwZ9zE,125346
-casashell/private/nrobeamaverage.py,sha256=vB3e2N07-hXpO6TTq_zaRImzxHjtmBtXxQBuLKodKUs,23226
-casashell/private/partition.py,sha256=v1xQuuLqTWFVjeNsXUpTrm6ozxwzo8e-IGt2ooZWlzc,51167
-casashell/private/phaseshift.py,sha256=g6nnWo5s8zWM3VcsGQ8Ql7-14HHZ_YVyC4LddfEpT_c,28062
-casashell/private/plotants.py,sha256=PE_RvUgH5cnVVWE4UQ9a3gDurQPMRVbxP1NIyWeo6Ag,21437
-casashell/private/plotbandpass.py,sha256=UNbOkgw5bHfUnH9MCTPXPVN7bCqU5HFU-VK-dFQFIFc,94703
-casashell/private/plotprofilemap.py,sha256=E2pn0Nw6__Qip-vxX-aqj7V7noOsU5b3tQeD8CtvlwI,42230
-casashell/private/plotweather.py,sha256=ttqRSjOa1j0kJOntbzzh5eKYMILYI7O22yv5ASD6ZCQ,15096
-casashell/private/polcal.py,sha256=ZKNxmj6KdlQF6_rsLCXzekhddTI_PiQsMvJo6Gu_cXI,60884
-casashell/private/polfromgain.py,sha256=xykYQjQBw0LYfQKNmSvOOs-dX6-hlj_D9LkzloU_D5s,14525
-casashell/private/predictcomp.py,sha256=4TX3YS5DSADBP_pS0vcPAT6yEXlIlivcQc-PgHnRAnM,33063
-casashell/private/rerefant.py,sha256=b52yDt-6NwHshyyHW3nD2HgOh03QmoZZnDjhHITzNsw,16231
-casashell/private/rmfit.py,sha256=0tKcnezGFKGulr7r2BDWA45yF7a1ybar_ELpNLquogE,29004
-casashell/private/rmtables.py,sha256=v1Qq0h7mCvfGkMXDS311TbBVgiTmTCXcp9RMcxLUFno,10257
-casashell/private/sdatmcor.py,sha256=5--Xbw5yRUvLYr-FQZqxGJ9JvMtBQVWZgr0udAAPfGA,65536
-casashell/private/sdbaseline.py,sha256=1PnvlSKZQezxZwp-SjmLSkyW_f1ffR1ohPLJMNlVfFs,88767
-casashell/private/sdcal.py,sha256=67-IpN9IOkJTLfhM10tIn4FjfHAntZIBjQIk6SqT1Ig,49062
-casashell/private/sdfit.py,sha256=5LlAcdDfEmo9RwH3W2v_97sIjLut1gQqACxcg-QLIto,47597
-casashell/private/sdfixscan.py,sha256=37x7u2QTzswwyCtmkP6Ndz3isTdlsfppzuSfVUw6dQY,30087
-casashell/private/sdgaincal.py,sha256=JZNKgRIetxr5zvx_tFiZL6Qm2gQ1M91WmOzOTaeCcGY,36372
-casashell/private/sdimaging.py,sha256=-MjfR7zENaKAihJM8gWd-gC-OQt71CdNMmEHYA2RlpM,72810
-casashell/private/sdintimaging.py,sha256=VLAX1E4QMVhqnuR-u2ufq6ZL9Mj3O9X7sqcBjCWOXnI,269089
-casashell/private/sdpolaverage.py,sha256=UVr0jC81Z2MJMyutegOTSUR8EPgPWJgVSjBTQleqH2s,25933
-casashell/private/sdsidebandsplit.py,sha256=hd0I3bX3egmnz5pIXDA3h9d_9b8aRPJrRjN48f2oE3s,25664
-casashell/private/sdsmooth.py,sha256=HIfakh4-pQTng1UyhVGmwbBNWcdreLn67yz_mUscNF0,31843
-casashell/private/sdtimeaverage.py,sha256=WuNvIflv0E49pUnrBmN8-fZf3xIhgggIrLnqIka3zOE,25450
-casashell/private/setjy.py,sha256=GaZUMf85BYz53mYbvLvmsdqV9h3Cv5YZPygLfGl8juk,64130
-casashell/private/simalma.py,sha256=Mm-q55z4InjRiOczQmvtoScfh3OYhSupvIFN2aaxM7k,64611
-casashell/private/simanalyze.py,sha256=dBtZn-E4m7f9vFG0uNkm_4i7yDgozXKZs7yHplXQLzg,68690
-casashell/private/simobserve.py,sha256=f2d6WYu28qET9gNusnMf_7wJreK9D-6-cuTyCM_T9NA,83187
-casashell/private/slsearch.py,sha256=BmUbLVxy0ePSJJ-J7Jqp4Q0livIlAUeuijd9OVStS70,36583
-casashell/private/smoothcal.py,sha256=0mr7mmu7HEqWzeXJMPO6F-q_Zbt0Bnai3oGZ4Vz33M8,18114
-casashell/private/specfit.py,sha256=Vdk9MdsmSpFkZ9zVL-NBGbRNK62ctvYA5CkMpWGjpZ8,111355
-casashell/private/specflux.py,sha256=BhP7LiU5vueluPXQ5048chQFSiiG8i908lg3VNcOb0Q,31134
-casashell/private/specsmooth.py,sha256=q2c-5tcy1Nh8z2BNwlDcCvKm6UU1liY9wdHvX1YhqTg,35647
-casashell/private/splattotable.py,sha256=bfnn9ImDpCKO-vZEoyZKTNgRN2h7of8u56mqYvuK9b0,11933
-casashell/private/split.py,sha256=y7wTLpB4HYgB1XmVcSfYhUwF-lpy7TBfNWWCLVKiQ5E,47103
-casashell/private/spxfit.py,sha256=XHC_C8gPIXS5sYSeQqtRvPPjcKPcXWS0yGsqC4izfPo,58278
+casashell/private/makemask.py,sha256=aefiPitJqIBR8hrH5Revj-0m-meQnLZbL_XnTJGtIQo,31805
+casashell/private/mstransform.py,sha256=MVMdYuQreAWhymO4vedVKST-8w6xdUgrXGwS_DCHsDI,128280
+casashell/private/msuvbin.py,sha256=taKcrErzeT7ELiaaqzPUrKO2HNf22t4fY-30SHFHAXA,36266
+casashell/private/nrobeamaverage.py,sha256=zyVL8erA27Rx3GTMz8nKYAyVhAzhQbQsBs0n456AiwU,23974
+casashell/private/partition.py,sha256=r27B0Zxl86pMcF_AECColD3OsSeFtIZX60aNU3W1eDY,52479
+casashell/private/phaseshift.py,sha256=uwTJv_zmfADbkULYAS4ZK-9ECk3FGx5H_bHJU3vIag8,28900
+casashell/private/plotants.py,sha256=6WZ7-uqgHeTWEa_iAXksMxl99FajeptrhTuTr-jXw00,22147
+casashell/private/plotbandpass.py,sha256=kdjDJMyng8yk2hI5VEk7pfzLS8St2MBGnfHQhWwqhzk,97387
+casashell/private/plotprofilemap.py,sha256=u1MjRzlRMurJnhn-d5wpbg7ZnMK97UC8bHROIJ0iA2g,43566
+casashell/private/plotweather.py,sha256=aqAkWRArgahndOQYA4BZHpmDF6aHhxvIVgLhtH-RRf4,15642
+casashell/private/polcal.py,sha256=4nC-77sRCPlQ3HybQeNG2M3N0CCcpgternEFh7Fj4HM,62418
+casashell/private/polfromgain.py,sha256=teRXYAD5V1HzC2jI__RwK_pyCP1Wfx4b2xcyXMrtPG0,15059
+casashell/private/predictcomp.py,sha256=Zj0RpckdF7E3Q10VzMsRKzHq-A8E79Lilh36r3Elpvs,34103
+casashell/private/rerefant.py,sha256=mONmFX9qhij3udcFSOKf0Z7lRBZ6bpPSnHJ70mTqjkc,16805
+casashell/private/rmfit.py,sha256=8dhUVsIY_o1uE1Kpo3h9ifJSAq12p9t4pm7gqmvuo5o,29800
+casashell/private/rmtables.py,sha256=ZwopUbv5BEhMB84xVQYxmuWa65yEC9-n5yPr3RpDQAQ,10663
+casashell/private/sdatmcor.py,sha256=8aD5TaW1ND5-7gslePiWG-DM_ingHZ0fT79H-gy_FYY,67198
+casashell/private/sdbaseline.py,sha256=EXIslaFdjMKahZ8NboTeA-3B8hvQ8nW2CNakvNMSzVI,90821
+casashell/private/sdcal.py,sha256=lEL20L_qlGczdZMqlbHIjLike5FbDRZFQkcI70WooBM,50052
+casashell/private/sdfit.py,sha256=MKtR0RPIa9cyIy2fKbMtgNNC42ZQ8Bq-CwuT9CyVEn4,48855
+casashell/private/sdfixscan.py,sha256=1bCgFWo_-M6pAltSssnWdoCoegh4Ln762tcGzWsTfrk,30931
+casashell/private/sdgaincal.py,sha256=8p-ezqOsjdYdKGxUkx_svuJ_hoBcamfLEx2rAmnO1FU,37326
+casashell/private/sdimaging.py,sha256=VVMxIY_AbKh3JDqrFdo8ceZJhbRrx6-0_sULjZiGiNo,74578
+casashell/private/sdintimaging.py,sha256=jEM5zkyZ8fUv5BxFgqnY8fWckg6LOwP5WiRdtGp8BAU,273693
+casashell/private/sdpolaverage.py,sha256=cxUKTtwrWEDbyrjtPsBYv5pi4edTtks65Md7ZROw9T8,26731
+casashell/private/sdsidebandsplit.py,sha256=0ocRq4397S1JxKI0HJCQQtOH8Kldr_-yTgaEiJVIiZM,26510
+casashell/private/sdsmooth.py,sha256=hqVmMd8G7MXqAIhYTWMY81ECf9NkX8jQvJ88sVPg87g,32795
+casashell/private/sdtimeaverage.py,sha256=nsF28HO8sB7nQ-uZEtA_LdjxQTRJ6U-bV-FrIe0V7lQ,26248
+casashell/private/setjy.py,sha256=DoFEkMcohYYEx68quMIqSBlJSwBl9VUE1-YuKUwEjbc,65524
+casashell/private/simalma.py,sha256=phATK0_XhQEJbj8FtV5Ogg_TkIXRstaWQUlYkfUz45Q,66329
+casashell/private/simanalyze.py,sha256=m_aJJ9VlTnEm-rS7xUq3cS9F_JCVfzqEsxdmoCkw2i8,70530
+casashell/private/simobserve.py,sha256=y5J8gbLwNB0QxDiEy-102Qbb7JakWy6eamkDZM1UBqo,85183
+casashell/private/slsearch.py,sha256=aomkbRYl_KMyvzI1JeNw5SyYwEqucnO28T8Y8jxNfw4,37667
+casashell/private/smoothcal.py,sha256=EfLihlTylmXejwr5GW9EbgD-1fha6isFm_g_IFNDYM0,18738
+casashell/private/specfit.py,sha256=om8JwBoDSWWeDiogp9WlOPfcgqK4E0C49U7Nrbbp8B4,113725
+casashell/private/specflux.py,sha256=O2pKJlIR2BqHh9TAY0I6LxhV7dC3aduj4D14AzQCh1I,32036
+casashell/private/specsmooth.py,sha256=5jPNFS0HKC_hURg7uwHgUV41WuigAXkc4i4YloyoxOE,36557
+casashell/private/splattotable.py,sha256=2G3QbQ8eYFjNyNAOdRQG32-zrz-oQZCsMdJDAgPAX3A,12385
+casashell/private/split.py,sha256=-OAuFcYFQ32HOfkXRQ8-Wa_15Fa-q6rrnR6-sWLL330,48281
+casashell/private/spxfit.py,sha256=OHMuXOlv49gf-I4m4-u6WgPOcDEbS1zWOK5fPUSx9kc,59652
 casashell/private/stack_manip.py,sha256=TxkYtwD4GbUC2ZvBa4cu2HAQ7dV3h-wiCX8k2cYsCj8,869
-casashell/private/statwt.py,sha256=brkshjMGk6cquuXUdlcjD3cWpDzuBQrkYljfQGGmLzY,60345
-casashell/private/tclean.py,sha256=Gq99_EYqjt_5BXkBzaOPfk03jKxObgaMLnVZcuSjojI,296231
-casashell/private/testconcat.py,sha256=zIDMwoUep17Sk_JdLuZWhg8j-PzkeleMgiHX9HQjiGU,17250
-casashell/private/tsdimaging.py,sha256=0UkQ0gd_rzmocp5o_4fBlTWhQte_8NRQBVTh1kUGGpc,76425
+casashell/private/statwt.py,sha256=VzZc5ZuFtS6-uQUrGaNv4qAXiRJWeBZOXh7NlZOjKzo,61797
+casashell/private/tclean.py,sha256=8ZGLijYv49r3erTcq7cXFKsdnNYfLIu_eWHGwW58t0Y,301009
+casashell/private/testconcat.py,sha256=GZZBrgWrN1wGo1WMu1vvNUFXRpN3v3_8tNmYbQeo4tU,17842
+casashell/private/tsdimaging.py,sha256=-29U6IVbap-AyZ5TY38o70YAAx3ojNRTb0EafMFo05k,78183
 casashell/private/userconfig.py,sha256=F7tO1iPkKc9Zj36AYNvx0nYnRsi5fVzgurnTk53aKko,1851
-casashell/private/uvcontsub.py,sha256=mhuVe5WR1UILVjyF-4TwlF2kYzsg_YQN37SDWGORuEk,34651
-casashell/private/uvcontsub_old.py,sha256=IK2Fph2Pb_c6r2uteW8w74tx_AuNQpGo2Uy_tVBGutw,26294
-casashell/private/uvmodelfit.py,sha256=DhF5Hoz5N99GYdkRU-BoaTg5_4m1djiKZpU3wr_5Ynw,33350
-casashell/private/uvsub.py,sha256=61ZcTb61NHHu----h4BocepJy2iCs7hTSLKFjOvz2RA,12415
-casashell/private/virtualconcat.py,sha256=lI0CT_XW5tyxmS9CCtYeFsPVVTQpfzJ_qPpxH1fBIIs,24791
-casashell/private/vishead.py,sha256=M_jeY6a4R4BbbVXUjM4aUKtfD-E6PrYuTM2dA0oJnCQ,19793
-casashell/private/visstat.py,sha256=mW1onKBPPEQ2npUJK8fSIWd1ErnW5d-te1YuStiepmo,54956
-casashell/private/widebandpbcor.py,sha256=nAT0uTovgbHgdbq7IxT03208DP7sX3q95d9T0OdqvVU,32353
+casashell/private/uvcontsub.py,sha256=ocZ_qsyLJQgddlHZZ8uD9qSNy1AsXsg13sa0qIA6o1c,35579
+casashell/private/uvcontsub_old.py,sha256=k0fcctyNdQkz8gQrcyb1RCb7KZvWrrFc-UwP78pPxKM,27048
+casashell/private/uvmodelfit.py,sha256=ZzRQWWgH_TbVUL24j_YdgpOhJ1iT9X76xvy6czbJapk,34314
+casashell/private/uvsub.py,sha256=bbWlQ7vetRw_F4NOFQHpan2CBmDJ3Rx5x61nj0p-XlU,12845
+casashell/private/virtualconcat.py,sha256=NG25eX_T42XMAykYYwebiBBdRi1TMyk9HJ99ZU1m5CU,25537
+casashell/private/vishead.py,sha256=lHDd0phGC094Xaf3g3rFM8vzjEaZ0GCTpdl43wneoYk,20397
+casashell/private/visstat.py,sha256=ZtTpvHqxNJq9zNfez9in9ckir2S1IIKiIPYmTz2a3ew,56490
+casashell/private/widebandpbcor.py,sha256=fXw9z1c_AwU4XDjgsZIszsgYMxnbclXjgEJjpGitzS8,33199
 casashell/private/ttconfig/casataskrc.py,sha256=juW-t-7f9rz4LtkJ7j1Hi1zpDjZ5i-_uOvFKh33SIeM,2133
 casashell/private/ttconfig/casatoolrc.py,sha256=1xLRWHaZsR9ilPJGfJH8mFy3uXGs73ijI7TEoROnTFQ,1880
-casashell-6.5.5.21.dist-info/METADATA,sha256=q3DRBx6pGF_Ypm47N2O24QS3K2GupXf9KZmxKe84cd4,710
-casashell-6.5.5.21.dist-info/WHEEL,sha256=EVRjI69F5qVjm_YgqcTXPnTAv3BfSUr0WVAHuSP3Xoo,92
-casashell-6.5.5.21.dist-info/top_level.txt,sha256=Gn_39xMzFor22wcrMrG5A1RxRRsZG2H1QRKLueke_pE,10
-casashell-6.5.5.21.dist-info/RECORD,,
+casashell-6.5.6.21.dist-info/METADATA,sha256=Sh12WCZpMmJ18KlwibVh474-68tu4AbwsZL8ICMrQVk,690
+casashell-6.5.6.21.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+casashell-6.5.6.21.dist-info/top_level.txt,sha256=Gn_39xMzFor22wcrMrG5A1RxRRsZG2H1QRKLueke_pE,10
+casashell-6.5.6.21.dist-info/RECORD,,
```

